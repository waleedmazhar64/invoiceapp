(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./$$_lazy_route_resource lazy recursive":
/*!******************************************************!*\
  !*** ./$$_lazy_route_resource lazy namespace object ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"../additem-expenses/additem-expenses.module": [
		"./src/app/pages/additem-expenses/additem-expenses.module.ts",
		"additem-expenses-additem-expenses-module"
	],
	"../additem-items/additem-items.module": [
		"./src/app/pages/additem-items/additem-items.module.ts",
		"additem-items-additem-items-module"
	],
	"../additem-time/additem-time.module": [
		"./src/app/pages/additem-time/additem-time.module.ts",
		"additem-time-additem-time-module"
	],
	"../clients/clients.module": [
		"./src/app/pages/clients/clients.module.ts",
		"default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755",
		"common",
		"clients-clients-module"
	],
	"../credit-memos/credit-memos.module": [
		"./src/app/pages/credit-memos/credit-memos.module.ts",
		"credit-memos-credit-memos-module"
	],
	"../dashboard/dashboard.module": [
		"./src/app/pages/dashboard/dashboard.module.ts",
		"dashboard-dashboard-module"
	],
	"../expenses/expenses.module": [
		"./src/app/pages/expenses/expenses.module.ts",
		"common",
		"expenses-expenses-module"
	],
	"../invoice/invoice.module": [
		"./src/app/pages/invoice/invoice.module.ts",
		"default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755",
		"default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1",
		"common",
		"invoice-invoice-module"
	],
	"../items/items.module": [
		"./src/app/pages/items/items.module.ts",
		"items-items-module"
	],
	"../purchased-orders/purchased-orders.module": [
		"./src/app/pages/purchased-orders/purchased-orders.module.ts",
		"default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755",
		"default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1",
		"common",
		"purchased-orders-purchased-orders-module"
	],
	"../reports/reports.module": [
		"./src/app/pages/reports/reports.module.ts",
		"reports-reports-module"
	],
	"../settings/settings.module": [
		"./src/app/pages/settings/settings.module.ts",
		"settings-settings-module"
	],
	"../trash-credit-memos/trash-credit-memos.module": [
		"./src/app/pages/trash-credit-memos/trash-credit-memos.module.ts",
		"trash-credit-memos-trash-credit-memos-module"
	],
	"../trash-invoices/trash-invoices.module": [
		"./src/app/pages/trash-invoices/trash-invoices.module.ts",
		"default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755",
		"default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1",
		"trash-invoices-trash-invoices-module"
	],
	"../trash-purchased-orders/trash-purchased-orders.module": [
		"./src/app/pages/trash-purchased-orders/trash-purchased-orders.module.ts",
		"default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755",
		"default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1",
		"common",
		"trash-purchased-orders-trash-purchased-orders-module"
	],
	"../vendors/vendors.module": [
		"./src/app/pages/vendors/vendors.module.ts",
		"common",
		"vendors-vendors-module"
	],
	"./pages/add-client-clients/add-client-clients.module": [
		"./src/app/pages/add-client-clients/add-client-clients.module.ts",
		"common",
		"pages-add-client-clients-add-client-clients-module"
	],
	"./pages/add-client/add-client.module": [
		"./src/app/pages/add-client/add-client.module.ts",
		"default~pages-add-client-add-client-module~pages-client-client-module~pages-menu-addclient-menu-addc~2a6f6930",
		"pages-add-client-add-client-module"
	],
	"./pages/add-item/add-item.module": [
		"./src/app/pages/add-item/add-item.module.ts",
		"pages-add-item-add-item-module"
	],
	"./pages/addcreditmemos/addcreditmemos.module": [
		"./src/app/pages/addcreditmemos/addcreditmemos.module.ts",
		"pages-addcreditmemos-addcreditmemos-module"
	],
	"./pages/addinvoice/addinvoice.module": [
		"./src/app/pages/addinvoice/addinvoice.module.ts",
		"common",
		"pages-addinvoice-addinvoice-module"
	],
	"./pages/additem/additem.module": [
		"./src/app/pages/additem/additem.module.ts",
		"pages-additem-additem-module"
	],
	"./pages/addpurchasedorder/addpurchasedorder.module": [
		"./src/app/pages/addpurchasedorder/addpurchasedorder.module.ts",
		"pages-addpurchasedorder-addpurchasedorder-module"
	],
	"./pages/client/client.module": [
		"./src/app/pages/client/client.module.ts",
		"default~pages-add-client-add-client-module~pages-client-client-module~pages-menu-addclient-menu-addc~2a6f6930",
		"pages-client-client-module"
	],
	"./pages/comment/comment.module": [
		"./src/app/pages/comment/comment.module.ts",
		"pages-comment-comment-module"
	],
	"./pages/credit-memo-info/credit-memo-info.module": [
		"./src/app/pages/credit-memo-info/credit-memo-info.module.ts",
		"common",
		"pages-credit-memo-info-credit-memo-info-module"
	],
	"./pages/dashboard-invoices/dashboard-invoices.module": [
		"./src/app/pages/dashboard-invoices/dashboard-invoices.module.ts",
		"default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755",
		"default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1",
		"pages-dashboard-invoices-dashboard-invoices-module"
	],
	"./pages/dashboard/dashboard.module": [
		"./src/app/pages/dashboard/dashboard.module.ts",
		"dashboard-dashboard-module"
	],
	"./pages/edit-item/edit-item.module": [
		"./src/app/pages/edit-item/edit-item.module.ts",
		"pages-edit-item-edit-item-module"
	],
	"./pages/expenses/editexpense/editexpense.module": [
		"./src/app/pages/expenses/editexpense/editexpense.module.ts",
		"common",
		"pages-expenses-editexpense-editexpense-module"
	],
	"./pages/invoice-info/invoice-info.module": [
		"./src/app/pages/invoice-info/invoice-info.module.ts",
		"common",
		"pages-invoice-info-invoice-info-module"
	],
	"./pages/invoicedetails/invoicedetails.module": [
		"./src/app/pages/invoicedetails/invoicedetails.module.ts",
		"default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755",
		"default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1",
		"common",
		"pages-invoicedetails-invoicedetails-module"
	],
	"./pages/itemamount/itemamount.module": [
		"./src/app/pages/itemamount/itemamount.module.ts",
		"pages-itemamount-itemamount-module"
	],
	"./pages/landing/landing.module": [
		"./src/app/pages/landing/landing.module.ts",
		"pages-landing-landing-module"
	],
	"./pages/login/login.module": [
		"./src/app/pages/login/login.module.ts",
		"pages-login-login-module"
	],
	"./pages/menu-addclient/menu-addclient.module": [
		"./src/app/pages/menu-addclient/menu-addclient.module.ts",
		"default~pages-add-client-add-client-module~pages-client-client-module~pages-menu-addclient-menu-addc~2a6f6930",
		"pages-menu-addclient-menu-addclient-module"
	],
	"./pages/menu-additem/menu-additem.module": [
		"./src/app/pages/menu-additem/menu-additem.module.ts",
		"default~pages-add-client-add-client-module~pages-client-client-module~pages-menu-addclient-menu-addc~2a6f6930",
		"pages-menu-additem-menu-additem-module"
	],
	"./pages/menu-clientdetails/menu-clientdetails.module": [
		"./src/app/pages/menu-clientdetails/menu-clientdetails.module.ts",
		"common",
		"pages-menu-clientdetails-menu-clientdetails-module"
	],
	"./pages/menu-editclient/menu-editclient.module": [
		"./src/app/pages/menu-editclient/menu-editclient.module.ts",
		"default~pages-add-client-add-client-module~pages-client-client-module~pages-menu-addclient-menu-addc~2a6f6930",
		"pages-menu-editclient-menu-editclient-module"
	],
	"./pages/menu-edititem/menu-edititem.module": [
		"./src/app/pages/menu-edititem/menu-edititem.module.ts",
		"default~pages-add-client-add-client-module~pages-client-client-module~pages-menu-addclient-menu-addc~2a6f6930",
		"pages-menu-edititem-menu-edititem-module"
	],
	"./pages/menu-itemdetails/menu-itemdetails.module": [
		"./src/app/pages/menu-itemdetails/menu-itemdetails.module.ts",
		"pages-menu-itemdetails-menu-itemdetails-module"
	],
	"./pages/menu/menu.module": [
		"./src/app/pages/menu/menu.module.ts",
		"pages-menu-menu-module"
	],
	"./pages/new-expense/new-expense.module": [
		"./src/app/pages/new-expense/new-expense.module.ts",
		"common",
		"pages-new-expense-new-expense-module"
	],
	"./pages/notifications/notifications.module": [
		"./src/app/pages/notifications/notifications.module.ts",
		"pages-notifications-notifications-module"
	],
	"./pages/payment-info/payment-info.module": [
		"./src/app/pages/payment-info/payment-info.module.ts",
		"default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf",
		"common",
		"pages-payment-info-payment-info-module"
	],
	"./pages/purchase-order-info/purchase-order-info.module": [
		"./src/app/pages/purchase-order-info/purchase-order-info.module.ts",
		"common",
		"pages-purchase-order-info-purchase-order-info-module"
	],
	"./pages/purchased-orders/podetails/podetails.module": [
		"./src/app/pages/purchased-orders/podetails/podetails.module.ts",
		"default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755",
		"common",
		"pages-purchased-orders-podetails-podetails-module"
	],
	"./pages/settings/defaultcomment/defaultcomment.module": [
		"./src/app/pages/settings/defaultcomment/defaultcomment.module.ts",
		"pages-settings-defaultcomment-defaultcomment-module"
	],
	"./pages/vendors/add/add.module": [
		"./src/app/pages/vendors/add/add.module.ts",
		"default~pages-add-client-add-client-module~pages-client-client-module~pages-menu-addclient-menu-addc~2a6f6930",
		"pages-vendors-add-add-module"
	],
	"./pages/vendors/vendor-edit/vendor-edit.module": [
		"./src/app/pages/vendors/vendor-edit/vendor-edit.module.ts",
		"default~pages-add-client-add-client-module~pages-client-client-module~pages-menu-addclient-menu-addc~2a6f6930",
		"pages-vendors-vendor-edit-vendor-edit-module"
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./$$_lazy_route_resource lazy recursive";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./node_modules/@ionic/core/dist/esm lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm lazy ^\.\/.*\.entry\.js$ include: \.entry\.js$ exclude: \.system\.entry\.js$ namespace object ***!
  \*****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./ion-action-sheet-controller_8.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-action-sheet-controller_8.entry.js",
		"common",
		0
	],
	"./ion-action-sheet-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-action-sheet-ios.entry.js",
		"common",
		1
	],
	"./ion-action-sheet-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-action-sheet-md.entry.js",
		"common",
		2
	],
	"./ion-alert-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-alert-ios.entry.js",
		"common",
		3
	],
	"./ion-alert-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-alert-md.entry.js",
		"common",
		4
	],
	"./ion-app_8-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-app_8-ios.entry.js",
		"common",
		5
	],
	"./ion-app_8-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-app_8-md.entry.js",
		"common",
		6
	],
	"./ion-avatar_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-avatar_3-ios.entry.js",
		"common",
		7
	],
	"./ion-avatar_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-avatar_3-md.entry.js",
		"common",
		8
	],
	"./ion-back-button-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-back-button-ios.entry.js",
		"common",
		9
	],
	"./ion-back-button-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-back-button-md.entry.js",
		"common",
		10
	],
	"./ion-backdrop-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-backdrop-ios.entry.js",
		11
	],
	"./ion-backdrop-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-backdrop-md.entry.js",
		12
	],
	"./ion-button_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-button_2-ios.entry.js",
		"common",
		13
	],
	"./ion-button_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-button_2-md.entry.js",
		"common",
		14
	],
	"./ion-card_5-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-card_5-ios.entry.js",
		"common",
		15
	],
	"./ion-card_5-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-card_5-md.entry.js",
		"common",
		16
	],
	"./ion-checkbox-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-checkbox-ios.entry.js",
		"common",
		17
	],
	"./ion-checkbox-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-checkbox-md.entry.js",
		"common",
		18
	],
	"./ion-chip-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-chip-ios.entry.js",
		"common",
		19
	],
	"./ion-chip-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-chip-md.entry.js",
		"common",
		20
	],
	"./ion-col_3.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-col_3.entry.js",
		21
	],
	"./ion-datetime_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-datetime_3-ios.entry.js",
		"common",
		22
	],
	"./ion-datetime_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-datetime_3-md.entry.js",
		"common",
		23
	],
	"./ion-fab_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-fab_3-ios.entry.js",
		"common",
		24
	],
	"./ion-fab_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-fab_3-md.entry.js",
		"common",
		25
	],
	"./ion-img.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-img.entry.js",
		26
	],
	"./ion-infinite-scroll_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-infinite-scroll_2-ios.entry.js",
		"common",
		27
	],
	"./ion-infinite-scroll_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-infinite-scroll_2-md.entry.js",
		"common",
		28
	],
	"./ion-input-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-input-ios.entry.js",
		"common",
		29
	],
	"./ion-input-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-input-md.entry.js",
		"common",
		30
	],
	"./ion-item-option_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-item-option_3-ios.entry.js",
		"common",
		31
	],
	"./ion-item-option_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-item-option_3-md.entry.js",
		"common",
		32
	],
	"./ion-item_8-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-item_8-ios.entry.js",
		"common",
		33
	],
	"./ion-item_8-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-item_8-md.entry.js",
		"common",
		34
	],
	"./ion-loading-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-loading-ios.entry.js",
		"common",
		35
	],
	"./ion-loading-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-loading-md.entry.js",
		"common",
		36
	],
	"./ion-menu_4-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-menu_4-ios.entry.js",
		"common",
		37
	],
	"./ion-menu_4-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-menu_4-md.entry.js",
		"common",
		38
	],
	"./ion-modal-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-modal-ios.entry.js",
		"common",
		39
	],
	"./ion-modal-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-modal-md.entry.js",
		"common",
		40
	],
	"./ion-nav_5.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-nav_5.entry.js",
		"common",
		41
	],
	"./ion-popover-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-popover-ios.entry.js",
		"common",
		42
	],
	"./ion-popover-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-popover-md.entry.js",
		"common",
		43
	],
	"./ion-progress-bar-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-progress-bar-ios.entry.js",
		"common",
		44
	],
	"./ion-progress-bar-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-progress-bar-md.entry.js",
		"common",
		45
	],
	"./ion-radio_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-radio_2-ios.entry.js",
		"common",
		46
	],
	"./ion-radio_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-radio_2-md.entry.js",
		"common",
		47
	],
	"./ion-range-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-range-ios.entry.js",
		"common",
		48
	],
	"./ion-range-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-range-md.entry.js",
		"common",
		49
	],
	"./ion-refresher_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-refresher_2-ios.entry.js",
		"common",
		50
	],
	"./ion-refresher_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-refresher_2-md.entry.js",
		"common",
		51
	],
	"./ion-reorder_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-reorder_2-ios.entry.js",
		"common",
		52
	],
	"./ion-reorder_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-reorder_2-md.entry.js",
		"common",
		53
	],
	"./ion-ripple-effect.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-ripple-effect.entry.js",
		54
	],
	"./ion-route_4.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-route_4.entry.js",
		"common",
		55
	],
	"./ion-searchbar-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-searchbar-ios.entry.js",
		"common",
		56
	],
	"./ion-searchbar-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-searchbar-md.entry.js",
		"common",
		57
	],
	"./ion-segment_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-segment_2-ios.entry.js",
		"common",
		58
	],
	"./ion-segment_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-segment_2-md.entry.js",
		"common",
		59
	],
	"./ion-select_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-select_3-ios.entry.js",
		"common",
		60
	],
	"./ion-select_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-select_3-md.entry.js",
		"common",
		61
	],
	"./ion-slide_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-slide_2-ios.entry.js",
		62
	],
	"./ion-slide_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-slide_2-md.entry.js",
		63
	],
	"./ion-spinner.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-spinner.entry.js",
		"common",
		64
	],
	"./ion-split-pane-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-split-pane-ios.entry.js",
		65
	],
	"./ion-split-pane-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-split-pane-md.entry.js",
		66
	],
	"./ion-tab-bar_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-tab-bar_2-ios.entry.js",
		"common",
		67
	],
	"./ion-tab-bar_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-tab-bar_2-md.entry.js",
		"common",
		68
	],
	"./ion-tab_2.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-tab_2.entry.js",
		"common",
		69
	],
	"./ion-text.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-text.entry.js",
		"common",
		70
	],
	"./ion-textarea-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-textarea-ios.entry.js",
		"common",
		71
	],
	"./ion-textarea-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-textarea-md.entry.js",
		"common",
		72
	],
	"./ion-toast-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-toast-ios.entry.js",
		"common",
		73
	],
	"./ion-toast-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-toast-md.entry.js",
		"common",
		74
	],
	"./ion-toggle-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-toggle-ios.entry.js",
		"common",
		75
	],
	"./ion-toggle-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-toggle-md.entry.js",
		"common",
		76
	],
	"./ion-virtual-scroll.entry.js": [
		"./node_modules/@ionic/core/dist/esm/ion-virtual-scroll.entry.js",
		77
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./node_modules/@ionic/core/dist/esm lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-SG": "./node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "./node_modules/moment/locale/en-SG.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/app.component.html":
/*!**************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/app.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-app>\n  <ion-router-outlet></ion-router-outlet>\n</ion-app>\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/pages/addpurchasedorder/addpurchasedorder.page.html":
/*!***********************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/pages/addpurchasedorder/addpurchasedorder.page.html ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n    <ion-toolbar color=\"primary\">\n      <div style=\"width: 100%;\">\n        <ion-toolbar color=\"primary\">\n          <ion-label padding slot=\"start\" (click)=\"back()\">Close</ion-label>\n         \n          <!-- <ion-icon padding  name=\"close\" (click)=\"back()\"></ion-icon> -->\n          <!-- <ion-icon padding  slot=\"end\" name=\"share-alt\" (click)=\"share()\"></ion-icon> -->\n          <ion-label padding slot=\"end\" (click)=\"share()\">Save</ion-label>\n        </ion-toolbar>\n      </div>\n      <ion-grid>\n        <ion-row>\n          <ion-col>\n              <div>\n                  <span style=\"float:right;padding-right: 5px; font-size: 150%;\">Purchase Order(s)</span>\n              </div>\n          </ion-col>\n        </ion-row>\n        \n      </ion-grid>\n    \n      <div>\n        <ion-grid >\n          <ion-row>\n            <ion-col>\n              <ion-label item-start style=\"float:left;padding-left: 5px;\"> Dated: {{order.created}}</ion-label>\n            </ion-col>\n            <ion-col>\n              <ion-select style=\"text-align:right;padding-right: 5px;\" placeholder=\"Select Vendor\" appNoArrow no-padding item-start lines=\"none\" interface=\"popover\" name=\"category\" (ionChange)=\"onChange(selectcategory)\"  [selectedText]=\"selectcategory1\" [(ngModel)]=\"selectcategory\"  >\n                <ion-select-option style=\"text-align:right;padding-right: 5px;\" *ngFor=\"let code of raio\" [value]=\"code.value\">\n                 <span style=\"text-align:right;padding-right: 5px;\">{{code.label}}</span>\n                </ion-select-option>\n                </ion-select>        \n            </ion-col>\n           \n          </ion-row>\n        </ion-grid>\n      </div>\n      \n        <!-- <div>\n            <p  style=\"text-align:left;padding-left: 5px;\">\n              Dated: {{order.created}}\n                <span (click)=\"openAlert()\" style=\"float:right;padding-right: 5px;\">\n                    {{ client}}\n                </span>\n               \n            </p>\n            <p  style=\"text-align:left;padding-left: 5px;\">\n               \n                <span  style=\"float:right;padding-right: 5px;\">\n                    {{order.name}}\n                </span>\n            </p>\n           \n        </div> -->\n      \n      </ion-toolbar>\n     \n  \n  </ion-header>\n  \n  <ion-content>\n      <ion-list>\n       \n          <!-- <ion-item (click)=\"openAlert()\">            \n              <ion-avatar slot=\"start\" >\n                  <img src=\"assets/plus.png\">\n                  \n              </ion-avatar>\n              <ion-label>\n                <h2 text-capitalize>{{ client }}</h2>\n              </ion-label>\n             \n          </ion-item>  -->\n          <ion-item (click)=\"addItem()\" *ngIf=\"tempActiveItems.length === 0\">            \n              <ion-avatar slot=\"start\" >\n                  <img src=\"assets/plus.png\">\n                  \n              </ion-avatar>\n              <ion-label>\n                <h2 text-capitalize>Item</h2>\n              </ion-label>\n          </ion-item> \n         \n          <ion-item >\n              <ion-grid>\n                  <ion-row>\n                    <ion-col size=\"2\">\n                      <ion-item no-padding lines=\"none\" style=\"text-align: right;\">\n                          <p class=\"my-label1\"  style=\"font-weight: bold;\"> Qty\n                          </p>\n                      </ion-item>\n                    </ion-col>\n                    <ion-col size=\"6\">\n                      <ion-item lines=\"none\" style=\"text-align: left;\">\n                        <p class=\"my-label1\"  style=\"font-weight: bold;\"> Item(s)\n                        </p>\n                      </ion-item>\n                    </ion-col>\n                    <!-- <ion-col size=\"3\">\n                      <ion-item lines=\"none\" style=\"text-align: right;\">\n                        <p class=\"my-label1\"  style=\"font-weight: bold;\"> Price(PKR)\n                        </p>\n                      </ion-item>\n                    </ion-col> -->\n                    <ion-col size=\"4\">\n                      <ion-item lines=\"none\"style=\"text-align: right;\">\n                          <p class=\"my-label1\"  style=\"font-weight: bold;\">Total</p>\n                          <p class=\"my-label3\"  style=\"font-weight: bold;\">({{currency}})</p>\n                      </ion-item>\n                    </ion-col>\n                  </ion-row>\n              </ion-grid>\n          </ion-item>\n              \n            <ion-list no-padding>\n                <ion-item-sliding  *ngFor=\"let item of tempActiveItems;index as pos\" >\n                    <!-- <ion-item-options side=\"end\">\n                        <ion-item-option color=\"danger\" (click)=\"removeSelected(pos)\">Delete</ion-item-option>\n                      </ion-item-options> -->\n                <ion-item  >\n                <ion-grid>\n                    <ion-row>\n                      <ion-col size=\"2\" >\n                        <ion-item no-padding lines=\"none\">\n                            <!--<ion-icon (click)=\"quantityDecrement(item)\" name=\"remove-circle\" color=\"danger\"></ion-icon>\n                            <ion-label text-center > {{item.Qty}}\n                            </ion-label>\n                            <ion-icon (click)=\"quantityIncrement(item)\" name=\"add-circle\" color=\"success\"></ion-icon>-->\n                            <ion-input (click)=\"clearVal(item)\" class=\"my-label\" (ionInput)=\"updateItem($event,item)\"  maxlength=\"5\"  type=\"tel\" no-padding style=\"border: none;text-align: right;\" [(ngModel)]=\"item.Qty\"></ion-input> \n                        </ion-item>\n                      </ion-col>\n                      <ion-col size=\"7\">\n                        <!--<ion-item  lines=\"none\">\n                            <ion-label  class=\"my-label\" style=\"text-align: left;\" >{{item.Description}}</ion-label>\n                        </ion-item>-->\n                        <ion-item lines=\"none\"style=\"float: left;\">\n                          <p class=\"my-label\"  >{{item.Description}}<span><ion-input (click)=\"clearVal1(item)\" class=\"my-label\" (ionInput)=\"updateTotal($event,item)\"  maxlength=\"5\"  type=\"tel\" no-padding style=\"border: none;text-align: left;max-width: 100%;\" [(ngModel)]=\"item.Cost\">{{item.Qty}}x</ion-input></span></p>\n                      </ion-item>\n                        \n                      </ion-col>\n                      <!--<ion-col  size=\"3\">\n                        <ion-item no-padding lines=\"none\" >\n                             <ion-label text-center >{{item.Rate}}</ion-label> \n                            <ion-input class=\"my-label\" (ionInput)=\"updateTotal($event,item)\"  maxlength=\"5\"  type=\"tel\" no-padding style=\"border: none;text-align: right;\" [(ngModel)]=\"item.Rate\"></ion-input> \n                        </ion-item>\n                      </ion-col>-->\n                      <ion-col size=\"3\">\n                        <!--<ion-item  lines=\"none\">\n                            <ion-label style=\"text-align:right;float:right;\" class=\"my-label\"  >{{item.Qty * item.Rate}}</ion-label>\n                        </ion-item>-->\n                        <ion-item lines=\"none\"style=\"float: right;\">\n                          <p class=\"my-label\"  >{{item.Qty * item.Cost}}</p>\n                      </ion-item>\n                      </ion-col>\n                    </ion-row>\n                </ion-grid>\n                <!-- <ion-label>1</ion-label>\n                <ion-label>1</ion-label>\n                <ion-label text-center style=\"color:royalblue;\">show less</ion-label>\n                <span style=\"float:right;\" class=\"cancel\">\n                    PKR \n                </span> -->\n\n              </ion-item>\n            </ion-item-sliding>\n            </ion-list>   \n            <ion-button *ngIf=\"selectedItems.length > 0\" (click)=\"addItemafter()\" expand=\"block\" text-capitalize=\"false\" fill=\"outline\" size=\"large\" style=\"width: 80%; margin-left: auto;margin-right: auto;border-radius: 50px; --border-radius: 15px;\" >\n                <ion-icon name=\"add-circle-outline\" slot=\"start\"></ion-icon>\n              Item\n            </ion-button>\n          <ion-item color=\"light\">            \n            \n                      <ion-label>\n                              <h3 text-capitalize style=\"padding-left: 5px;\"  class=\"lightgrey\">Subtotal <ion-icon  name=\"pricetag\"></ion-icon></h3>  \n                       </ion-label>\n                       <ion-label>\n                       <span style=\"float:right;\" color=\"dark\">\n                                  {{subtotal | currency:currency:true:\"1.2\"}}\n                          </span>\n                      </ion-label>\n             \n          </ion-item>    \n          <ion-item color=\"light\" (click)=\"discountPrompt()\">            \n                  <ion-label>\n                          <h3 text-capitalize style=\"padding-left: 5px;\" class=\"lightgrey\">Discount</h3>\n                        </ion-label>\n                        <ion-label>\n                            <span style=\"float:right;\" class=\"cancel\">\n                                {{discount | currency:currency:true:\"1.2\"}}\n                            </span>\n                        </ion-label>\n                 \n           </ion-item>\n           <ion-item color=\"dark\">            \n                  <ion-label>\n                          <h1 text-capitalize style=\"padding-left: 5px;font-size: 135%;\">Total</h1>\n                          <!-- <h5 style=\"font-size: 10px;\">Paid:PKR {{payed}}</h5> -->\n                   </ion-label>\n                   <ion-label>\n                            <span style=\"float:right;\" >\n                              <h1 style=\"font-size: 135%\"> {{subtotal - discount | currency:currency:true:\"1.2\"}}</h1> \n                              <!-- <h6 style=\"font-size: 10px;\">Balance Due:PKR {{duepayment}}</h6>  -->\n                            </span>\n                    </ion-label>\n                 \n           </ion-item>  \n           <ion-button (click)=\"presentPrompt()\" expand=\"block\" text-capitalize=\"false\" fill=\"outline\" size=\"large\" style=\"width: 80%; margin-left: auto;margin-right: auto;border-radius: 50px; --border-radius: 15px;\" >Remarks</ion-button>\n           <!-- <ion-list *ngFor=\"let item of images;index as pos\">\n               <ion-item >\n                  <ion-thumbnail slot=\"start\">\n                      <ion-img [src]=\"item.path\"></ion-img>\n                    </ion-thumbnail>\n                    <ion-label>\n                      Attachment\n                    </ion-label>\n                    <ion-button slot=\"end\" fill=\"clear\" (click)=\"deleteImage(item, pos)\" class=\"ion-md-time\">\n                      <ion-icon slot=\"icon-only\" name=\"trash\"></ion-icon>\n                    </ion-button>\n               </ion-item>\n           </ion-list> -->\n           <!-- <ion-button (click)=\"selectImage()\" expand=\"block\" text-capitalize=\"false\" fill=\"outline\" size=\"large\" style=\"width: 80%; margin-left: auto;margin-right: auto;--border-radius: 15px;\"> <ion-icon slot=\"start\" name=\"attach\"></ion-icon>Attachments</ion-button> -->\n\n</ion-list>\n  </ion-content>\n  "

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");



const routes = [
    { path: '', redirectTo: '/menu/dashboard', pathMatch: 'full' },
    // { path: 'home', loadChildren: () => import('./home/home.module').then( m => m.HomePageModule)},
    { path: 'login', loadChildren: './pages/login/login.module#LoginPageModule' },
    { path: 'menu', loadChildren: './pages/menu/menu.module#MenuPageModule' },
    // { path: 'invoice', loadChildren: './pages/invoice/invoice.module#InvoicePageModule' },
    { path: 'landing', loadChildren: './pages/landing/landing.module#LandingPageModule' },
    { path: 'dashboard', loadChildren: './pages/dashboard/dashboard.module#DashboardPageModule' },
    { path: 'invoice-info', loadChildren: './pages/invoice-info/invoice-info.module#InvoiceInfoPageModule' },
    { path: 'client', loadChildren: './pages/client/client.module#ClientPageModule' },
    { path: 'invoicedetails', loadChildren: './pages/invoicedetails/invoicedetails.module#InvoicedetailsPageModule' },
    { path: 'addinvoice', loadChildren: './pages/addinvoice/addinvoice.module#AddinvoicePageModule' },
    { path: 'add-client', loadChildren: './pages/add-client/add-client.module#AddClientPageModule' },
    { path: 'add-item', loadChildren: './pages/add-item/add-item.module#AddItemPageModule' },
    { path: 'comment', loadChildren: './pages/comment/comment.module#CommentPageModule' },
    { path: 'additem', loadChildren: './pages/additem/additem.module#AdditemPageModule' },
    { path: 'add-client-clients', loadChildren: './pages/add-client-clients/add-client-clients.module#AddClientClientsPageModule' },
    { path: 'itemamount', loadChildren: './pages/itemamount/itemamount.module#ItemamountPageModule' },
    { path: 'edit-item', loadChildren: './pages/edit-item/edit-item.module#EditItemPageModule' },
    { path: 'menu-editclient', loadChildren: './pages/menu-editclient/menu-editclient.module#MenuEditclientPageModule' },
    { path: 'menu-clientdetails', loadChildren: './pages/menu-clientdetails/menu-clientdetails.module#MenuClientdetailsPageModule' },
    { path: 'menu-addclient', loadChildren: './pages/menu-addclient/menu-addclient.module#MenuAddclientPageModule' },
    { path: 'menu-additem', loadChildren: './pages/menu-additem/menu-additem.module#MenuAdditemPageModule' },
    { path: 'menu-edititem', loadChildren: './pages/menu-edititem/menu-edititem.module#MenuEdititemPageModule' },
    { path: 'menu-itemdetails', loadChildren: './pages/menu-itemdetails/menu-itemdetails.module#MenuItemdetailsPageModule' },
    { path: 'new-expense', loadChildren: './pages/new-expense/new-expense.module#NewExpensePageModule' },
    { path: 'payment-info', loadChildren: './pages/payment-info/payment-info.module#PaymentInfoPageModule' },
    // { path: 'trash-purchased-orders', loadChildren: './pages/trash-purchased-orders/trash-purchased-orders.module#TrashPurchasedOrdersPageModule' },
    { path: 'addpurchasedorder', loadChildren: './pages/addpurchasedorder/addpurchasedorder.module#AddpurchasedorderPageModule' },
    { path: 'purchase-order-info', loadChildren: './pages/purchase-order-info/purchase-order-info.module#PurchaseOrderInfoPageModule' },
    { path: 'addcreditmemos', loadChildren: './pages/addcreditmemos/addcreditmemos.module#AddcreditmemosPageModule' },
    { path: 'credit-memo-info', loadChildren: './pages/credit-memo-info/credit-memo-info.module#CreditMemoInfoPageModule' },
    { path: 'notifications', loadChildren: './pages/notifications/notifications.module#NotificationsPageModule' },
    { path: 'dashboard-invoices', loadChildren: './pages/dashboard-invoices/dashboard-invoices.module#DashboardInvoicesPageModule' },
    { path: 'defaultcomment', loadChildren: './pages/settings/defaultcomment/defaultcomment.module#DefaultcommentPageModule' },
    { path: 'editexpense', loadChildren: './pages/expenses/editexpense/editexpense.module#EditexpensePageModule' },
    { path: 'add', loadChildren: './pages/vendors/add/add.module#AddPageModule' },
    { path: 'vendor-edit', loadChildren: './pages/vendors/vendor-edit/vendor-edit.module#VendorEditPageModule' },
    { path: 'podetails', loadChildren: './pages/purchased-orders/podetails/podetails.module#PodetailsPageModule' },
    /*{
      path: 'addvendor',
      loadChildren: () => import('./pages/addpurchasedorder/addvendor/addvendor.module').then( m => m.AddvendorPageModule)
    }*/
    {
        path: 'ledger',
        loadChildren: () => Promise.all(/*! import() | pages-ledger-ledger-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("common"), __webpack_require__.e("pages-ledger-ledger-module")]).then(__webpack_require__.bind(null, /*! ./pages/ledger/ledger.module */ "./src/app/pages/ledger/ledger.module.ts")).then(m => m.LedgerPageModule)
    },
    {
        path: 'payment-info-vendors',
        loadChildren: () => Promise.all(/*! import() | pages-payment-info-vendors-payment-info-vendors-module */[__webpack_require__.e("common"), __webpack_require__.e("pages-payment-info-vendors-payment-info-vendors-module")]).then(__webpack_require__.bind(null, /*! ./pages/payment-info-vendors/payment-info-vendors.module */ "./src/app/pages/payment-info-vendors/payment-info-vendors.module.ts")).then(m => m.PaymentInfoVendorsPageModule)
    },
    {
        path: 'ledgers-vendors',
        loadChildren: () => Promise.all(/*! import() | pages-ledgers-vendors-ledgers-vendors-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("common"), __webpack_require__.e("pages-ledgers-vendors-ledgers-vendors-module")]).then(__webpack_require__.bind(null, /*! ./pages/ledgers-vendors/ledgers-vendors.module */ "./src/app/pages/ledgers-vendors/ledgers-vendors.module.ts")).then(m => m.LedgersVendorsPageModule)
    },
    {
        path: 'trash-invoices',
        loadChildren: () => Promise.all(/*! import() | pages-trash-invoices-trash-invoices-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("trash-invoices-trash-invoices-module")]).then(__webpack_require__.bind(null, /*! ./pages/trash-invoices/trash-invoices.module */ "./src/app/pages/trash-invoices/trash-invoices.module.ts")).then(m => m.TrashInvoicesPageModule)
    },
    {
        path: 'day',
        loadChildren: () => Promise.all(/*! import() | pages-reports-day-day-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("common"), __webpack_require__.e("pages-reports-day-day-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/day/day.module */ "./src/app/pages/reports/day/day.module.ts")).then(m => m.DayPageModule)
    },
    {
        path: 'month',
        loadChildren: () => Promise.all(/*! import() | pages-reports-month-month-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("pages-reports-month-month-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/month/month.module */ "./src/app/pages/reports/month/month.module.ts")).then(m => m.MonthPageModule)
    },
    {
        path: 'customer',
        loadChildren: () => Promise.all(/*! import() | pages-reports-customer-customer-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("common"), __webpack_require__.e("pages-reports-customer-customer-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/customer/customer.module */ "./src/app/pages/reports/customer/customer.module.ts")).then(m => m.CustomerPageModule)
    },
    {
        path: 'item',
        loadChildren: () => Promise.all(/*! import() | pages-reports-item-item-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("common"), __webpack_require__.e("pages-reports-item-item-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/item/item.module */ "./src/app/pages/reports/item/item.module.ts")).then(m => m.ItemPageModule)
    },
    {
        path: 'expensejournal',
        loadChildren: () => Promise.all(/*! import() | pages-reports-expensejournal-expensejournal-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("common"), __webpack_require__.e("pages-reports-expensejournal-expensejournal-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/expensejournal/expensejournal.module */ "./src/app/pages/reports/expensejournal/expensejournal.module.ts")).then(m => m.ExpensejournalPageModule)
    },
    {
        path: 'expensecategory',
        loadChildren: () => Promise.all(/*! import() | pages-reports-expensecategory-expensecategory-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("pages-reports-expensecategory-expensecategory-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/expensecategory/expensecategory.module */ "./src/app/pages/reports/expensecategory/expensecategory.module.ts")).then(m => m.ExpensecategoryPageModule)
    },
    {
        path: 'customeraging',
        loadChildren: () => Promise.all(/*! import() | pages-reports-customeraging-customeraging-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("pages-reports-customeraging-customeraging-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/customeraging/customeraging.module */ "./src/app/pages/reports/customeraging/customeraging.module.ts")).then(m => m.CustomeragingPageModule)
    },
    {
        path: 'year',
        loadChildren: () => Promise.all(/*! import() | pages-reports-year-year-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("pages-reports-year-year-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/year/year.module */ "./src/app/pages/reports/year/year.module.ts")).then(m => m.YearPageModule)
    },
    {
        path: 'quarter',
        loadChildren: () => Promise.all(/*! import() | pages-reports-quarter-quarter-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("pages-reports-quarter-quarter-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/quarter/quarter.module */ "./src/app/pages/reports/quarter/quarter.module.ts")).then(m => m.QuarterPageModule)
    },
    {
        path: 'customerstatement',
        loadChildren: () => Promise.all(/*! import() | pages-reports-customerstatement-customerstatement-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("common"), __webpack_require__.e("pages-reports-customerstatement-customerstatement-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/customerstatement/customerstatement.module */ "./src/app/pages/reports/customerstatement/customerstatement.module.ts")).then(m => m.CustomerstatementPageModule)
    },
    {
        path: 'outstanding',
        loadChildren: () => Promise.all(/*! import() | pages-outstanding-outstanding-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("pages-outstanding-outstanding-module")]).then(__webpack_require__.bind(null, /*! ./pages/outstanding/outstanding.module */ "./src/app/pages/outstanding/outstanding.module.ts")).then(m => m.OutstandingPageModule)
    },
    {
        path: 'printer-list-modal',
        loadChildren: () => Promise.all(/*! import() | pages-printer-list-modal-printer-list-modal-module */[__webpack_require__.e("common"), __webpack_require__.e("pages-printer-list-modal-printer-list-modal-module")]).then(__webpack_require__.bind(null, /*! ./pages/printer-list-modal/printer-list-modal.module */ "./src/app/pages/printer-list-modal/printer-list-modal.module.ts")).then(m => m.PrinterListModalPageModule)
    },
];
let AppRoutingModule = class AppRoutingModule {
};
AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes, { preloadingStrategy: _angular_router__WEBPACK_IMPORTED_MODULE_2__["PreloadAllModules"] })
        ],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]]
    })
], AppRoutingModule);



/***/ }),

/***/ "./src/app/app.component.scss":
/*!************************************!*\
  !*** ./src/app/app.component.scss ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm2015/ionic-storage.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic-native/google-plus/ngx */ "./node_modules/@ionic-native/google-plus/ngx/index.js");
/* harmony import */ var _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic-native/network/ngx */ "./node_modules/@ionic-native/network/ngx/index.js");
/* harmony import */ var src_app_services_sync_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/services/sync.service */ "./src/app/services/sync.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");











let AppComponent = class AppComponent {
    constructor(platform, splashScreen, statusBar, storage, router, datePipe, googleplus, network, syncService, location, events, alrtCtrl, nav, ngzone, googlePlus) {
        this.platform = platform;
        this.splashScreen = splashScreen;
        this.statusBar = statusBar;
        this.storage = storage;
        this.router = router;
        this.datePipe = datePipe;
        this.googleplus = googleplus;
        this.network = network;
        this.syncService = syncService;
        this.location = location;
        this.events = events;
        this.alrtCtrl = alrtCtrl;
        this.nav = nav;
        this.ngzone = ngzone;
        this.googlePlus = googlePlus;
        this.initializeApp();
    }
    initializeApp() {
        this.platform.ready().then(() => {
            this.platform.backButton.subscribeWithPriority(0, () => {
                debugger;
                if (this.routerOutlet && this.routerOutlet.canGoBack()) {
                    this.routerOutlet.pop();
                }
                else if (this.router.url === '/menu/clients') {
                    // or if that doesn't work, try
                    this.shareALert("Warning", '', 'Are you sure you want to exit app?');
                }
                else {
                    this.ngzone.run(() => {
                        this.events.publish('refreshClients', 'saad2', '');
                        this.router.navigate(['/menu/clients']);
                    });
                }
                if (this.router.url === '/menu-clientdetails' || this.router.url === '/invoicedetails' || this.router.url === '/editexpense') {
                    this.events.publish('refreshLogs', 'saad2', '');
                }
                if (this.router.url === '/menu-addclient' || this.router.url === '/menu-editclient') {
                    this.events.publish('refreshClients', 'saad2', '');
                    this.events.publish('refreshClientsOrder', 'saad2', '');
                }
                if (this.router.url === '/vendor-edit') {
                    this.events.publish('refreshVendors', 'saad2', '');
                    this.events.publish('refreshLogs', 'saad2', '');
                }
                // else {
                //   alert('Do you want to exit the app?')
                //   // this.generic.showAlert("Exit", "Do you want to exit the app?", this.onYesHandler, this.onNoHandler, "backPress");
                // }
            });
            this.storage.set('app', 'adnan');
            this.statusBar.styleDefault();
            this.storage.get('ID').then((val) => {
                if (val !== null) {
                    this.router.navigate(['/menu/clients']);
                    this.splashScreen.hide();
                    if (this.network.type === 'none') {
                        // alert('not connected');
                    }
                    else {
                        this.syncService.syncLocalToServer();
                        // alert('connected');
                    }
                }
                else {
                    this.router.navigate(['/menu/dashboard']);
                    this.splashScreen.hide();
                }
            });
        });
    }
    // checkLogin()
    // {
    //   this.googleplus.trySilentLogin({})
    //  .then(res => {
    //     console.log(res);
    //     }
    // )
    // .catch(err => console.error(err));
    // }
    shareALert(head, sub, msg) {
        this.alrtCtrl.create({
            header: head,
            subHeader: sub,
            message: msg,
            cssClass: 'alertSize',
            buttons: [
                {
                    text: 'Exit',
                    cssClass: 'customClass',
                    role: 'cancel',
                    handler: () => {
                        console.log('yes');
                        // this.deleteClient();
                        this.logout();
                        // navigator['app'].exitApp();
                    }
                },
                {
                    text: 'Cancel',
                    handler: () => {
                        console.log('Confirm Ok');
                    }
                }
            ]
        }).then(alert => alert.present());
    }
    logout() {
        this.googlePlus.trySilentLogin({})
            .then(res => {
            console.log(res);
            this.googlePlus.logout()
                .then(res => {
                console.log(res);
                this.acttype = 'You Signed Out from app';
                this.AddLog();
                this.userId = '';
                this.storage.set('ID', null);
                this.storage.get('ID').then((val) => {
                    console.log('After logout:' + val);
                });
                navigator['app'].exitApp();
            })
                .catch(err => console.error(err));
        })
            .catch(err => console.error(err));
    }
    AddLog() {
        //this.name = 'Purchased Order';
        let now = new Date().toString();
        const a = this.datePipe.transform(now, 'dd MMM yyyy h:mm a');
        this.lgdate = 'at ' + a;
        this.tblName = '';
        this.tblId = 0;
        this.name = '';
        // this.tblId = this.PO.ID;
        // this.tblId = this.syncService.getUpdatedPOID();
        this.tblName, this.tblId, this.usdId, this.acttype, this.name, this.lgdate;
        this.syncService.addLogs(this.tblName, this.tblId, this.usdId, this.acttype, this.name, this.lgdate).then(data => {
            console.log("Log has been added");
            this.syncService.syncAddedLog();
            //this.GetLogs();
        });
    }
};
AppComponent.ctorParameters = () => [
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"] },
    { type: _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_3__["SplashScreen"] },
    { type: _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_4__["StatusBar"] },
    { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_5__["Storage"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"] },
    { type: _angular_common__WEBPACK_IMPORTED_MODULE_10__["DatePipe"] },
    { type: _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_7__["GooglePlus"] },
    { type: _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_8__["Network"] },
    { type: src_app_services_sync_service__WEBPACK_IMPORTED_MODULE_9__["SyncService"] },
    { type: _angular_common__WEBPACK_IMPORTED_MODULE_10__["PlatformLocation"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Events"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["NgZone"] },
    { type: _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_7__["GooglePlus"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonRouterOutlet"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonRouterOutlet"])
], AppComponent.prototype, "routerOutlet", void 0);
AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-root',
        template: __webpack_require__(/*! raw-loader!./app.component.html */ "./node_modules/raw-loader/index.js!./src/app/app.component.html"),
        styles: [__webpack_require__(/*! ./app.component.scss */ "./src/app/app.component.scss")]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
        _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_3__["SplashScreen"],
        _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_4__["StatusBar"],
        _ionic_storage__WEBPACK_IMPORTED_MODULE_5__["Storage"],
        _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"],
        _angular_common__WEBPACK_IMPORTED_MODULE_10__["DatePipe"],
        _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_7__["GooglePlus"],
        _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_8__["Network"],
        src_app_services_sync_service__WEBPACK_IMPORTED_MODULE_9__["SyncService"],
        _angular_common__WEBPACK_IMPORTED_MODULE_10__["PlatformLocation"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Events"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"],
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["NgZone"],
        _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_7__["GooglePlus"]])
], AppComponent);



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _ionic_native_sqlite_porter_ngx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ionic-native/sqlite-porter/ngx */ "./node_modules/@ionic-native/sqlite-porter/ngx/index.js");
/* harmony import */ var _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ionic-native/sqlite/ngx */ "./node_modules/@ionic-native/sqlite/ngx/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ionic-native/google-plus/ngx */ "./node_modules/@ionic-native/google-plus/ngx/index.js");
/* harmony import */ var _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ionic-native/ionic-webview/ngx */ "./node_modules/@ionic-native/ionic-webview/ngx/index.js");
/* harmony import */ var _ionic_storage___WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ionic/storage/ */ "./node_modules/@ionic/storage/fesm2015/ionic-storage.js");
/* harmony import */ var _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @ionic-native/http/ngx */ "./node_modules/@ionic-native/http/ngx/index.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @ionic-native/network/ngx */ "./node_modules/@ionic-native/network/ngx/index.js");
/* harmony import */ var chartjs_plugin_zoom__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! chartjs-plugin-zoom */ "./node_modules/chartjs-plugin-zoom/dist/chartjs-plugin-zoom.js");
/* harmony import */ var chartjs_plugin_zoom__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(chartjs_plugin_zoom__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var _ionic_native_bluetooth_serial_ngx__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @ionic-native/bluetooth-serial/ngx */ "./node_modules/@ionic-native/bluetooth-serial/ngx/index.js");
/* harmony import */ var _ionic_native_facebook_ngx__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @ionic-native/facebook/ngx */ "./node_modules/@ionic-native/facebook/ngx/index.js");
/* harmony import */ var _pages_addpurchasedorder_addpurchasedorder_page__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./pages/addpurchasedorder/addpurchasedorder.page */ "./src/app/pages/addpurchasedorder/addpurchasedorder.page.ts");













// import { Camera } from '@ionic-native/Camera/ngx';
// import { File } from '@ionic-native/file/ngx';

// import { FilePath } from '@ionic-native/file-path/ngx';

// import { LocalNotifications } from '@ionic-native/local-notifications/ngx';
// import { Contacts } from '@ionic-native/contacts';
// import { Contact, ContactField, ContactName } from '@ionic-native/contacts';

// import { DatePicker } from '@ionic-native/date-picker/ngx';

// import { AndroidFingerprintAuth } from '@ionic-native/android-fingerprint-auth/ngx';
// import { AndroidFingerprintAuth } from '@ionic-native/android-fingerprint-auth';

// import {SocialSharing} from '@ionic-native/social-sharing/ngx';


// import { FileOpener } from '@ionic-native/file-opener/ngx';


let AppModule = class AppModule {
};
AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        declarations: [_app_component__WEBPACK_IMPORTED_MODULE_7__["AppComponent"]],
        entryComponents: [],
        imports: [_angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["BrowserModule"],
            //  DatePickerModule,
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"].forRoot(), _app_routing_module__WEBPACK_IMPORTED_MODULE_8__["AppRoutingModule"], _angular_common_http__WEBPACK_IMPORTED_MODULE_11__["HttpClientModule"], _ionic_storage___WEBPACK_IMPORTED_MODULE_14__["IonicStorageModule"].forRoot()],
        providers: [
            _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_6__["StatusBar"],
            _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_5__["SplashScreen"],
            { provide: _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouteReuseStrategy"], useClass: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicRouteStrategy"] },
            _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_10__["SQLite"],
            _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_17__["Network"],
            _ionic_native_sqlite_porter_ngx__WEBPACK_IMPORTED_MODULE_9__["SQLitePorter"],
            _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_12__["GooglePlus"],
            _ionic_native_bluetooth_serial_ngx__WEBPACK_IMPORTED_MODULE_19__["BluetoothSerial"],
            _ionic_native_facebook_ngx__WEBPACK_IMPORTED_MODULE_20__["Facebook"],
            // FingerprintAIO,
            // AndroidFingerprintAuth,
            // FingerprintAIO,
            // Camera,
            // File,
            _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_13__["WebView"],
            // FilePath,
            // LocalNotifications,
            // Contacts,
            _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_15__["HTTP"],
            // DatePicker,
            _angular_common__WEBPACK_IMPORTED_MODULE_16__["DatePipe"],
            // CallNumber,
            _pages_addpurchasedorder_addpurchasedorder_page__WEBPACK_IMPORTED_MODULE_21__["AddpurchasedorderPage"],
        ],
        bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_7__["AppComponent"]]
    })
], AppModule);



/***/ }),

/***/ "./src/app/pages/addpurchasedorder/addpurchasedorder.page.scss":
/*!*********************************************************************!*\
  !*** ./src/app/pages/addpurchasedorder/addpurchasedorder.page.scss ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".my-label {\n  font-size: 85%;\n}\n\n.my-label1 {\n  font-size: 80%;\n}\n\n.my-label3 {\n  font-size: 65%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWRkcHVyY2hhc2Vkb3JkZXIvQzpcXHdhbXA2NFxcd3d3XFxpbnZvaWNlLnBrL3NyY1xcYXBwXFxwYWdlc1xcYWRkcHVyY2hhc2Vkb3JkZXJcXGFkZHB1cmNoYXNlZG9yZGVyLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvYWRkcHVyY2hhc2Vkb3JkZXIvYWRkcHVyY2hhc2Vkb3JkZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksY0FBQTtBQ0NKOztBRENFO0VBQ0UsY0FBQTtBQ0VKOztBREFFO0VBQ0UsY0FBQTtBQ0dKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYWRkcHVyY2hhc2Vkb3JkZXIvYWRkcHVyY2hhc2Vkb3JkZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm15LWxhYmVsIHtcclxuICAgIGZvbnQtc2l6ZTogODUlO1xyXG4gIH1cclxuICAubXktbGFiZWwxIHtcclxuICAgIGZvbnQtc2l6ZTogODAlO1xyXG4gIH0gXHJcbiAgLm15LWxhYmVsMyB7XHJcbiAgICBmb250LXNpemU6IDY1JTtcclxuICB9XHJcbiAgXHJcbiIsIi5teS1sYWJlbCB7XG4gIGZvbnQtc2l6ZTogODUlO1xufVxuXG4ubXktbGFiZWwxIHtcbiAgZm9udC1zaXplOiA4MCU7XG59XG5cbi5teS1sYWJlbDMge1xuICBmb250LXNpemU6IDY1JTtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/pages/addpurchasedorder/addpurchasedorder.page.ts":
/*!*******************************************************************!*\
  !*** ./src/app/pages/addpurchasedorder/addpurchasedorder.page.ts ***!
  \*******************************************************************/
/*! exports provided: AddpurchasedorderPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddpurchasedorderPage", function() { return AddpurchasedorderPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _ionic_native_file_path_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/file-path/ngx */ "./node_modules/@ionic-native/file-path/ngx/index.js");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
/* harmony import */ var _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/ionic-webview/ngx */ "./node_modules/@ionic-native/ionic-webview/ngx/index.js");
/* harmony import */ var _ionic_native_Camera_ngx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic-native/Camera/ngx */ "./node_modules/@ionic-native/Camera/ngx/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var src_app_services_database_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/services/database.service */ "./src/app/services/database.service.ts");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm2015/ionic-storage.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ionic-native/http/ngx */ "./node_modules/@ionic-native/http/ngx/index.js");
/* harmony import */ var src_app_services_sync_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! src/app/services/sync.service */ "./src/app/services/sync.service.ts");
/* harmony import */ var _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @ionic-native/network/ngx */ "./node_modules/@ionic-native/network/ngx/index.js");


















// import { type } from '';
const STORAGE_KEY = 'po_images';
let AddpurchasedorderPage = class AddpurchasedorderPage {
    constructor(location, alrtCtrl, router, toastController, storage, loadingController, ref, filePath, datePipe, events, file, webview, actionSheetController, camera, plt, http, databaseprovider, nativeHttp, alertCtrl, syncService, network, nav) {
        this.location = location;
        this.alrtCtrl = alrtCtrl;
        this.router = router;
        this.toastController = toastController;
        this.storage = storage;
        this.loadingController = loadingController;
        this.ref = ref;
        this.filePath = filePath;
        this.datePipe = datePipe;
        this.events = events;
        this.file = file;
        this.webview = webview;
        this.actionSheetController = actionSheetController;
        this.camera = camera;
        this.plt = plt;
        this.http = http;
        this.databaseprovider = databaseprovider;
        this.nativeHttp = nativeHttp;
        this.alertCtrl = alertCtrl;
        this.syncService = syncService;
        this.network = network;
        this.nav = nav;
        this.order = {
            created: '',
            name: 'PO1',
            terms: 'Issued'
        };
        this.message = '';
        this.client = 'Select Vendor';
        this.email = '';
        this.add1 = '';
        this.add2 = '';
        this.add3 = '';
        this.shippingTo = '';
        this.sAdd1 = '';
        this.sAdd2 = '';
        this.sAdd3 = '';
        this.selectedItems = [];
        this.subtotal = 0;
        this.discount = 0;
        this.total = 0;
        this.payed = 0;
        this.duepayment = 0;
        this.selectedVendorSync = 0;
        this.time = new Date();
        this.currentDate = new Date().toString();
        this.info = '';
        this.data = [
        // {
        //   no: '1',
        //   date: '10/28/2019',
        //  amount: '10.00'
        //  }
        ];
        this.selectcategory = 'Select Vendor';
        this.vendors = [];
        this.activeVendors = [];
        this.tempActiveVendors = [];
        this.raio = [];
        this.selectedVendorID = '';
        this.selectedVendorName = '';
        this.items = [];
        this.activeItems = [];
        this.tempActiveItems = [
            {
                itemid: '',
                AccountId: '',
                Description: '',
                Rate: 0,
                Cost: 0,
                Active: '',
                Qty: 0,
                Sync: 0,
            }
        ];
        this.currency = '';
        this.storage.get('userId').then((val) => {
            this.usdId = val;
            console.log(this.usdId);
        });
        storage.get('currency').then((val) => {
            if (val !== null) {
                this.currency = val.toString();
                debugger;
            }
        });
        debugger;
        this.url = this.router.url;
        this.order.created = this.datePipe.transform(this.currentDate, 'dd MMM yyyy');
        const a = 'menu' + this.router.url;
        // this.getAllClients();
        this.getAllVendors();
        debugger;
        router.events.subscribe(event => {
            if (event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_3__["NavigationEnd"]) {
                this.ngOnInit();
                // this.clearAll();
            }
        });
        if (this.router.getCurrentNavigation().extras.state) {
            this.message = this.router.getCurrentNavigation().extras.state.user;
        }
        else {
            this.message = '';
        }
        if (this.router.getCurrentNavigation().extras.state) {
            this.client = this.router.getCurrentNavigation().extras.state.name;
        }
        if (this.router.getCurrentNavigation().extras.state) {
            if (typeof this.router.getCurrentNavigation().extras.state.meta_data !== 'undefined') {
                debugger;
                this.data = this.router.getCurrentNavigation().extras.state.meta_data;
                this.payed = this.router.getCurrentNavigation().extras.state.payed;
                this.duepayment = this.router.getCurrentNavigation().extras.state.duepayment;
                if (this.network.type === 'none') {
                }
                else {
                    debugger;
                    this.syncAddedVendors();
                    this.syncAddedItems();
                }
            }
        }
        debugger;
    }
    ngOnDestroy() {
    }
    ngOnInit() {
        debugger;
        //this.getAllItems();
        //this.tempActiveItems = this.databaseprovider.getActiveItemsList();
        debugger;
        if (this.router.getCurrentNavigation().extras.state) {
            if (typeof this.router.getCurrentNavigation().extras.state.ID !== 'undefined') {
                // this.getAllVendors();
                // this.getAllItemsLocal();
                this.selectedVendorID = this.router.getCurrentNavigation().extras.state.ID;
                this.selectedVendorName = this.router.getCurrentNavigation().extras.state.Name;
                if (this.selectedVendorName !== '') {
                    this.client = this.router.getCurrentNavigation().extras.state.Name;
                }
                this.info = this.router.getCurrentNavigation().extras.state.info;
                // this.activeItems =  this.router.getCurrentNavigation().extras.state.items;
                //this.initializeActiveItems();
            }
        }
    }
    orderInfo() {
        debugger;
        const navigationExtras = {
            state: {
                // user: this.received
                order: this.order
            }
        };
        this.router.navigate(['purchase-order-info'], navigationExtras);
    }
    clearVal(item) {
        if (item.Qty == 0) {
            item.Qty = " ";
        }
    }
    clearVal1(item) {
        if (item.Rate == 0) {
            item.Rate = " ";
        }
    }
    back() {
        // this.router.navigate(['invoicedetails']);
        // this.location.back();
        this.showALert('', '', 'Save this purchase order?');
    }
    showALert(head, sub, msg) {
        this.alrtCtrl.create({
            header: head,
            subHeader: sub,
            message: msg,
            cssClass: 'alertSize',
            buttons: [
                {
                    text: 'Exit',
                    cssClass: 'customClass',
                    role: 'cancel',
                    handler: () => {
                        //  this.location.back();
                        this.clearAll();
                        this.router.navigate(['menu/purchased-orders']);
                        console.log('Confirm Cancel');
                        this.clearAll();
                        debugger;
                    }
                },
                {
                    text: 'Save',
                    handler: () => {
                        console.log('Confirm Ok');
                        if (this.selectedVendorName !== '' && this.selectedVendorName.length > 0 && this.subtotal > 0) {
                            //this.savePO();
                            this.savePOLocaldb();
                        }
                        else {
                            if (this.selectedVendorName === '' || this.selectedVendorName.length === 0) {
                                alert('Kindly select Vendor');
                            }
                            else {
                                alert('The price for the item(s) can not be 0');
                            }
                        }
                    }
                }
            ]
        }).then(alert => alert.present());
    }
    share() {
        const msg = 'Save <br/><br/> Preview <br/><br/> Email <br/><br/> Share <br/><br/> Add Credits <br/><br/> Print ';
        // this.shareALert('','','');
        this.saveALert('', '', 'Are you sure you want to save?');
    }
    shareALert(head, sub, msg) {
        this.alrtCtrl.create({
            header: head,
            subHeader: sub,
            message: msg,
            cssClass: 'changeAvatar',
            buttons: [
                {
                    text: 'Save',
                    cssClass: 'alert-button-inner',
                    handler: () => {
                        console.log('Confirm Cancel');
                        if (this.selectedVendorName !== '' && this.selectedVendorName.length > 0 && this.subtotal > 0) {
                            // this.savePO();
                            this.savePOLocaldb();
                        }
                        else {
                            if (this.selectedVendorName === '' || this.selectedVendorName.length === 0) {
                                alert('Kindly select Vendor');
                            }
                            else {
                                alert('The price for the item(s) can not be 0');
                            }
                        }
                    }
                },
                {
                    text: 'Preview',
                    cssClass: 'alert-button-inner',
                    handler: () => {
                        console.log('Confirm Cancel');
                    }
                },
                {
                    text: 'Email',
                    cssClass: 'alert-button-inner',
                    handler: () => {
                        console.log('Confirm Cancel');
                    }
                },
                {
                    text: 'Share',
                    cssClass: 'alert-button-inner',
                    handler: () => {
                        console.log('Confirm Cancel');
                    }
                },
                {
                    text: 'Cancel',
                    cssClass: 'cancel',
                    handler: () => {
                        console.log('Confirm Cancel');
                    }
                },
            ]
        }).then(alert => alert.present());
    }
    addClient() {
        this.databaseprovider.saveActiveItemsList(this.tempActiveItems);
        const navigationExtras = {
            state: {
                ID: this.selectedVendorID,
                Name: this.selectedVendorName,
                info: this.info,
                items: this.tempActiveItems
            }
        };
        this.router.navigate(['addvendor'], navigationExtras);
    }
    addItem() {
        // const navigationExtras: NavigationExtras = {
        //   state: {
        //     url: this.url
        //   }
        // };
        // this.router.navigate(['add-item/additem-items'], navigationExtras);
        this.alrtCtrl.create({
            header: 'Alert',
            subHeader: '',
            message: 'Please add your item(s) to continue',
            cssClass: 'alertSize',
            buttons: [
                {
                    text: 'OK',
                    cssClass: 'cancel',
                    role: 'cancel',
                    handler: () => {
                    }
                }
            ]
        }).then(alert => alert.present());
    }
    comment() {
        const navigationExtras = {
            state: {
                user: this.message,
                url: this.url
            }
        };
        this.router.navigate(['comment'], navigationExtras);
        //  this.router.navigate(['comment']);
    }
    addItemafter() {
        this.databaseprovider.saveArray(this.selectedItems);
        this.router.navigate(['add-item/additem-items']);
    }
    editItem(item, pos) {
        console.log(pos);
        this.url = this.router.url;
        const navigationExtras = {
            state: {
                // user: this.received
                edititem: item,
                position: pos,
                url: this.url
            }
        };
        this.router.navigate(['edit-item'], navigationExtras);
    }
    clearAll() {
        this.discount = 0.00;
        this.subtotal = 0.00;
        this.total = 0.00;
        this.message = '';
        this.client = 'Vendor';
        this.tempActiveItems = [];
        this.databaseprovider.setItemUrl('');
    }
    removeSelected(pos) {
        debugger;
        this.selectedItems.splice(pos, 1);
        debugger;
    }
    openAlert() {
        debugger;
        if (this.raio.length > 0) {
            debugger;
            this.alrtCtrl.create({
                header: 'Vendors',
                inputs: this.raio,
                buttons: [
                    {
                        text: 'Cancel',
                        role: 'cancel',
                        handler: () => {
                            console.log('Cancel clicked');
                        }
                    },
                    {
                        text: 'OK',
                        handler: (data) => {
                            console.log('selected' + data);
                            var fields = data.split(',');
                            this.selectedVendorName = fields[0];
                            this.client = this.selectedVendorName;
                            this.selectedVendorID = fields[1];
                            this.selectedVendorSync = parseInt(fields[2]);
                            debugger;
                        }
                    }
                ]
            }).then(alert => alert.present());
        }
        else {
            debugger;
            this.emptyAlert('Alert', '', 'Please add your vendor(s) to continue');
        }
    }
    getAllClients() {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let loading = yield this.loadingController.create();
            yield loading.present();
            const url = this.databaseprovider.getURL();
            this.nativeHttp.setDataSerializer("json");
            let nativeCall = this.nativeHttp.post(url, {
                'Name': 'getAllClients',
                'AccountId': '113008225657937776461'
            }, {
                'Content-Type': 'application/json',
                'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
            });
            Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(() => loading.dismiss))
                .subscribe(data => {
                loading.dismiss();
                console.log('Native data:', data);
                const g = JSON.parse(data.data);
                this.vendors = g.vendors;
                console.log(this.vendors[0]);
                this.sortClients();
                this.activeVendors = [];
                for (let i = 0; i < this.vendors.length; i++) {
                    if (this.vendors[i].bActive === '1') {
                        this.activeVendors.push(this.vendors[i]);
                        const a = {
                            type: 'radio',
                            label: this.vendors[i].Name,
                            value: this.vendors[i].Name + ',' + this.vendors[i].ID
                        };
                        this.raio.push(a);
                    }
                }
                debugger;
                //  this.selectActive();
                // debugger;
                // this.initializeItems();
                this.initializeactiveVendors();
                this.databaseprovider.setupdatevendors(0);
                this.getAllItems();
            }, err => {
                console.log('JS call error', err);
            });
        });
    }
    sortClients() {
        debugger;
        this.vendors = this.vendors.sort((a, b) => {
            if (a.Name < b.Name) {
                return -1;
            }
            if (a.Name > b.Name) {
                return 1;
            }
            return 0;
        });
    }
    initializeactiveVendors() {
        this.tempActiveVendors = this.activeVendors;
    }
    getAllItems() {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let loading = yield this.loadingController.create();
            yield loading.present();
            const url = this.databaseprovider.getURL();
            this.nativeHttp.setDataSerializer("json");
            let nativeCall = this.nativeHttp.post(url, {
                'Name': 'getAllItem',
                'AccountId': '113008225657937776461'
            }, {
                'Content-Type': 'application/json',
                'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
            });
            Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(() => loading.dismiss))
                .subscribe(data => {
                loading.dismiss();
                console.log('Native data:', data);
                const g = JSON.parse(data.data);
                this.items = g.items;
                // console.log(this.clients[0]);
                this.sortItems();
                //this.inactiveItems = [];
                this.activeItems = [];
                for (let i = 0; i < this.items.length; i++) {
                    if (this.items[i].Active === '1') {
                        this.items[i]['Qty'] = 0;
                        this.activeItems.push(this.items[i]);
                    }
                }
                // this.initializeItems();
                this.initializeActiveItems();
                this.databaseprovider.setupdateitems(0);
                debugger;
            }, err => {
                console.log('JS call error', err);
            });
        });
    }
    sortItems() {
        debugger;
        this.items = this.items.sort((a, b) => {
            if (a.Description < b.Description) {
                return -1;
            }
            if (a.Description > b.Description) {
                return 1;
            }
            return 0;
        });
    }
    initializeActiveItems() {
        this.tempActiveItems = this.activeItems;
        debugger;
    }
    quantityIncrement(item) {
        item.Qty = item.Qty + 1;
        this.subtotal = this.subtotal + (1 * item.Rate);
        this.total = this.subtotal - this.discount;
        debugger;
    }
    quantityDecrement(item) {
        if (item.Qty > 0) {
            this.subtotal = this.subtotal - (1 * item.Rate);
            this.total = this.subtotal - this.discount;
            item.Qty = item.Qty - 1;
        }
        debugger;
    }
    change() {
    }
    discountPrompt() {
        debugger;
        if (this.subtotal > 0) {
            this.alertCtrl.create({
                header: 'Discount',
                inputs: [
                    {
                        name: 'Discount',
                        placeholder: this.discount.toString(),
                        value: this.discount,
                        type: 'number'
                    }
                ],
                buttons: [
                    {
                        text: 'Cancel',
                        role: 'cancel',
                        handler: data => {
                            console.log('Cancel clicked');
                        }
                    },
                    {
                        text: 'Submit',
                        handler: data => {
                            console.log(data);
                            if (data.Discount === '') {
                                this.discount = 0;
                            }
                            else {
                                this.discount = data.Discount;
                            }
                        }
                    }
                ]
            }).then(alert => alert.present());
        }
        else {
        }
    }
    savePO() {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let loading = yield this.loadingController.create();
            yield loading.present();
            this.order.created;
            this.selectedVendorID;
            this.tempActiveItems;
            this.discount;
            this.total;
            this.message;
            const itemsArray = [];
            for (let i = 0; i < this.tempActiveItems.length; i++) {
                const a = {
                    Id: parseInt(this.tempActiveItems[i].itemid),
                    Qty: this.tempActiveItems[i].Qty,
                    CostPrice: this.tempActiveItems[i].Rate
                };
                itemsArray.push(a);
            }
            itemsArray;
            debugger;
            this.nativeHttp.setDataSerializer("json");
            const url = this.databaseprovider.getURL();
            let nativeCall = this.nativeHttp.post(url + '/addPurchasedOrder.php', {
                "VendorID": this.selectedVendorID,
                "Date": this.order.created,
                "ReceivedBy": "rizwanali",
                "Total": this.total,
                "Remarks": this.message,
                "Discount": this.discount,
                "Items": itemsArray
            }, {
                'Content-Type': 'application/json',
                'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
            });
            Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(() => loading.dismiss))
                .subscribe(data => {
                loading.dismiss();
                console.log('Native data:', data);
                const g = JSON.parse(data.data);
                if (g.success === 1) {
                    this.databaseprovider.setupdatePOS(1);
                    this.router.navigate(['/menu/purchased-orders']);
                }
                // this.databaseprovider.setupdateitems(0);
            }, err => {
                console.log('JS call error', err);
            });
        });
    }
    presentPrompt() {
        this.alertCtrl.create({
            header: 'Message',
            inputs: [
                {
                    name: 'Message',
                    placeholder: this.message,
                    value: this.message
                }
            ],
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: data => {
                        console.log('Cancel clicked');
                    }
                },
                {
                    text: 'Submit',
                    handler: data => {
                        console.log(data);
                        this.message = data.Message;
                    }
                }
            ]
        }).then(alert => alert.present());
    }
    updateTotal(searchbar, item) {
        debugger;
        const x = item.Cost * item.Qty;
        this.subtotal = this.subtotal - x;
        const q = searchbar.srcElement.value;
        const b = q * item.Qty;
        this.subtotal = this.subtotal + b;
        this.total = this.subtotal - this.discount;
    }
    updateItem(searchbar, item) {
        const x = item.Cost * item.Qty;
        this.subtotal = this.subtotal - x;
        const q = searchbar.srcElement.value;
        const b = q * item.Cost;
        this.subtotal = this.subtotal + b;
        this.total = this.subtotal - this.discount;
    }
    savePOLocaldb() {
        const itemsArray = [];
        for (let i = 0; i < this.tempActiveItems.length; i++) {
            if (this.tempActiveItems[i].Sync === 1) {
                this.tempActiveItems[i].Sync = 2;
            }
            const a = {
                Id: parseInt(this.tempActiveItems[i].itemid),
                Qty: this.tempActiveItems[i].Qty,
                CostPrice: this.tempActiveItems[i].Cost,
                Sync: this.tempActiveItems[i].Sync
            };
            itemsArray.push(a);
        }
        debugger;
        if (this.selectedVendorSync === 1) {
            this.selectedVendorSync = 2;
        }
        this.selectedVendorSync;
        debugger;
        let now = new Date().toString();
        const a = this.datePipe.transform(now, 'dd MMM yyyy h:mm a');
        // alert('vendorID = ' + this.selectedVendorID)
        // tslint:disable-next-line: max-line-length
        this.syncService.addPO(this.selectedVendorID, this.selectedVendorSync, a, 'rizwanali', this.subtotal - this.discount, this.message, this.discount, itemsArray)
            .then(data => {
            debugger;
            data;
            this.tblId = data;
            this.databaseprovider.setupdatePOS(1);
            this.databaseprovider.setupdatevendors(1);
            //  this.router.navigate(['/menu/purchased-orders']);
            this.nav.navigateRoot('/menu/purchased-orders');
            this.AddLog();
            if (this.network.type === 'none') {
            }
            else {
                debugger;
                this.syncAddedPOs();
            }
        });
    }
    getAllVendors() {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let loading = yield this.loadingController.create();
            yield loading.present();
            this.syncService.getAllActiveVendors().then((data) => {
                this.vendors = data;
                this.sortClients();
                this.activeVendors = [];
                for (let i = 0; i < this.vendors.length; i++) {
                    if (this.vendors[i].bActive === 1) {
                        this.activeVendors.push(this.vendors[i]);
                        const a = {
                            type: 'radio',
                            label: this.vendors[i].Name,
                            value: this.vendors[i].Name + ',' + this.vendors[i].ID + ',' + this.vendors[i].Sync
                        };
                        this.raio.push(a);
                    }
                }
                this.initializeactiveVendors();
                this.databaseprovider.setupdatevendors(0);
                loading.dismiss();
                this.getAllItemsLocal();
            });
        });
    }
    AddLog() {
        if (this.usdId === 1) {
            this.acttype = 'You  added a new';
        }
        else {
            this.acttype = 'You added a new';
        }
        this.name = 'Purchased Order';
        let now = new Date().toString();
        const a = this.datePipe.transform(now, 'dd MMM yyyy h:mm a');
        this.lgdate = 'at ' + a;
        this.tblName = 'tblpurchasedorder';
        this.tblName, this.tblId, this.usdId, this.acttype, this.name, this.lgdate;
        debugger;
        this.syncService.addLogs(this.tblName, this.tblId, this.usdId, this.acttype, this.name, this.lgdate).then(data => {
            console.log("Log has been added");
            this.syncService.syncAddedLog();
            //this.GetLogs();
        });
    }
    getAllItemsLocal() {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let loading = yield this.loadingController.create();
            yield loading.present();
            this.syncService.getAllActiveItems().then((data) => {
                this.items = data;
                // this.sortItems();
                this.activeItems = [];
                for (let i = 0; i < this.items.length; i++) {
                    if (this.items[i].Active === 1) {
                        this.items[i]['Qty'] = 0;
                        this.activeItems.push(this.items[i]);
                    }
                }
                // this.initializeItems();
                this.initializeActiveItems();
                this.databaseprovider.setupdateitems(0);
                loading.dismiss();
            });
        });
    }
    syncAddedVendors() {
        this.syncService.syncAddedVendors().then((data) => {
            if (data.length > 0) {
                const IDs = [];
                for (let i = 0; i < data.length; i++) {
                    IDs[i] = data[i].ID;
                }
                const url = this.databaseprovider.getURL();
                debugger;
                this.nativeHttp.setDataSerializer("json");
                let nativeCall = this.nativeHttp.post(url, {
                    'Name': 'syncAddedVendors',
                    "Vendors": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(() => { }))
                    .subscribe(data => {
                    console.log('Native data:', data);
                    const g = JSON.parse(data.data);
                    if (g.success === 1) {
                        // alert('success');
                        this.syncService.updateSyncedVendors(IDs).then((data) => {
                        });
                    }
                    else {
                        // alert('failed');
                    }
                    // this.initializeItems();
                }, err => {
                    console.log('JS call error', err);
                    const error = JSON.parse(err.error);
                    // alert(error.message);
                    console.log('Native data:', JSON.parse(error));
                });
                debugger;
            }
        });
    }
    syncAddedItems() {
        this.syncService.syncAddedItems().then((data) => {
            if (data.length > 0) {
                const IDs = [];
                for (let i = 0; i < data.length; i++) {
                    IDs[i] = data[i].itemid;
                }
                const url = this.databaseprovider.getURL();
                debugger;
                this.nativeHttp.setDataSerializer("json");
                let nativeCall = this.nativeHttp.post(url, {
                    'Name': 'syncAddedItems',
                    "Items": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(() => { }))
                    .subscribe(data => {
                    console.log('Native data:', data);
                    const g = JSON.parse(data.data);
                    if (g.success === 1) {
                        // alert('success');
                        this.syncService.updateSyncedItems(IDs).then((data) => {
                        });
                    }
                    else {
                        // alert('failed');
                    }
                    // this.initializeItems();
                }, err => {
                    console.log('JS call error', err);
                    const error = JSON.parse(err.error);
                    // alert(error.message);
                    console.log('Native data:', JSON.parse(error));
                });
            }
            debugger;
        });
    }
    syncAddedPOs() {
        this.syncService.syncAddedPOS().then((data) => {
            if (data.length > 0) {
                const IDs = [];
                for (let i = 0; i < data.length; i++) {
                    IDs[i] = data[i].ID;
                }
                const url = this.databaseprovider.getURL();
                debugger;
                this.nativeHttp.setDataSerializer("json");
                let nativeCall = this.nativeHttp.post(url, {
                    'Name': 'syncAddedPOs',
                    "POS": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(() => { }))
                    .subscribe(data => {
                    console.log('Native data:', data);
                    const g = JSON.parse(data.data);
                    if (g.success === 1) {
                        // alert('success');
                        this.syncService.updateSyncedPOS(IDs).then((data) => {
                        });
                        this.syncService.syncAddedPOsItems().then((data) => {
                            if (data.length > 0) {
                                const IDs = [];
                                for (let i = 0; i < data.length; i++) {
                                    IDs[i] = data[i].ID;
                                }
                                const url = this.databaseprovider.getURL();
                                debugger;
                                this.nativeHttp.setDataSerializer("json");
                                let nativeCall = this.nativeHttp.post(url, {
                                    'Name': 'syncAddedPOsItems',
                                    "POSItems": data
                                }, {
                                    'Content-Type': 'application/json',
                                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                });
                                Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(() => { }))
                                    .subscribe(data => {
                                    console.log('Native data:', data);
                                    const g = JSON.parse(data.data);
                                    if (g.success === 1) {
                                        //alert('success');
                                        this.syncService.updateSyncedPOSItems(IDs).then((data) => {
                                        });
                                    }
                                    else {
                                        //alert('failed');
                                    }
                                    // this.initializeItems();
                                }, err => {
                                    console.log('JS call error', err);
                                    const error = JSON.parse(err.error);
                                    // alert(error.message);
                                    console.log('Native data:', JSON.parse(error));
                                });
                                debugger;
                            }
                        }).then(data4 => {
                            this.syncService.syncUpdatedItems().then((data) => {
                                if (data.length > 0) {
                                    const IDs = [];
                                    for (let i = 0; i < data.length; i++) {
                                        IDs[i] = data[i].itemid;
                                    }
                                    const url = this.databaseprovider.getURL();
                                    debugger;
                                    this.nativeHttp.setDataSerializer("json");
                                    let nativeCall = this.nativeHttp.post(url, {
                                        'Name': 'syncUpdatedItems',
                                        "Items": data
                                    }, {
                                        'Content-Type': 'application/json',
                                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                    });
                                    Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(() => { }))
                                        .subscribe(data => {
                                        console.log('Native data:', data);
                                        const g = JSON.parse(data.data);
                                        if (g.success === 1) {
                                            //alert('success Updated');
                                            this.syncService.updateSyncedItems(IDs).then((data) => {
                                            });
                                        }
                                        else {
                                            //  alert('failed');
                                        }
                                        // this.initializeItems();
                                    }, err => {
                                        console.log('JS call error', err);
                                        const error = JSON.parse(err.error);
                                        // alert(error.message);
                                        console.log('Native data:', JSON.parse(error));
                                    });
                                }
                                debugger;
                            }).then(() => {
                                this.syncService.syncUpdatedVendors().then((data) => {
                                    if (data.length > 0) {
                                        const IDs = [];
                                        for (let i = 0; i < data.length; i++) {
                                            IDs[i] = data[i].ID;
                                        }
                                        const url = this.databaseprovider.getURL();
                                        debugger;
                                        this.nativeHttp.setDataSerializer("json");
                                        let nativeCall = this.nativeHttp.post(url, {
                                            'Name': 'syncUpdatedVendors',
                                            "Vendors": data
                                        }, {
                                            'Content-Type': 'application/json',
                                            'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                        });
                                        Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(() => { }))
                                            .subscribe(data => {
                                            console.log('Native data:', data);
                                            const g = JSON.parse(data.data);
                                            if (g.success === 1) {
                                                // alert('success');
                                                this.syncService.updateSyncedVendors(IDs).then((data) => {
                                                });
                                            }
                                            else {
                                                // alert('failed');
                                            }
                                            // this.initializeItems();
                                        }, err => {
                                            console.log('JS call error', err);
                                            const error = JSON.parse(err.error);
                                            // alert(error.message);
                                            console.log('Native data:', JSON.parse(error));
                                        });
                                        debugger;
                                    }
                                });
                            }).then(() => {
                                this.syncService.syncAddedLedgerVendor().then((data) => {
                                    if (data.length > 0) {
                                        const IDs = [];
                                        for (let i = 0; i < data.length; i++) {
                                            IDs[i] = data[i].ID;
                                        }
                                        const url = this.databaseprovider.getURL();
                                        debugger;
                                        this.nativeHttp.setDataSerializer("json");
                                        let nativeCall = this.nativeHttp.post(url, {
                                            'Name': 'syncAddedLedgerVendor',
                                            "Payments": data
                                        }, {
                                            'Content-Type': 'application/json',
                                            'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                        });
                                        Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(() => { }))
                                            .subscribe(data => {
                                            console.log('Native data:', data);
                                            const g = JSON.parse(data.data);
                                            if (g.success === 1) {
                                                // alert('success');
                                                this.syncService.updateSyncedAddedLedgerVendors(IDs).then((data) => {
                                                });
                                            }
                                            else {
                                                // alert('failed');
                                            }
                                            // this.initializeItems();
                                        }, err => {
                                            console.log('JS call error', err);
                                            const error = JSON.parse(err.error);
                                            // alert(error.message);
                                            console.log('Native data:', JSON.parse(error));
                                        });
                                        debugger;
                                    }
                                });
                            });
                        });
                    }
                    else {
                        // alert('failed');
                    }
                    // this.initializeItems();
                }, err => {
                    console.log('JS call error', err);
                    const error = JSON.parse(err.error);
                    // alert(error.message);
                    console.log('Native data:', JSON.parse(error));
                });
                debugger;
            }
        });
    }
    emptyAlert(head, sub, msg) {
        this.alrtCtrl.create({
            header: head,
            subHeader: sub,
            message: msg,
            cssClass: 'alertSize',
            buttons: [
                {
                    text: 'OK',
                    cssClass: 'cancel',
                    role: 'cancel',
                    handler: () => {
                    }
                }
            ]
        }).then(alert => alert.present());
    }
    update(searchbar, pos) {
        debugger;
        let tempSubtotal = 0;
        const q = parseInt(searchbar.srcElement.value);
        // tslint:disable-next-line: prefer-for-of
        for (let i = 0; i < this.tempActiveItems.length; i++) {
            if (i === pos) {
                tempSubtotal = tempSubtotal + (this.tempActiveItems[i].Rate * q);
            }
            else {
                tempSubtotal = tempSubtotal + (this.tempActiveItems[i].Rate * this.tempActiveItems[i].Qty);
            }
        }
        debugger;
        this.subtotal = tempSubtotal;
    }
    saveALert(head, sub, msg) {
        this.alrtCtrl.create({
            header: head,
            subHeader: sub,
            message: msg,
            cssClass: 'alertSize',
            buttons: [
                {
                    text: 'Cancel',
                    cssClass: 'customClass',
                    role: 'cancel',
                    handler: () => {
                        //  this.location.back();
                    }
                },
                {
                    text: 'Save',
                    handler: () => {
                        console.log('Confirm Ok');
                        if (this.selectedVendorName !== '' && this.selectedVendorName.length > 0 && this.subtotal > 0) {
                            //this.savePO();
                            this.savePOLocaldb();
                        }
                        else {
                            if (this.selectedVendorName === '' || this.selectedVendorName.length === 0) {
                                alert('Kindly select Vendor');
                            }
                            else {
                                alert('The price for the item(s) can not be 0');
                            }
                        }
                    }
                }
            ]
        }).then(alert => alert.present());
    }
    onChange(selected) {
        var fields = selected.split(',');
        this.selectedVendorName = fields[0];
        this.client = this.selectedVendorName;
        this.selectedVendorID = fields[1];
        this.selectedVendorSync = parseInt(fields[2]);
    }
};
AddpurchasedorderPage.ctorParameters = () => [
    { type: _angular_common__WEBPACK_IMPORTED_MODULE_12__["Location"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"] },
    { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_11__["Storage"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["LoadingController"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"] },
    { type: _ionic_native_file_path_ngx__WEBPACK_IMPORTED_MODULE_4__["FilePath"] },
    { type: _angular_common__WEBPACK_IMPORTED_MODULE_12__["DatePipe"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Events"] },
    { type: _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_5__["File"] },
    { type: _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_6__["WebView"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ActionSheetController"] },
    { type: _ionic_native_Camera_ngx__WEBPACK_IMPORTED_MODULE_7__["Camera"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_8__["HttpClient"] },
    { type: src_app_services_database_service__WEBPACK_IMPORTED_MODULE_10__["DatabaseService"] },
    { type: _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_14__["HTTP"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"] },
    { type: src_app_services_sync_service__WEBPACK_IMPORTED_MODULE_15__["SyncService"] },
    { type: _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_16__["Network"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"] }
];
AddpurchasedorderPage = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-addpurchasedorder',
        template: __webpack_require__(/*! raw-loader!./addpurchasedorder.page.html */ "./node_modules/raw-loader/index.js!./src/app/pages/addpurchasedorder/addpurchasedorder.page.html"),
        styles: [__webpack_require__(/*! ./addpurchasedorder.page.scss */ "./src/app/pages/addpurchasedorder/addpurchasedorder.page.scss")]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common__WEBPACK_IMPORTED_MODULE_12__["Location"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
        _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"],
        _ionic_storage__WEBPACK_IMPORTED_MODULE_11__["Storage"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["LoadingController"],
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"],
        _ionic_native_file_path_ngx__WEBPACK_IMPORTED_MODULE_4__["FilePath"],
        _angular_common__WEBPACK_IMPORTED_MODULE_12__["DatePipe"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Events"],
        _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_5__["File"],
        _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_6__["WebView"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ActionSheetController"],
        _ionic_native_Camera_ngx__WEBPACK_IMPORTED_MODULE_7__["Camera"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
        _angular_common_http__WEBPACK_IMPORTED_MODULE_8__["HttpClient"],
        src_app_services_database_service__WEBPACK_IMPORTED_MODULE_10__["DatabaseService"],
        _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_14__["HTTP"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
        src_app_services_sync_service__WEBPACK_IMPORTED_MODULE_15__["SyncService"],
        _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_16__["Network"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"]])
], AddpurchasedorderPage);



/***/ }),

/***/ "./src/app/services/database.service.ts":
/*!**********************************************!*\
  !*** ./src/app/services/database.service.ts ***!
  \**********************************************/
/*! exports provided: DatabaseService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DatabaseService", function() { return DatabaseService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ionic_native_sqlite_porter_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/sqlite-porter/ngx */ "./node_modules/@ionic-native/sqlite-porter/ngx/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/sqlite/ngx */ "./node_modules/@ionic-native/sqlite/ngx/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");







const EXCEL_TYPE = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';
const EXCEL_EXTENSION = '.xlsx';
let DatabaseService = class DatabaseService {
    constructor(plt, sqlitePorter, sqlite, http) {
        this.plt = plt;
        this.sqlitePorter = sqlitePorter;
        this.sqlite = sqlite;
        this.http = http;
        this.dbReady = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"](false);
        this.developers = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"]([]);
        this.selectedItems = [];
        this.addInvoiceIems = [];
        this.clientvalue = 0;
        this.itemsvalue = 0;
        this.vendorsvalue = 0;
        this.expensesvalue = 0;
        this.clientLegdervalue = 0;
        this.vendorLedgervalue = 0;
        this.pos = 0;
        this.inviocevalue = 0;
        this.landing = 0;
        this.logsnav = 0;
        this.logsvalue = 0;
        this.salesbydayvalue = 1;
        this.showUsers = 0;
        this.showClients = 0;
        this.showItems = 0;
        this.from = 0;
        // url = 'http://192.168.10.6';
        // url = 'http://demoopm.tk';
        // url = 'http://navdalm-001-site30.ctempurl.com/haiderapp';
        //  url = 'https://www.softisans.com/APIFiles/Invoice/mobile-api.php'; // rizApp db // invoice.pk
        this.url = 'https://www.softisans.com/APIFiles/AdnanInvoice/mobile-api.php'; // adnanv1 db
        // url = 'http://tinyinvoice.invoice.pk/settings/All.php'; // tinyinvoice
        this.invoiceDetailItems = [];
        this.activeItemsList = [];
        this.plt.ready().then(() => {
            this.sqlite.create({
                name: '16.db',
                location: 'default',
            })
                .then((db) => {
                this.database = db;
                this.database;
                db.executeSql('CREATE TABLE IF NOT EXISTS accounts(`email` TEXT, `passcode` TEXT, `companyName` TEXT, `mysql` TEXT, `linkage` TEXT,`logup` INTEGER,unique (email, passcode))', [])
                    .then(() => console.log('Executed SQL'))
                    .catch(e => console.log(e));
                db.executeSql('CREATE TABLE IF NOT EXISTS info(`userid` TEXT, `companyName` TEXT,`linkage` TEXT,FOREIGN KEY(userid) REFERENCES accounts(passcode))', [])
                    .then(() => console.log('Executed SQL'))
                    .catch(e => console.log(e));
                db.executeSql('CREATE TABLE IF NOT EXISTS client(`userid` TEXT, `name` TEXT,`email` TEXT,`phone` INTEGER,`address` TEXT,`deleivry` TEXT,`date_added` TEXT,`date_modified` TEXT,`added_by` TEXT,`modified_by` TEXT)', [])
                    .then(() => console.log('Executed SQL'))
                    .catch(e => console.log(e));
                db.executeSql('CREATE TABLE IF NOT EXISTS comdata(`logo` TEXT, `trader` TEXT)', [])
                    .then(() => console.log('Executed SQL'))
                    .catch(e => console.log(e));
            })
                .catch(e => console.log(e));
        });
    }
    addinfo(userid, companyName, linkage) {
        let data = [userid, companyName, linkage];
        return this.database.executeSql("INSERT INTO  info (userid, companyName,linkage) VALUES (?,?,?)", data).then(data => {
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    addcompanyData() {
        let data = ['/assets/134.png', 'Adnan Traders'];
        return this.database.executeSql('INSERT INTO product (logo, trader) VALUES (?, ?)', data).then(data => {
            this.getAllAccountData();
        });
    }
    addaccount(email, passcode) {
        let data = [email, passcode, 'Adnan Traders', '0', '/assets/134.png', '0'];
        return this.database.executeSql("INSERT INTO  accounts (email, passcode,companyName,mysql,linkage,logup) VALUES (?, ?,?,?,?,?)", data).then(data => {
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    getAllAccount() {
        debugger;
        return this.database.executeSql("SELECT * FROM accounts", []).then((data) => {
            let developers = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    console.log(developers);
                    developers.push({
                        email: data.rows.item(i).email,
                        passcode: data.rows.item(i).passcode,
                        companyName: data.rows.item(i).companyName,
                        mysql: data.rows.item(i).mysql,
                        linkage: data.rows.item(i).linkage,
                        logup: data.rows.item(i).logup,
                    });
                }
            }
            return developers;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getAccounts() {
        //const mysql = 0;
        return this.database.executeSql("SELECT * FROM accounts where mysql= 0", []).then((data) => {
            let developers = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    console.log(developers);
                    developers.push({
                        email: data.rows.item(i).email,
                        passcode: data.rows.item(i).passcode,
                        companyName: data.rows.item(i).companyName,
                        mysql: data.rows.item(i).mysql,
                        linkage: data.rows.item(i).linkage,
                        logup: data.rows.item(i).logup,
                    });
                }
            }
            return developers;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updateAccounts() {
        const mysql = 1;
        return this.database.executeSql('UPDATE accounts SET mysql=?', [mysql]).then(data => {
            //  console.log(data);
        });
    }
    getAllInfo() {
        return this.database.executeSql("SELECT * FROM info", []).then((data) => {
            let developers = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    console.log(developers);
                    developers.push({
                        userid: data.rows.item(i).userid,
                        companyName: data.rows.item(i).companyName,
                        linkage: data.rows.item(i).linkage,
                    });
                }
            }
            return developers;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getAccount(passcode) {
        return this.database.executeSql('SELECT * FROM accounts  WHERE passcode = ?', [passcode]).then(data => {
            return {
                email: data.rows.item(0).email,
                passcode: data.rows.item(0).passcode,
                companyName: data.rows.item(0).companyName,
                mysql: data.rows.item(0).mysql,
                linkage: data.rows.item(0).linkage,
                logup: data.rows.item(0).logup,
            };
        });
    }
    getAllAccountData() {
        debugger;
        return this.database.executeSql("SELECT * FROM comdata", []).then((data) => {
            let developers = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    console.log(developers);
                    developers.push({
                        email: data.rows.item(i).email,
                        passcode: data.rows.item(i).passcode,
                        companyName: data.rows.item(i).companyName,
                        mysql: data.rows.item(i).mysql,
                        linkage: data.rows.item(i).linkage,
                        logup: data.rows.item(i).logup,
                    });
                }
            }
            return developers;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getLogAccount(logup) {
        return this.database.executeSql('SELECT COUNT(*) FROM accounts WHERE  logup = ?', [logup]).then(data => {
            if (data.rows.length == 0) {
                console.log("Search Failed");
            }
            else {
                console.log("Data Found");
            }
        });
    }
    getAccountUpdate(passcode, companyName, linkage) {
        return this.database.executeSql('UPDATE accounts SET companyName=?,linkage=? WHERE passcode=?', [companyName, linkage, passcode]).then(data => {
            console.log(data);
        });
    }
    getLogUpdate(passcode, isLoggedIn) {
        return this.database.executeSql('UPDATE accounts SET logup=? WHERE passcode=?', [isLoggedIn, passcode]).then(data => {
            console.log(data);
        });
    }
    addClient(userid, name, email, phone, address, deleivry, date_added, date_modified, added_by, modified_by) {
        let data = [userid, name, email, phone, address, deleivry, date_added, date_modified, added_by, modified_by];
        return this.database.executeSql("INSERT INTO client (userid, name,email,phone,address,deleivry,date_added,date_modified,added_by,modified_by) VALUES (?,?,?,?,?,?,?,?,?,?)", data).then(data => {
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    getAllClient() {
        return this.database.executeSql("SELECT * FROM client", []).then((data) => {
            let developers = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    console.log(developers);
                    developers.push({
                        userid: data.rows.item(i).userid,
                        name: data.rows.item(i).name,
                        email: data.rows.item(i).email,
                        phone: data.rows.item(i).phone,
                        address: data.rows.item(i).address,
                        deleivry: data.rows.item(i).deleivry,
                        date_added: data.rows.item(i).date_added,
                        date_modified: data.rows.item(i).date_modified,
                        added_by: data.rows.item(i).added_by,
                        modified_by: data.rows.item(i).modified_by,
                    });
                }
            }
            return developers;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getDatabaseState() {
        return this.dbReady.asObservable();
    }
    // public exportAsExcelFile(json: any[], excelFileName: string): void {
    //        const worksheet: XLSX.WorkSheet = XLSX.utils.json_to_sheet(json);
    //        const workbook: XLSX.WorkBook = { Sheets: { data: worksheet }, SheetNames: ['data'] };
    //        const excelBuffer: any = XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });
    //        this.saveAsExcelFile(excelBuffer, excelFileName);
    //      }
    //      private saveAsExcelFile(buffer: any, fileName: string): void {
    //         const data: Blob = new Blob([buffer], {type: EXCEL_TYPE});
    //         FileSaver.saveAs(data, fileName + '_export_' + new  Date().getTime() + EXCEL_EXTENSION);
    //      }
    pushItem(item) {
        debugger;
        const index = this.selectedItems.findIndex(x => x.name === item.name);
        if (index !== -1) {
            // tslint:disable-next-line: radix
            let a = parseInt(this.selectedItems[index].menu_order) + 1;
            if (a === 1) {
                a = 2;
            }
            //this.selectedItems[index].qty = '' + a + '';
            this.selectedItems[index].menu_order = a;
        }
        else {
            item.menu_order = 1;
            this.selectedItems.push(item);
        }
    }
    getSeletedItems() {
        debugger;
        return this.selectedItems;
    }
    removeSelectedItem(pos) {
        this.selectedItems.splice(pos, 1);
    }
    deleteAllSelectedItems() {
        this.selectedItems = [];
    }
    saveArray(invoiceIems) {
        this.addInvoiceIems = invoiceIems;
        debugger;
    }
    getArray() {
        return this.addInvoiceIems;
    }
    setupdateclients(value) {
        this.clientvalue = value;
    }
    getupdateclients() {
        return this.clientvalue;
    }
    setupdatevendors(value) {
        this.vendorsvalue = value;
    }
    getupdatevendors() {
        return this.vendorsvalue;
    }
    setupdatePOS(value) {
        debugger;
        this.pos = value;
    }
    getupdatePOS() {
        return this.pos;
    }
    setupdateitems(value) {
        this.itemsvalue = value;
    }
    getupdateitems() {
        return this.itemsvalue;
    }
    setupdateexpenses(value) {
        this.expensesvalue = value;
    }
    getupdateexpenses() {
        return this.expensesvalue;
    }
    setupdateinvoice(value) {
        this.inviocevalue = value;
    }
    getupdateinvoice() {
        return this.inviocevalue;
    }
    setupdateclientLeger(value) {
        this.clientLegdervalue = value;
    }
    getupdateclientLedger() {
        return this.clientLegdervalue;
    }
    setupdatevendorLeger(value) {
        this.vendorLedgervalue = value;
    }
    getupdatevendorLedger() {
        return this.vendorLedgervalue;
    }
    setItemUrl(url) {
        this.itemUrl = url;
    }
    getItemUrl() {
        return this.itemUrl;
    }
    getURL() {
        return this.url;
    }
    saveActiveItemsList(items) {
        this.activeItemsList = items;
    }
    getActiveItemsList() {
        return this.activeItemsList;
    }
    setLanding(value) {
        this.landing = value;
    }
    getLanding() {
        console.log('landing:', this.landing);
        return this.landing;
    }
    setLogsnav(value) {
        this.logsnav = value;
    }
    getLogsnav() {
        return this.logsnav;
    }
    setlogs(value) {
        this.logsvalue = value;
    }
    getlogs() {
        return this.logsvalue;
    }
    getSalesByDayValue() {
        return this.salesbydayvalue;
    }
    setSalesByDayValue(value) {
        this.salesbydayvalue = value;
    }
    setUsers(val) {
        this.showUsers = val;
    }
    getShowUsers() {
        return this.showUsers;
    }
    setFrom(value) {
        this.from = value;
    }
    getFrom() {
        return this.from;
    }
    setClients(val) {
        this.showClients = val;
    }
    setItems(val) {
        this.showItems = val;
    }
};
DatabaseService.ctorParameters = () => [
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"] },
    { type: _ionic_native_sqlite_porter_ngx__WEBPACK_IMPORTED_MODULE_3__["SQLitePorter"] },
    { type: _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_5__["SQLite"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"] }
];
DatabaseService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])({
        providedIn: 'root'
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"], _ionic_native_sqlite_porter_ngx__WEBPACK_IMPORTED_MODULE_3__["SQLitePorter"], _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_5__["SQLite"], _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"]])
], DatabaseService);



/***/ }),

/***/ "./src/app/services/sync.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/sync.service.ts ***!
  \******************************************/
/*! exports provided: SyncService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SyncService", function() { return SyncService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ionic_native_sqlite_porter_ngx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic-native/sqlite-porter/ngx */ "./node_modules/@ionic-native/sqlite-porter/ngx/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/sqlite/ngx */ "./node_modules/@ionic-native/sqlite/ngx/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm2015/ionic-storage.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ionic-native/network/ngx */ "./node_modules/@ionic-native/network/ngx/index.js");
/* harmony import */ var _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ionic-native/http/ngx */ "./node_modules/@ionic-native/http/ngx/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var src_app_services_database_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! src/app/services/database.service */ "./src/app/services/database.service.ts");















let SyncService = class SyncService {
    constructor(plt, sqlitePorter, sqlite, http, router, storage, network, nativeHttp, databaseprovider, datePipe, loadingController) {
        this.plt = plt;
        this.sqlitePorter = sqlitePorter;
        this.sqlite = sqlite;
        this.http = http;
        this.router = router;
        this.storage = storage;
        this.network = network;
        this.nativeHttp = nativeHttp;
        this.databaseprovider = databaseprovider;
        this.datePipe = datePipe;
        this.loadingController = loadingController;
        this.dbReady = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](false);
        this.developers = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"]([]);
        this.updatedPOID = '';
        this.updatedIid = '';
        this.executed = 0;
        this.storage.get('userId').then((val) => {
            this.usdId = val;
            console.log(this.usdId);
        });
        this.plt.ready().then(() => {
            this.sqlite.create({
                name: '79.db',
                location: 'default',
            })
                .then((db) => {
                this.database = db;
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS items(`itemid` INTEGER PRIMARY KEY AUTOINCREMENT, `AccountId` VARCHAR, `Description` VARCHAR, `Rate` INTEGER, `Cost` INTEGER,`Instock` INTEGER,`Active` INTEGER,`Sync` INTEGER)', [])
                    .then(() => console.log('Executed Sync items'))
                    .catch(e => console.log(e));
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS clients(`Cid` INTEGER PRIMARY KEY AUTOINCREMENT, `AccountId` VARCHAR, `Fname` VARCHAR, `Lname` VARCHAR, `Shop` VARCHAR,`BillingAddress` VARCHAR,`City` VARCHAR,`Cell` VARCHAR,`Active` INTEGER,`Balance` INTEGER,`Sync` INTEGER)', [])
                    .then(() => console.log('Executed Sync Clients'))
                    .catch(e => console.log(e));
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS tblvendors(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `Name` VARCHAR, `Address` VARCHAR, `Phone` VARCHAR, `Email` VARCHAR,`bActive` INTEGER,`Balance` INTEGER,`Sync` INTEGER)', [])
                    .then(() => console.log('Executed Sync Vendors'))
                    .catch(e => console.log(e));
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS tblpurchasedorder(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `VendorID` INTEGER, `Date` VARCHAR, `ReceivedBy` VARCHAR, `Total` INTEGER,`Remarks` VARCHAR,`Discount` INTEGER,`Active` INTEGER,`Sync` INTEGER)', [])
                    .then(() => console.log('Executed Sync tblpurchasedorder'))
                    .catch(e => console.log(e));
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS tblpodetail(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `Poid` INTEGER, `ItemID` INTEGER, `Qty` INTEGER, `CostPrice` INTEGER,`Sync` INTEGER)', [])
                    .then(() => console.log('Executed Sync tblpodetail'))
                    .catch(e => console.log(e));
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS invoices(`Iid` INTEGER PRIMARY KEY AUTOINCREMENT, `AccountId` VARCHAR, `Cid` INTEGER, `Name` VARCHAR, `CreateDate` VARCHAR,`Terms` VARCHAR,`DueDate` VARCHAR,`Subtotal` INTEGER,`Discount` INTEGER,`Total` INTEGER,`Message` VARCHAR,`Status` VARCHAR,`Sync` INTEGER)', [])
                    .then(() => console.log('Executed Sync Invoices'))
                    .catch(e => console.log(e));
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS invoiceitems(`Iiid` INTEGER PRIMARY KEY AUTOINCREMENT, `Iid` INTEGER, `Itemid` INTEGER, `Qty` INTEGER, `CostPrice` INTEGER,`Sync` INTEGER)', [])
                    .then(() => console.log('Executed Sync invoiceitems'))
                    .catch(e => console.log(e));
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS tblledger(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `InvoiceID` INTEGER, `Date` VARCHAR, `Amount` INTEGER, `CustomerID` VARCHAR,`IsCredit` INTEGER, `Duedate` Date, `ByUserId` VARCHAR, `Remarks` VARCHAR,`Sync` INTEGER)', [])
                    .then(() => console.log('Executed Sync tblledger'))
                    .catch(e => console.log(e));
                // tslint:disable-next-line: max-line-length
                db.executeSql('DROP TABLE IF EXISTS tblUsers;')
                    .then(() => console.log('Executed Sync tblledger'))
                    .catch(e => console.log(e));
                db.executeSql('CREATE TABLE IF NOT EXISTS tblUsers(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `email` VARCHAR, `name` VARCHAR, `bActive` INTEGER,`Sync` INTEGER)', [])
                    .then(() => console.log('Executed Sync tblledger'))
                    .catch(e => console.log(e));
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS categories(`catid` INTEGER PRIMARY KEY AUTOINCREMENT, `name` VARCHAR, `active` INTEGER)', [])
                    .then(() => console.log('Executed Sync tblledger'))
                    .catch(e => console.log(e));
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS tblslides(`Id` INTEGER PRIMARY KEY AUTOINCREMENT, `slideNo` INTEGER, `slideHeading` VARCHAR, `slideText` VARCHAR, `slideImage` VARCHAR, `bActive` INTEGER)', [])
                    .then(() => console.log('Executed Sync tblledger'))
                    .catch(e => console.log(e));
                // tslint:disable-next-line: max-line-length
                db.executeSql('DROP TABLE IF EXISTS tblacl;')
                    .then(() => console.log('Executed Sync tblledger'))
                    .catch(e => console.log(e));
                db.executeSql('CREATE TABLE IF NOT EXISTS tblacl(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `name` VARCHAR, `userId` VARCHAR, `bValue` INTEGER,`Sync` INTEGER)', [])
                    .then(() => console.log('Executed Sync tblledger'))
                    .catch(e => console.log(e));
                db.executeSql('CREATE TABLE IF NOT EXISTS tblledgervendor(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `POID` INTEGER, `Date` VARCHAR, `Amount` INTEGER, `VendorID` VARCHAR,`IsCredit` INTEGER, `Duedate` Date, `ByUserId` VARCHAR, `Remarks` VARCHAR,`Sync` INTEGER)', [])
                    .then(() => console.log('Executed Sync tblledger'))
                    .catch(e => console.log(e));
                db.executeSql('CREATE TABLE IF NOT EXISTS POdel(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `POid` INTEGER)', [])
                    .then(() => console.log('Executed Sync POdel'))
                    .catch(e => console.log(e));
                db.executeSql('CREATE TABLE IF NOT EXISTS ledgerdel(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `Oid` INTEGER)', [])
                    .then(() => console.log('Executed Sync ledgerdel'))
                    .catch(e => console.log(e));
                db.executeSql('CREATE TABLE IF NOT EXISTS Invoicedel(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `Iid` INTEGER)', [])
                    .then(() => console.log('Executed Sync Invoicedel'))
                    .catch(e => console.log(e));
                db.executeSql('CREATE TABLE IF NOT EXISTS tblLogs(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `tableName` TEXT,`tableId` INTEGER,`userId` INTEGER,`actionType` TEXT,name TEXT,`dated` TEXT,`Sync` INTEGER)', [])
                    .then(() => console.log('Executed Sync tbllog'))
                    .catch(e => console.log(e));
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS tblexpenses(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `AccountId` VARCHAR, `Name` VARCHAR, `Date` VARCHAR,`Amount` INTEGER, `Category` VARCHAR,`Description` VARCHAR,`Active` INTEGER,`Sync` INTEGER)', [])
                    .then(() => console.log('Executed Sync items'))
                    .catch(e => console.log(e));
                if (this.network.type === 'none') {
                }
                else {
                    this.serverSync();
                }
            })
                .catch(e => console.log(e));
        });
    }
    additem(Description, Rate, Cost) {
        const data = ['113008225657937776461', Description, Rate, Cost, 0, 1, 0];
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO  items (AccountId, Description,Rate,Cost,Instock,Active,Sync) VALUES (?,?,?,?,?,?,?)', data)
            .then(data => {
            console.log('successfully Created item');
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    getAllLogs() {
        return this.database.executeSql('SELECT * FROM tblLogs ORDER BY ID DESC', []).then((data) => {
            let logs = [];
            ;
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    logs.push({
                        ID: data.rows.item(i).ID,
                        tableName: data.rows.item(i).tableName,
                        tableId: data.rows.item(i).tableId,
                        userId: data.rows.item(i).userId,
                        actionType: data.rows.item(i).actionType,
                        name: data.rows.item(i).name,
                        dated: data.rows.item(i).dated,
                    });
                }
            }
            ;
            console.log(logs);
            return logs;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getLogsPagination(from1) {
        // alert('from1' + from1);
        let total = 0;
        this.database.executeSql('SELECT * From tblLogs', []).then((data1) => {
            // total = data1.rows.length;
            console.log('data from' + data1.rows.length);
            total = data1.rows.length;
        });
        return this.database.executeSql('SELECT * FROM tblLogs ORDER BY ID DESC limit ?, 10', [from1]).then((data) => {
            let logs = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    logs.push({
                        Total: total,
                        ID: data.rows.item(i).ID,
                        tableName: data.rows.item(i).tableName,
                        tableId: data.rows.item(i).tableId,
                        userId: data.rows.item(i).userId,
                        actionType: data.rows.item(i).actionType,
                        name: data.rows.item(i).name,
                        dated: data.rows.item(i).dated,
                    });
                }
            }
            ;
            console.log(logs);
            return logs;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getAllItems() {
        return this.database.executeSql('SELECT * FROM items', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        itemid: data.rows.item(i).itemid,
                        AccountId: data.rows.item(i).AccountId,
                        Description: data.rows.item(i).Description,
                        Rate: data.rows.item(i).Rate,
                        Cost: data.rows.item(i).Cost,
                        Instock: data.rows.item(i).Instock,
                        Active: data.rows.item(i).Active,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getAllActiveItems() {
        return this.database.executeSql('SELECT * FROM items where Active=1 ORDER BY itemid', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        itemid: data.rows.item(i).itemid,
                        AccountId: data.rows.item(i).AccountId,
                        Description: data.rows.item(i).Description,
                        Rate: data.rows.item(i).Rate,
                        Cost: data.rows.item(i).Cost,
                        Instock: data.rows.item(i).Instock,
                        Active: data.rows.item(i).Active,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updateItem(Description, Rate, Cost, itemid, Sync) {
        return this.database.executeSql('UPDATE items SET Description=?,Rate=?,Cost=?,Sync=? WHERE itemid=?', [Description, Rate, Cost, Sync, itemid]).then(data => {
            console.log(data);
            return 1;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    deleteItem(itemid, Sync) {
        ;
        return this.database.executeSql('UPDATE items SET Active=0,Sync=? WHERE itemid=?', [Sync, itemid]).then(data => {
            console.log(data);
            return 1;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    activateItem(itemid, Sync) {
        ;
        return this.database.executeSql('UPDATE items SET Active=1,Sync=? WHERE itemid=?', [Sync, itemid]).then(data => {
            console.log(data);
            return 1;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    addclient(Fname, Lname, Shop, BillingAddress, City, Cell) {
        const data = ['113008225657937776461', Fname, Lname, Shop, BillingAddress, City, Cell, 1, 0, 0];
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO  clients (AccountId,Fname,Lname,Shop,BillingAddress,City,Cell,Active,Balance,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', data)
            .then(data => {
            console.log('successfully Created item');
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    addLogs(tableName, tableId, userId, actionType, name, dated) {
        const data = [tableName, tableId, userId, actionType, name, dated, 0];
        return this.database.executeSql('INSERT INTO  tblLogs (tableName,tableId,userId,actionType,name,dated,Sync) VALUES (?,?,?,?,?,?,?)', data)
            .then(data => {
            console.log('successfully Created Log');
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    getClientsonspot() {
        return this.database.executeSql('SELECT * FROM clients ORDER BY Cid DESC LIMIT 0, 1', []).then((data) => {
            let clients = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    clients.push({
                        Cid: data.rows.item(i).Cid,
                        AccountId: data.rows.item(i).AccountId,
                        Fname: data.rows.item(i).Fname,
                        Lname: data.rows.item(i).Lname,
                        Shop: data.rows.item(i).Shop,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        City: data.rows.item(i).City,
                        Cell: data.rows.item(i).Cell,
                        Active: data.rows.item(i).Active,
                        Balance: data.rows.item(i).Balance,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(clients);
            return clients;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getAllClients() {
        return this.database.executeSql('SELECT * FROM clients where Active!=2', []).then((data) => {
            let clients = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    clients.push({
                        Cid: data.rows.item(i).Cid,
                        AccountId: data.rows.item(i).AccountId,
                        Fname: data.rows.item(i).Fname,
                        Lname: data.rows.item(i).Lname,
                        Shop: data.rows.item(i).Shop,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        City: data.rows.item(i).City,
                        Cell: data.rows.item(i).Cell,
                        Active: data.rows.item(i).Active,
                        Balance: data.rows.item(i).Balance,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(clients);
            return clients;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getAllActiveClients() {
        return this.database.executeSql('SELECT * FROM clients where Active=1', []).then((data) => {
            let clients = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    clients.push({
                        Cid: data.rows.item(i).Cid,
                        AccountId: data.rows.item(i).AccountId,
                        Fname: data.rows.item(i).Fname,
                        Lname: data.rows.item(i).Lname,
                        Shop: data.rows.item(i).Shop,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        City: data.rows.item(i).City,
                        Cell: data.rows.item(i).Cell,
                        Active: data.rows.item(i).Active,
                        Balance: data.rows.item(i).Balance,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(clients);
            return clients;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updateClient(Fname, Lname, Shop, BillingAddress, City, Cell, Cid, Balance, Sync) {
        return this.database.executeSql('UPDATE clients SET Fname=?,Lname=?,Shop=?,BillingAddress=?,City=?,Cell=?,Balance=?,Sync=? WHERE Cid=?', [Fname, Lname, Shop, BillingAddress, City, Cell, Balance, Sync, Cid]).then(data => {
            console.log(data);
            return 1;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    updateClientBalance(Cid, Balance) {
        return this.database.executeSql('UPDATE clients SET Balance=Balance+? WHERE Cid=?', [Balance, Cid]).then(data => {
            console.log(data);
            ;
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    deleteClient(Cid, Sync) {
        return this.database.executeSql('UPDATE clients SET Active=2,Sync=? WHERE Cid=?', [Sync, Cid]).then(data => {
            console.log(data);
            return 1;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    activateClient(Cid, Sync) {
        ;
        return this.database.executeSql('UPDATE clients SET Active=1,Sync=? WHERE Cid=?', [Sync, Cid]).then(data => {
            console.log(data);
            return 1;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    addvendor(Name, Address, Phone, Email) {
        const data = [Name, Address, Phone, Email, 1, 0, 0];
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO  tblvendors (Name,Address,Phone,Email,bActive,Balance,Sync) VALUES (?,?,?,?,?,?,?)', data)
            .then(data => {
            console.log('successfully Created item');
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    getAllVendors() {
        return this.database.executeSql('SELECT * FROM tblvendors', []).then((data) => {
            let vedndors = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    vedndors.push({
                        ID: data.rows.item(i).ID,
                        Name: data.rows.item(i).Name,
                        Address: data.rows.item(i).Address,
                        Phone: data.rows.item(i).Phone,
                        Email: data.rows.item(i).Email,
                        bActive: data.rows.item(i).bActive,
                        Balance: data.rows.item(i).Balance,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            console.log(vedndors);
            return vedndors;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getVendorssonspot() {
        return this.database.executeSql('SELECT * FROM tblvendors ORDER BY ID DESC LIMIT 0, 1', []).then((data) => {
            let vedndors = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    vedndors.push({
                        ID: data.rows.item(i).ID,
                        Name: data.rows.item(i).Name,
                        Address: data.rows.item(i).Address,
                        Phone: data.rows.item(i).Phone,
                        Email: data.rows.item(i).Email,
                        bActive: data.rows.item(i).bActive,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(vedndors);
            return vedndors;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getAllActiveVendors() {
        return this.database.executeSql('SELECT * FROM tblvendors where bActive=1', []).then((data) => {
            let vedndors = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    vedndors.push({
                        ID: data.rows.item(i).ID,
                        Name: data.rows.item(i).Name,
                        Address: data.rows.item(i).Address,
                        Phone: data.rows.item(i).Phone,
                        Email: data.rows.item(i).Email,
                        bActive: data.rows.item(i).bActive,
                        Balance: data.rows.item(i).Balance,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(vedndors);
            return vedndors;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updateVendor(Name, Address, Phone, Email, ID, Balance, Sync) {
        return this.database.executeSql('UPDATE tblvendors SET Name=?,Address=?,Phone=?,Email=?,Balance=?,Sync=? WHERE ID=?', [Name, Address, Phone, Email, Balance, Sync, ID]).then(data => {
            console.log(data);
            return 1;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    deleteVendor(ID, Sync) {
        ;
        return this.database.executeSql('UPDATE tblvendors SET bActive=0,Sync=? WHERE ID=?', [Sync, ID]).then(data => {
            console.log(data);
            return 1;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    activateVendor(ID, Sync) {
        return this.database.executeSql('UPDATE tblvendors SET bActive=1,Sync=? WHERE ID=?', [Sync, ID]).then(data => {
            console.log(data);
            return 1;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    addPO(VendorID, VendorSync, date, ReceivedBy, Total, Remarks, Discount, Items) {
        const data = [VendorID, date, ReceivedBy, Total, Remarks, Discount, 1, 0];
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO  tblpurchasedorder (VendorID,Date,ReceivedBy,Total,Remarks,Discount,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
            .then(data => {
            console.log('successfully Created item');
            console.log(data.insertId);
            const rid = data.insertId;
            for (let i = 0; i < Items.length; i++) {
                const Id = Items[i].Id;
                const Qty = Items[i].Qty;
                const CostPrice = Items[i].CostPrice;
                const Sync = Items[i].Sync;
                const data1 = [rid, Id, Qty, CostPrice, 0];
                this.database.executeSql('INSERT INTO  tblpodetail (Poid,ItemID,Qty,CostPrice,Sync) VALUES (?,?,?,?,?)', data1)
                    .then(data => {
                    console.log('successfully Add item');
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
                this.database.executeSql('UPDATE items SET Instock=Instock+?,Sync=? where itemid=?', [Qty, Sync, Id])
                    .then(data => {
                    console.log('successfully Updated stock');
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }
            this.database.executeSql('INSERT INTO  tblledgervendor (POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [rid, date, Total, VendorID, 0, null, 'rizwanali', Remarks, 0])
                .then(data => {
                console.log('successfully Added Ledger');
                return data;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            this.database.executeSql('UPDATE tblvendors SET Balance=Balance+?,Sync=? WHERE ID=?', [Total, VendorSync, VendorID]).then(data => {
                console.log('vendorsBalnace' + data);
                return data;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            return rid;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    getAllPOs() {
        return this.database.executeSql('Select tblpurchasedorder.ID,tblpurchasedorder.VendorID,tblpurchasedorder.Date,tblpurchasedorder.ReceivedBy,tblpurchasedorder.Total,tblpurchasedorder.Remarks,tblpurchasedorder.Discount,tblpurchasedorder.Active,tblpurchasedorder.Sync,tblvendors.Name,tblvendors.Address,tblvendors.Phone,tblvendors.Email,tblvendors.bActive from tblpurchasedorder,tblvendors WHERE tblpurchasedorder.VendorID=tblvendors.ID', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        ID: data.rows.item(i).ID,
                        VendorID: data.rows.item(i).VendorID,
                        Date: data.rows.item(i).Date,
                        ReceivedBy: data.rows.item(i).ReceivedBy,
                        Total: data.rows.item(i).Total,
                        Remarks: data.rows.item(i).Remarks,
                        Discount: data.rows.item(i).Discount,
                        Active: data.rows.item(i).Discount,
                        Sync: data.rows.item(i).Sync,
                        Name: data.rows.item(i).Name
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getPOItems(Poid) {
        return this.database.executeSql('Select items.Description,items.Sync,tblpodetail.ItemID As Id,tblpodetail.Qty,tblpodetail.CostPrice from items,tblpodetail WHERE tblpodetail.Poid=? AND items.itemid=tblpodetail.ItemID ORDER BY items.itemid', [Poid]).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        Description: data.rows.item(i).Description,
                        Sync: data.rows.item(i).Sync,
                        Id: data.rows.item(i).Id,
                        Qty: data.rows.item(i).Qty,
                        CostPrice: data.rows.item(i).CostPrice,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updatePO(PoId, VendorID, date, ReceivedBy, Total, Remarks, Discount, Items, vendorBalance) {
        this.database.executeSql('UPDATE tblvendors SET Balance=Balance+? WHERE ID=?', [vendorBalance, VendorID]).then(data => {
            console.log(data);
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
        this.database.executeSql('INSERT INTO POdel (POid)  VALUES (?)', [PoId])
            .then(data => {
        }, err => {
            console.log('Error: ', err);
            return err;
        });
        this.database.executeSql('DELETE from tblledgervendor where POID=?', [PoId])
            .then(data => {
        }, err => {
            console.log('Error: ', err);
            return err;
        });
        return this.database.executeSql('DELETE from tblpodetail where Poid=?', [PoId])
            .then(data => {
            console.log('successfully deleted POitems');
            this.database.executeSql('DELETE from tblpurchasedorder where ID=?', [PoId])
                .then(data => {
                console.log('successfully deleted PO');
                const data1 = [VendorID, date, ReceivedBy, Total, Remarks, Discount, 1, 0];
                // tslint:disable-next-line: max-line-length
                this.database.executeSql('INSERT INTO  tblpurchasedorder (VendorID,Date,ReceivedBy,Total,Remarks,Discount,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data1)
                    .then(data => {
                    console.log('successfully Created item');
                    console.log(data.insertId);
                    const rid = data.insertId;
                    console.log('rid:', data.insertId);
                    this.updatedPOID = data.insertId;
                    this.database.executeSql('UPDATE tblLogs SET tableId=? where tableName=? AND  tableId=?', [this.updatedPOID, 'tblpurchasedorder', PoId])
                        .then(data => {
                        this.AddLogUpdatedPO();
                    }, err => {
                        console.log('Error: ', err);
                        return err;
                    });
                    for (let i = 0; i < Items.length; i++) {
                        const Id = Items[i].Id;
                        const Qty = Items[i].Qty;
                        const CostPrice = Items[i].CostPrice;
                        const Stock = Items[i].Stock;
                        const Sync = Items[i].Sync;
                        const data2 = [rid, Id, Qty, CostPrice, 0];
                        this.database.executeSql('INSERT INTO  tblpodetail (Poid,ItemID,Qty,CostPrice,Sync) VALUES (?,?,?,?,?)', data2)
                            .then(data => {
                            console.log('successfully Add item');
                            return data;
                        }, err => {
                            console.log('Error: ', err);
                            return err;
                        });
                        // this.AddLogUpdatedPO();
                        // if (Stock > 0) {
                        this.database.executeSql('UPDATE items SET Instock=Instock+?,Sync=? where itemid=?', [Stock, Sync, Id])
                            .then(data => {
                            console.log('successfully Updated stock');
                            return data;
                        }, err => {
                            console.log('Error: ', err);
                            return err;
                        });
                        // }
                    }
                    this.database.executeSql('INSERT INTO  tblledgervendor (POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [rid, date, Total, VendorID, 0, null, 'rizwanali', Remarks, 0])
                        .then(data => {
                        console.log('successfully Added Ledger');
                        return data;
                    }, err => {
                        console.log('Error: ', err);
                        return err;
                    });
                    return rid;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }, err => {
                console.log('Error: ', err);
                return err;
            });
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    addInvoice(AccountId, Cid, CustomerSync, Name, CreateDate, Terms, DueDate, Items, Subtotal, Discount, Total, Message, Status) {
        const a = Math.round((new Date(CreateDate)).getTime() / 1000);
        const b = Math.round((new Date(DueDate)).getTime() / 1000);
        const data = [AccountId, Cid, Name, a, Terms, b, Subtotal, Discount, Total, Message, 1, 0];
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO  invoices (AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?)', data)
            .then(data => {
            console.log('successfully Created invoice');
            console.log(data.insertId);
            const Iid = data.insertId;
            for (let i = 0; i < Items.length; i++) {
                const Id = Items[i].Id;
                const Qty = Items[i].Qty;
                const CostPrice = Items[i].CostPrice;
                const Sync = Items[i].Sync;
                const data1 = [Iid, Id, Qty, CostPrice, 0];
                this.database.executeSql('INSERT INTO  invoiceitems (Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?)', data1)
                    .then(data => {
                    console.log('successfully Add item');
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
                this.database.executeSql('UPDATE items SET Instock=Instock-?,Sync=? where itemid=?', [Qty, Sync, Id])
                    .then(data => {
                    console.log('successfully Updated stock');
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }
            //clients not sync after adding
            this.database.executeSql('UPDATE clients SET Balance=Balance+?,Sync=? WHERE Cid=?', [Total, CustomerSync, Cid]).then(data => {
                console.log(data);
                ;
                return data;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            //const date1 = this.datePipe.transform(CreateDate, 'dd MMM yyyy');
            //alert('da'+date1);
            this.database.executeSql('INSERT INTO  tblledger (InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [Iid, a, Total, Cid, 0, b, 'rizwanali', Message, 0])
                .then(data => {
                console.log('successfully Added Ledger');
                return data;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            return Iid;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    getAllInvoices() {
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message,invoices.Status,invoices.Sync,clients.Fname,clients.Shop,clients.City,clients.Lname,clients.BillingAddress from invoices,clients WHERE invoices.Cid=clients.Cid', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: data.rows.item(i).CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: data.rows.item(i).DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Fname: data.rows.item(i).Fname,
                        Shop: data.rows.item(i).Shop,
                        City: data.rows.item(i).City,
                        Lname: data.rows.item(i).Lname,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        Status: data.rows.item(i).Status,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getAllInvoices2() {
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message,invoices.Status,invoices.Sync,clients.Fname,clients.Shop,clients.City,clients.Lname,clients.BillingAddress,clients.Cell from invoices,clients WHERE invoices.Status=1 AND invoices.Cid=clients.Cid ORDER BY invoices.Iid DESC', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: data.rows.item(i).CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: data.rows.item(i).DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Fname: data.rows.item(i).Fname,
                        Shop: data.rows.item(i).Shop,
                        City: data.rows.item(i).City,
                        Lname: data.rows.item(i).Lname,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        Cell: data.rows.item(i).Cell,
                        Status: data.rows.item(i).Status,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    addUser(Email, Name) {
        const data = [Email, Name, 1, 0];
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO tblUsers(email,name,bActive,Sync) VALUES (?,?,?,?)', data)
            .then(data2 => {
            const Iid = data2.insertId;
            console.log('successfully Created item');
            const data1 = ['Client Display', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data1)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data22 = ['Client Add', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data22)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data3 = ['Client Details', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data3)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data4 = ['Client Edit', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data4)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            // const data5 = [ 'Client Add', Iid, 1, 0];
            // // tslint:disable-next-line: max-line-length
            // this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data5)
            // .then(data3 => {
            //   console.log('successfully Created item');
            //   return data3;
            // }, err => {
            //   console.log('Error: ', err);
            //   return err;
            // });
            const data6 = ['Item Display', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data6)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data7 = ['Item Add', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data7)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data8 = ['Item Details', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data8)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data9 = ['Item Edit', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data9)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data10 = ['Vendor Display', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data10)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data11 = ['Vendor Add', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data11)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data12 = ['Vendor Details', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data12)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data13 = ['Vendor Edit', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data13)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data14 = ['Expense Display', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data14)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data21 = ['Expense Add', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data21)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data15 = ['Expense Details', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data15)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data16 = ['Expense Edit', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data16)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data17 = ['Invoice Display', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data17)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data18 = ['Invoice Add', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data18)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data19 = ['Invoice Details', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data19)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data26 = ['PO Display', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data26)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data24 = ['PO Add', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data24)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data25 = ['PO Details', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data25)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            // const data20 = [ 'Order Edit', Iid, 0, 0];
            // // tslint:disable-next-line: max-line-length
            // this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data20)
            // .then(data3 => {
            //   console.log('successfully Created item');
            //   return data3;
            // }, err => {
            //   console.log('Error: ', err);
            //   return err;
            // });
            const data23 = ['Log Display', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data23)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            const data27 = ['Report Display', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data27)
                .then(data3 => {
                console.log('successfully Created item');
                return data3;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            // const data24 = [ 'User Display', Iid, 0, 0];
            // // tslint:disable-next-line: max-line-length
            // this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data24)
            // .then(data3 => {
            //   console.log('successfully Created item');
            //   return data3;
            // }, err => {
            //   console.log('Error: ', err);
            //   return err;
            // });
            // const data26 = [ 'User Add', Iid, 0, 0];
            // // tslint:disable-next-line: max-line-length
            // this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data26)
            // .then(data3 => {
            //   console.log('successfully Created item');
            //   return data3;
            // }, err => {
            //   console.log('Error: ', err);
            //   return err;
            // });
            // const data25 = [ 'User Add', Iid, 0, 0];
            // // tslint:disable-next-line: max-line-length
            // this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data25)
            // .then(data3 => {
            //   console.log('successfully Created item');
            //   return data3;
            // }, err => {
            //   console.log('Error: ', err);
            //   return err;
            // });
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    updateUser(ID, Name, Email, Sync) {
        // alert('ID = ' + ID + 'name = ' + Name + 'email = ' + Email + 'Sync = ' + Sync )
        return this.database.executeSql('UPDATE tblUsers SET email=?,name=?,Sync=? WHERE ID=?', [Email, Name, Sync, ID]).then(data => {
            console.log(data);
            return 1;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    deleteUser(ID, Sync) {
        return this.database.executeSql('UPDATE tblUsers SET bActive=0,Sync=? WHERE ID=?', [Sync, ID]).then(data => {
            console.log(data);
            return 1;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    activateUser(ID, Sync) {
        ;
        return this.database.executeSql('UPDATE tblUsers SET bActive=1,Sync=? WHERE ID=?', [Sync, ID]).then(data => {
            console.log(data);
            return 1;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    syncAddedUsers() {
        return this.database.executeSql('SELECT * FROM tblUsers where Sync=0', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        email: data.rows.item(i).email,
                        name: data.rows.item(i).name,
                        bActive: data.rows.item(i).bActive,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getUser(id, url) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let loading = yield this.loadingController.create();
            yield loading.present();
            this.database.executeSql('SELECT * FROM tblUsers WHERE ID=?', [id]).then((data) => {
                let items = [];
                if (data.rows.length > 0) {
                    for (let i = 0; i < data.rows.length; i++) {
                        items.push({
                            ID: data.rows.item(i).ID,
                            email: data.rows.item(i).email,
                            name: data.rows.item(i).name,
                            bActive: data.rows.item(i).bActive,
                            Sync: data.rows.item(i).Sync,
                        });
                    }
                }
                console.log(items);
                const navigationExtras = {
                    state: {
                        edititem: items[0],
                        url: url
                    }
                };
                this.router.navigate(['userdetails'], navigationExtras);
                loading.dismiss();
                //return items;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        });
    }
    getAllUser() {
        return this.database.executeSql('SELECT * FROM tblUsers where email!=?', ['test@rizwanali.pk']).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        email: data.rows.item(i).email,
                        name: data.rows.item(i).name,
                        bActive: data.rows.item(i).bActive,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            // alert('active' + items.length)
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getUserssonspot() {
        return this.database.executeSql('SELECT * FROM tblUsers ORDER BY ID DESC LIMIT 0, 1', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updateSyncedUsers(IDs) {
        for (let i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  tblUsers Set Sync=1 where ID=?', [IDs[i]]).then((data) => {
                console.log(data);
                return data;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        }
    }
    syncUpdatedUsers() {
        return this.database.executeSql('SELECT * FROM tblUsers where Sync=2', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        email: data.rows.item(i).email,
                        name: data.rows.item(i).name,
                        bActive: data.rows.item(i).bActive,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getInvoices2Pagination(from1) {
        // alert('y')
        let total = 0;
        this.database.executeSql('SELECT * From invoices', []).then((data1) => {
            // total = data1.rows.length;
            console.log('data from' + data1.rows.length);
            total = data1.rows.length;
            total = data1.rows.length;
            //  alert('s' +  data1.rows.length)
        });
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message,invoices.Status,invoices.Sync,clients.Fname,clients.Shop,clients.City,clients.Lname,clients.BillingAddress,clients.Cell,clients.Sync AS clientSync from invoices,clients WHERE invoices.Status!=0 AND invoices.Cid=clients.Cid ORDER BY invoices.Iid DESC limit ?, 10', [from1]).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    const z = new Date(parseInt(data.rows.item(i).CreateDate) * 1000).toString();
                    const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    const y = new Date(parseInt(data.rows.item(i).DueDate) * 1000).toString();
                    const DueDate = this.datePipe.transform(y, 'dd MMM yyyy');
                    Pos.push({
                        Total1: total,
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        clientSync: data.rows.item(i).clientSync,
                        CreateDate: CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Fname: data.rows.item(i).Fname,
                        Shop: data.rows.item(i).Shop,
                        City: data.rows.item(i).City,
                        Lname: data.rows.item(i).Lname,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        Cell: data.rows.item(i).Cell,
                        Status: data.rows.item(i).Status,
                        Sync: data.rows.item(i).Sync,
                    });
                }
                // alert('data.rows.length' + data.rows.item(0).Iid);
            }
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    syncUpdatedOrder() {
        return this.database.executeSql('SELECT * From invoices where Sync=2', []).then((data) => {
            let Pos = [];
            // alert('syncupdatedorder ' + data.rows.length)
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: data.rows.item(i).CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: data.rows.item(i).DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Status: data.rows.item(i).Status,
                    });
                }
            }
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    syncUpdatedInvoicesItems() {
        return this.database.executeSql('Select * from invoiceitems where Sync=2', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iiid: data.rows.item(i).Iiid,
                        Iid: data.rows.item(i).Iid,
                        Itemid: data.rows.item(i).Itemid,
                        Qty: data.rows.item(i).Qty,
                        CostPrice: data.rows.item(i).CostPrice,
                    });
                }
            }
            ;
            // alert('invoiceitems  =  ' + Pos.length)
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    syncDeletedLedger() {
        return this.database.executeSql('SELECT * FROM ledgerdel', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        Oid: data.rows.item(i).Oid,
                    });
                }
            }
            ;
            // alert('Deleted OID ' + items.length)
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updatedSyncedDeletedLedger(IDs) {
        for (let i = 0; i < IDs.length; i++) {
            return this.database.executeSql('Delete from ledgerdel where Oid=?', [IDs[i]]).then((data) => {
                console.log(data);
                return data;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        }
    }
    getAllInvoices3() {
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message,invoices.Status,invoices.Sync,clients.Fname,clients.Shop,clients.City,clients.Lname,clients.BillingAddress from invoices,clients WHERE invoices.Status=0 AND invoices.Cid=clients.Cid ORDER BY invoices.Iid DESC', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    const z = new Date(parseInt(data.rows.item(i).CreateDate) * 1000).toString();
                    const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    const y = new Date(parseInt(data.rows.item(i).DueDate) * 1000).toString();
                    const DueDate = this.datePipe.transform(y, 'dd MMM yyyy');
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Fname: data.rows.item(i).Fname,
                        Shop: data.rows.item(i).Shop,
                        City: data.rows.item(i).City,
                        Lname: data.rows.item(i).Lname,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        Status: data.rows.item(i).Status,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getAllInvoices1(ID) {
        return this.database.executeSql('Select *From invoices  where Iid=?', [ID]).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: data.rows.item(i).CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: data.rows.item(i).DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Fname: data.rows.item(i).Fname,
                        Shop: data.rows.item(i).Shop,
                        City: data.rows.item(i).City,
                        Lname: data.rows.item(i).Lname,
                        BillingAddress: data.rows.item(i).BillingAddress
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getInvoiceItems(Iid) {
        return this.database.executeSql('Select invoiceitems.Iiid,items.Description,items.Instock,items.Sync,invoiceitems.ItemID As Id,invoiceitems.Qty,invoiceitems.CostPrice from items,invoiceitems WHERE invoiceitems.Iid=? AND items.itemid=invoiceitems.Itemid ORDER BY items.itemid', [Iid]).then((data) => {
            let items = [];
            let Instock = 0;
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Instock = data.rows.item(i).Instock + data.rows.item(i).Qty;
                    items.push({
                        Iiid: data.rows.item(i).Iiid,
                        Description: data.rows.item(i).Description,
                        Instock: Instock,
                        Sync: data.rows.item(i).Sync,
                        Id: data.rows.item(i).Id,
                        Qty: data.rows.item(i).Qty,
                        CostPrice: data.rows.item(i).CostPrice
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getInvoiceCred(Iid) {
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message from invoices  WHERE invoices.Iid=? ', [Iid]).then((data) => {
            let items = [];
            ;
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: data.rows.item(i).CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: data.rows.item(i).DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    deleteBalance(Iid) {
        ;
        return this.getInvoiceCred(Iid).then((Items) => {
            for (let i = 0; i <= Items.length; i++) {
                this.database.executeSql('UPDATE clients SET Balance=Balance-? where Cid=?', [Items[i].Total, Items[i].Cid])
                    .then(data => {
                    console.log('successfully Updated Balance');
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }
        });
    }
    getCustomerbalance(CustomerID) {
        let items = [];
        let result = {
            Amount: 0,
            TotalDebit: 0,
            TotalCredit: 0
        };
        this.database.executeSql('SELECT Amount  FROM tblledger where CustomerID=? AND IsCredit=1 ORDER BY Date DESC limit 1', [CustomerID])
            .then(data => {
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    if (data.rows.item(i).Amount === null) {
                        result.Amount = 0;
                    }
                    else {
                        result.Amount = data.rows.item(i).Amount;
                    }
                }
            }
        }, err => {
            console.log('Error: ', err);
            return err;
        });
        this.database.executeSql('SELECT SUM(Amount) AS TotalDebit FROM tblledger where CustomerID=? AND IsCredit=0', [CustomerID])
            .then(data1 => {
            if (data1.rows.length > 0) {
                for (let i = 0; i < data1.rows.length; i++) {
                    result.TotalDebit = data1.rows.item(i).TotalDebit;
                }
            }
        }, err => {
            console.log('Error: ', err);
            return err;
        });
        return this.database.executeSql('SELECT SUM(Amount) AS TotalCredit FROM tblledger where CustomerID=? AND IsCredit=1', [CustomerID])
            .then(data2 => {
            if (data2.rows.length > 0) {
                for (let i = 0; i < data2.rows.length; i++) {
                    if (data2.rows.item(i).TotalCredit === null) {
                        result.TotalCredit = 0;
                    }
                    else {
                        result.TotalCredit = data2.rows.item(i).TotalCredit;
                    }
                }
            }
            return result;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    updateInvoice(invoiceId, AccountId, Cid, Name, CreateDate, Terms, DueDate, Items, Subtotal, Discount, Total, Message, Status, CustomerBalance) {
        this.database.executeSql('UPDATE clients SET Balance=Balance+? WHERE Cid=?', [CustomerBalance, Cid]).then(data => {
            console.log(data);
            ;
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
        this.database.executeSql('INSERT INTO Invoicedel (Iid)  VALUES (?)', [invoiceId])
            .then(data => {
        }, err => {
            console.log('Error: ', err);
            return err;
        });
        this.database.executeSql('DELETE from tblledger where InvoiceID=?', [invoiceId])
            .then(data => {
        }, err => {
            console.log('Error: ', err);
            return err;
        });
        return this.database.executeSql('DELETE from invoiceitems where Iid=?', [invoiceId])
            .then(data => {
            console.log('successfully deleted Invoiceitems');
            this.database.executeSql('DELETE from invoices where Iid=?', [invoiceId])
                .then(data1 => {
                console.log('successfully deleted Invoice');
                const data7 = [AccountId, Cid, Name, CreateDate, Terms, DueDate, Subtotal, Discount, Total, Message, Status, 0];
                // tslint:disable-next-line: max-line-length
                return this.database.executeSql('INSERT INTO  invoices (AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?)', data7)
                    .then(data2 => {
                    console.log('successfully Created invoice');
                    console.log(data2.insertId);
                    const Iid = data2.insertId;
                    this.updatedIid = data2.insertId;
                    this.database.executeSql('UPDATE tblLogs SET tableId=? where tableName=? AND  tableId=?', [this.updatedIid, 'invoices', invoiceId])
                        .then(data => {
                        this.AddLogUpdatedInvoice();
                    }, err => {
                        console.log('Error: ', err);
                        return err;
                    });
                    for (let i = 0; i < Items.length; i++) {
                        const Id = Items[i].Id;
                        const Qty = Items[i].Qty;
                        const CostPrice = Items[i].CostPrice;
                        const stock = Items[i].stock;
                        const Sync = Items[i].Sync;
                        const data3 = [Iid, Id, Qty, CostPrice, 0];
                        this.database.executeSql('INSERT INTO  invoiceitems (Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?)', data3)
                            .then(data4 => {
                            console.log('successfully Add item');
                            return data4;
                        }, err => {
                            console.log('Error: ', err);
                            return err;
                        });
                        this.database.executeSql('UPDATE items SET Instock=Instock-?,Sync=? where itemid=?', [stock, Sync, Id])
                            .then(data5 => {
                            console.log('successfully Updated stock');
                            return data5;
                        }, err => {
                            console.log('Error: ', err);
                            return err;
                        });
                    }
                    // this.AddLogUpdatedInvoice();
                    this.database.executeSql('INSERT INTO  tblledger (InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks) VALUES (?,?,?,?,?,?,?,?)', [Iid, CreateDate, Total, Cid, 0, DueDate, 'rizwanali', Message])
                        .then(data6 => {
                        console.log('successfully Updated Ledger');
                        return data6;
                    }, err => {
                        console.log('Error: ', err);
                        return err;
                    });
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }, err => {
                console.log('Error:1 ', err);
                return err;
            });
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    updateOrder(invoiceId, AccountId, Cid, Name, CreateDate, Terms, DueDate, Items, Subtotal, Discount, Total, Message, Status, CustomerBalance, clientSync, invoiceSync) {
        const a = Math.round((new Date(CreateDate)).getTime() / 1000);
        const b = Math.round((new Date(DueDate)).getTime() / 1000);
        this.database.executeSql('UPDATE clients SET Balance=Balance+?,Sync=? WHERE Cid=?', [CustomerBalance, clientSync, Cid]).then(data => {
            console.log(data);
            ;
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
        // this.database.executeSql('UPDATE tblvendors SET Balance=Balance+?,Sync=? WHERE ID=?',[CustomerBalance, VendorSync, VendorID]).then(data => {
        //   console.log(data);
        //   return data;
        // }, err => {
        //   console.log('Error: ', err);
        //   return err;
        // });
        // this.database.executeSql('INSERT INTO Invoicedel (Iid)  VALUES (?)', [invoiceId])
        //  .then(data => {
        //  }, err => {
        //    console.log('Error: ', err);
        //    return err;
        //  });
        this.database.executeSql('DELETE from tblledger where InvoiceID=?', [invoiceId])
            .then(data => {
        }, err => {
            console.log('Error: ', err);
            return err;
        });
        // this.database.executeSql('DELETE from tblledgervendor where POID=?', [invoiceId])
        //  .then(data => {
        //  }, err => {
        //    console.log('Error: ', err);
        //    return err;
        //  });
        this.database.executeSql('INSERT INTO ledgerdel (Oid) VALUES (?)', [invoiceId])
            .then(data => {
        }, err => {
            console.log('Error: ', err);
            return err;
        });
        return this.database.executeSql('DELETE from invoiceitems where Iid=?', [invoiceId])
            .then(data => {
            // alert('successfully deleted Invoiceitems');
            console.log('successfully deleted Invoiceitems');
            this.database.executeSql('DELETE from invoices where Iid=?', [invoiceId])
                .then(data1 => {
                // alert('successfully deleted Invoice');
                // alert('invoiceSync = ' + invoiceSync)
                console.log('successfully deleted Invoice');
                const data7 = [invoiceId, AccountId, Cid, Name, a, Terms, b, Subtotal, Discount, Total, Message, Status, invoiceSync];
                // tslint:disable-next-line: max-line-length
                return this.database.executeSql('INSERT INTO  invoices (Iid,AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)', data7)
                    .then(data2 => {
                    // alert('successfully Created invoice');
                    console.log('successfully Created invoice');
                    console.log(data2.insertId);
                    const Iid = data2.insertId;
                    this.updatedIid = data2.insertId;
                    this.database.executeSql('UPDATE tblLogs SET tableId=? where tableName=? AND  tableId=?', [invoiceId, 'invoices', invoiceId])
                        .then(data => {
                        this.AddLogUpdatedInvoice();
                    }, err => {
                        console.log('Error: ', err);
                        return err;
                    });
                    for (let i = 0; i < Items.length; i++) {
                        const Iiid = Items[i].Iiid;
                        const Id = Items[i].Id;
                        const Qty = Items[i].Qty;
                        const CostPrice = Items[i].CostPrice;
                        const stock = Items[i].stock;
                        const Sync = Items[i].Sync;
                        const data3 = [Iiid, invoiceId, Id, Qty, CostPrice, Sync];
                        this.database.executeSql('INSERT INTO  invoiceitems (Iiid,Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data3)
                            .then(data4 => {
                            console.log('successfully Add item');
                            return data4;
                        }, err => {
                            console.log('Error: ', err);
                            return err;
                        });
                        this.database.executeSql('UPDATE items SET Instock=Instock-?,Sync=? where itemid=?', [stock, Sync, Id])
                            .then(data5 => {
                            console.log('successfully Updated stock');
                            return data5;
                        }, err => {
                            console.log('Error: ', err);
                            return err;
                        });
                    }
                    // this.AddLogUpdatedInvoice();
                    this.database.executeSql('INSERT INTO  tblledger (InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [invoiceId, a, Total, Cid, 0, b, 'rizwanali', Message, 0])
                        .then(data6 => {
                        // alert('successfully Added client Ledger')
                        console.log('successfully Updated Ledger');
                        return data6;
                    }, err => {
                        console.log('Error: ', err);
                        return err;
                    });
                    // this.database.executeSql('INSERT INTO  tblledgervendor (POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [invoiceId, CreateDate, Total, VendorID, 0, null, 'rizwanali', Message, 0])
                    // .then(data => {
                    //  // alert('successfully Updated venfor ledger')
                    //   console.log('successfully Added Ledger');
                    //   return data;
                    // }, err => {
                    //   console.log('Error: ', err);
                    //   return err;
                    // });
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }, err => {
                console.log('Error:1 ', err);
                return err;
            });
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    updateInvoicePayment(invoiceId, AccountId, Cid, Name, CreateDate, Terms, DueDate, Items, Subtotal, Discount, Total, PaidDate, Paid, Message, Status) {
        return this.database.executeSql('DELETE from invoiceitems where Iid=?', [invoiceId])
            .then(data => {
            console.log('successfully deleted Invoiceitems');
            this.database.executeSql('DELETE from invoices where Iid=?', [invoiceId])
                .then(data1 => {
                console.log('successfully deleted Invoice');
                const data7 = [AccountId, Cid, Name, CreateDate, Terms, DueDate, Subtotal, Discount, Total, Message, 0];
                // tslint:disable-next-line: max-line-length
                return this.database.executeSql('INSERT INTO  invoices (AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?)', data7)
                    .then(data2 => {
                    console.log('successfully Created invoice');
                    console.log(data2.insertId);
                    const Iid = data2.insertId;
                    for (let i = 0; i < Items.length; i++) {
                        const Id = Items[i].Id;
                        const Qty = Items[i].Qty;
                        const CostPrice = Items[i].CostPrice;
                        const stock = Items[i].stock;
                        const data3 = [Iid, Id, Qty, CostPrice, 0];
                        this.database.executeSql('INSERT INTO  invoiceitems (Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?)', data3)
                            .then(data4 => {
                            console.log('successfully Add item');
                            return data4;
                        }, err => {
                            console.log('Error: ', err);
                            return err;
                        });
                        this.database.executeSql('UPDATE items SET Instock=Instock-? where itemid=?', [stock, Id])
                            .then(data5 => {
                            console.log('successfully Updated stock');
                            return data5;
                        }, err => {
                            console.log('Error: ', err);
                            return err;
                        });
                    }
                    //  this.database.executeSql('INSERT INTO  tblledger (InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks) VALUES (?,?,?,?,?,?,?,?)', [Iid, CreateDate, Total, Cid, 0, DueDate, 'rizwanali', Message])
                    //  .then(data6 => {
                    //    console.log('successfully Updated Ledger');
                    //    return data6;
                    //  }, err => {
                    //    console.log('Error: ', err);
                    //    return err;
                    //  });
                    const data3 = [Iid, PaidDate, Paid, Cid, 1, null, 'rizeanali', null, 0];
                    //  const data3 = [ Iid, PaidDate, Paid, Cid, 1, PaidDate, 'rizeanali', null, 0];
                    this.database.executeSql('INSERT INTO  tblledger(InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data3)
                        .then(data4 => {
                        console.log('successfully Add Payment');
                        return data4;
                    }, err => {
                        console.log('Error: ', err);
                        return err;
                    });
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }, err => {
                console.log('Error:1 ', err);
                return err;
            });
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    syncAddedItems() {
        return this.database.executeSql('SELECT * FROM items where Sync=0', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        itemid: data.rows.item(i).itemid,
                        AccountId: data.rows.item(i).AccountId,
                        Description: data.rows.item(i).Description,
                        Rate: data.rows.item(i).Rate,
                        Cost: data.rows.item(i).Cost,
                        Instock: data.rows.item(i).Instock,
                        Active: data.rows.item(i).Active,
                    });
                    this.database.executeSql('UPDATE  items Set Sync=1 where itemid=?', [data.rows.item(i).itemid]).then((data) => {
                        console.log('y' + data);
                        return data;
                    }, err => {
                        console.log('Error: ', err);
                        return [];
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    syncUpdatedItems() {
        return this.database.executeSql('SELECT * FROM items where Sync=2', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        itemid: data.rows.item(i).itemid,
                        Description: data.rows.item(i).Description,
                        Rate: data.rows.item(i).Rate,
                        Cost: data.rows.item(i).Cost,
                        Instock: data.rows.item(i).Instock,
                        Active: data.rows.item(i).Active,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getItemssonspot() {
        return this.database.executeSql('SELECT * FROM items ORDER BY itemid DESC LIMIT 0, 1', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        itemid: data.rows.item(i).itemid,
                        Description: data.rows.item(i).Description,
                        Rate: data.rows.item(i).Rate,
                        Cost: data.rows.item(i).Cost,
                        Instock: data.rows.item(i).Instock,
                        Active: data.rows.item(i).Active,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updateSyncedItems(IDs) {
        for (let i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  items Set Sync=1 where itemid=?', [IDs[i]]).then((data) => {
                console.log(data);
                return data;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        }
    }
    syncAddedClients() {
        return this.database.executeSql('SELECT * FROM clients where Sync=0', []).then((data) => {
            let clients = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    clients.push({
                        Cid: data.rows.item(i).Cid,
                        AccountId: data.rows.item(i).AccountId,
                        Fname: data.rows.item(i).Fname,
                        Lname: data.rows.item(i).Lname,
                        Shop: data.rows.item(i).Shop,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        City: data.rows.item(i).City,
                        Cell: data.rows.item(i).Cell,
                        Balance: data.rows.item(i).Balance,
                        Active: data.rows.item(i).Active,
                    });
                }
            }
            ;
            console.log(clients);
            return clients;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    syncUpdatedClients() {
        return this.database.executeSql('SELECT * FROM clients where Sync=2', []).then((data) => {
            let clients = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    clients.push({
                        Cid: data.rows.item(i).Cid,
                        Fname: data.rows.item(i).Fname,
                        Lname: data.rows.item(i).Lname,
                        Shop: data.rows.item(i).Shop,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        City: data.rows.item(i).City,
                        Cell: data.rows.item(i).Cell,
                        Balance: data.rows.item(i).Balance,
                        Active: data.rows.item(i).Active,
                    });
                }
            }
            ;
            console.log(clients);
            return clients;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updateSyncedClients(IDs) {
        for (let i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  clients Set Sync=1 where Cid=?', [IDs[i]]).then((data) => {
                console.log(data);
                return data;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        }
    }
    syncAddedVendors() {
        return this.database.executeSql('SELECT * FROM tblvendors where Sync=0', []).then((data) => {
            let vedndors = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    vedndors.push({
                        ID: data.rows.item(i).ID,
                        Name: data.rows.item(i).Name,
                        Address: data.rows.item(i).Address,
                        Phone: data.rows.item(i).Phone,
                        Email: data.rows.item(i).Email,
                        bActive: data.rows.item(i).bActive,
                        Balance: data.rows.item(i).Balance,
                    });
                    this.database.executeSql('UPDATE  tblvendors Set Sync=1 where ID=?', [data.rows.item(i).ID]).then((data) => {
                        console.log(data);
                        return data;
                    }, err => {
                        console.log('Error: ', err);
                        return [];
                    });
                }
            }
            ;
            console.log(vedndors);
            return vedndors;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    syncUpdatedVendors() {
        return this.database.executeSql('SELECT * FROM tblvendors where Sync=2', []).then((data) => {
            let vedndors = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    vedndors.push({
                        ID: data.rows.item(i).ID,
                        Name: data.rows.item(i).Name,
                        Address: data.rows.item(i).Address,
                        Phone: data.rows.item(i).Phone,
                        Email: data.rows.item(i).Email,
                        bActive: data.rows.item(i).bActive,
                        Balance: data.rows.item(i).Balance,
                    });
                }
            }
            ;
            console.log(vedndors);
            return vedndors;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updateSyncedVendors(IDs) {
        for (let i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  tblvendors Set Sync=1 where ID=?', [IDs[i]]).then((data) => {
                console.log(data);
                return data;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        }
    }
    syncAddedPOS() {
        return this.database.executeSql('Select * from tblpurchasedorder where Sync=0', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        ID: data.rows.item(i).ID,
                        VendorID: data.rows.item(i).VendorID,
                        Date: data.rows.item(i).Date,
                        ReceivedBy: data.rows.item(i).ReceivedBy,
                        Total: data.rows.item(i).Total,
                        Remarks: data.rows.item(i).Remarks,
                        Discount: data.rows.item(i).Discount,
                        Active: data.rows.item(i).Active,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updateSyncedPOS(IDs) {
        for (let i = 0; i < IDs.length; i++) { //'UPDATE tblpurchasedorder SET Active=0,Sync=2 where ID=?,UPDATE  tblpurchasedorder SET Sync=1 where ID=?
            return this.database.executeSql('UPDATE tblpurchasedorder SET Sync=1 where ID=?', [IDs[i]])
                .then(data => {
                console.log('successfully Updated stock');
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        }
    }
    syncAddedPOsItems() {
        return this.database.executeSql('Select * from tblpodetail where Sync=0', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        ID: data.rows.item(i).ID,
                        Poid: data.rows.item(i).Poid,
                        ItemID: data.rows.item(i).ItemID,
                        Qty: data.rows.item(i).Qty,
                        CostPrice: data.rows.item(i).CostPrice,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updateSyncedPOSItems(IDs) {
        for (let i = 0; i < IDs.length; i++) { //'UPDATE tblpurchasedorder SET Active=0,Sync=2 where ID=?
            return this.database.executeSql('UPDATE  tblpodetail Set Sync=1 where ID=?', [IDs[i]]).then((data) => {
                console.log(data);
                return data;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        }
    }
    syncAddedInvoices() {
        return this.database.executeSql('Select * from invoices WHERE Sync=0', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: data.rows.item(i).CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: data.rows.item(i).DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Status: data.rows.item(i).Status,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    syncMarkAsPaidInvoices() {
        return this.database.executeSql('Select * from invoices WHERE Sync=2', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: data.rows.item(i).CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: data.rows.item(i).DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Status: data.rows.item(i).Status,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updateSyncedInvoices(IDs) {
        for (let i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  invoices Set Sync=1 where Iid=?', [IDs[i]]).then((data) => {
                console.log(data);
                return data;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        }
    }
    syncAddedInvoicesItems() {
        return this.database.executeSql('Select * from invoiceitems where Sync=0', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iiid: data.rows.item(i).Iiid,
                        Iid: data.rows.item(i).Iid,
                        Itemid: data.rows.item(i).Itemid,
                        Qty: data.rows.item(i).Qty,
                        CostPrice: data.rows.item(i).CostPrice,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updateSyncedInvoicesItems(IDs) {
        for (let i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  invoiceitems Set Sync=1 where Iiid=?', [IDs[i]]).then((data) => {
                console.log(data);
                return data;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        }
    }
    syncAddedLedger() {
        return this.database.executeSql('Select * from tblledger WHERE Sync=0', []).then((data) => {
            let ledger = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    ledger.push({
                        ID: data.rows.item(i).ID,
                        InvoiceID: data.rows.item(i).InvoiceID,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        CustomerID: data.rows.item(i).CustomerID,
                        IsCredit: data.rows.item(i).IsCredit,
                        //DueDate: data.rows.item(i).DueDate,
                        DueDate: data.rows.item(i).Date,
                        ByUserId: data.rows.item(i).ByUserId,
                        Remarks: data.rows.item(i).Remarks,
                    });
                }
            }
            ;
            // alert('addedledger = ' + ledger.length)
            console.log('check this = ' + ledger[0]);
            return ledger;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    syncUpdatedLedger() {
        return this.database.executeSql('Select * from tblledger WHERE Sync=2', []).then((data) => {
            let ledger = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    ledger.push({
                        ID: data.rows.item(i).ID,
                        InvoiceID: data.rows.item(i).InvoiceID,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        CustomerID: data.rows.item(i).CustomerID,
                        IsCredit: data.rows.item(i).IsCredit,
                        //DueDate: data.rows.item(i).DueDate,
                        DueDate: data.rows.item(i).Date,
                        ByUserId: data.rows.item(i).ByUserId,
                        Remarks: data.rows.item(i).Remarks,
                    });
                }
            }
            ;
            console.log(ledger);
            return ledger;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    syncAddedLedgerVendor() {
        return this.database.executeSql('Select * from tblledgervendor WHERE Sync=0', []).then((data) => {
            let ledger = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    ledger.push({
                        ID: data.rows.item(i).ID,
                        POID: data.rows.item(i).POID,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        VendorID: data.rows.item(i).VendorID,
                        IsCredit: data.rows.item(i).IsCredit,
                        //DueDate: data.rows.item(i).DueDate,
                        DueDate: data.rows.item(i).Date,
                        ByUserId: data.rows.item(i).ByUserId,
                        Remarks: data.rows.item(i).Remarks,
                    });
                }
            }
            ;
            console.log(ledger);
            return ledger;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    syncUpdatedLedgerVendor() {
        return this.database.executeSql('Select * from tblledgervendor WHERE Sync=2', []).then((data) => {
            let ledger = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    ledger.push({
                        ID: data.rows.item(i).ID,
                        POID: data.rows.item(i).POID,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        VendorID: data.rows.item(i).VendorID,
                        IsCredit: data.rows.item(i).IsCredit,
                        //DueDate: data.rows.item(i).DueDate,
                        DueDate: data.rows.item(i).Date,
                        ByUserId: data.rows.item(i).ByUserId,
                        Remarks: data.rows.item(i).Remarks,
                    });
                }
            }
            ;
            // alert('syncAddedLedgerVendor ' + ledger.length)
            console.log(ledger);
            return ledger;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updateSyncedAddedLedger(IDs) {
        for (let i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  tblledger Set Sync=1 where ID=?', [IDs[i]]).then((data) => {
                console.log(data);
                return data;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        }
    }
    updateSyncedAddedLedgerVendors(IDs) {
        for (let i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  tblledgervendors Set Sync=1 where ID=?', [IDs[i]]).then((data) => {
                console.log(data);
                return data;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        }
    }
    getAlldelPOS() {
        return this.database.executeSql('Select * from POdel', []).then(data => {
            console.log(data);
            let POIDs = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    POIDs.push({
                        ID: data.rows.item(i).POid,
                    });
                }
            }
            return POIDs;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    updatedelsPOS() {
        return this.database.executeSql('DELETE from  POdel', []).then((data) => {
            console.log(data);
            return data;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getAlldelInvoices() {
        return this.database.executeSql('Select * from Invoicedel', []).then(data => {
            console.log(data);
            let POIDs = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    POIDs.push({
                        ID: data.rows.item(i).Iid,
                    });
                }
            }
            return POIDs;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    updatedelsInvoices() {
        return this.database.executeSql('DELETE from  Invoicedel', []).then((data) => {
            console.log(data);
            return data;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getItem(id, url) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let loading = yield this.loadingController.create();
            yield loading.present();
            this.database.executeSql('SELECT * FROM items WHERE itemid=?', [id]).then((data) => {
                let items = [];
                if (data.rows.length > 0) {
                    for (let i = 0; i < data.rows.length; i++) {
                        items.push({
                            itemid: data.rows.item(i).itemid,
                            AccountId: data.rows.item(i).AccountId,
                            Description: data.rows.item(i).Description,
                            Rate: data.rows.item(i).Rate,
                            Cost: data.rows.item(i).Cost,
                            Instock: data.rows.item(i).Instock,
                            Active: data.rows.item(i).Active,
                            Sync: data.rows.item(i).Sync,
                        });
                    }
                }
                ;
                console.log(items);
                const navigationExtras = {
                    state: {
                        edititem: items[0],
                        url: url
                    }
                };
                this.router.navigate(['menu-itemdetails'], navigationExtras);
                loading.dismiss();
                //return items;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        });
    }
    getClient(id, url) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let loading = yield this.loadingController.create();
            yield loading.present();
            return this.database.executeSql('SELECT * FROM clients where Cid=?', [id]).then((data) => {
                let clients = [];
                if (data.rows.length > 0) {
                    for (let i = 0; i < data.rows.length; i++) {
                        clients.push({
                            Cid: data.rows.item(i).Cid,
                            AccountId: data.rows.item(i).AccountId,
                            Fname: data.rows.item(i).Fname,
                            Lname: data.rows.item(i).Lname,
                            Shop: data.rows.item(i).Shop,
                            BillingAddress: data.rows.item(i).BillingAddress,
                            City: data.rows.item(i).City,
                            Cell: data.rows.item(i).Cell,
                            Active: data.rows.item(i).Active,
                            Balance: data.rows.item(i).Balance,
                            Sync: data.rows.item(i).Sync,
                        });
                    }
                }
                ;
                console.log(clients);
                const navigationExtras = {
                    state: {
                        editclient: clients[0],
                        url: url
                    }
                };
                this.router.navigate(['menu-clientdetails'], navigationExtras);
                loading.dismiss();
                return clients;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        });
    }
    getVendor(id) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let loading = yield this.loadingController.create();
            yield loading.present();
            this.database.executeSql('SELECT * FROM tblvendors where ID=?', [id]).then((data) => {
                let vedndors = [];
                if (data.rows.length > 0) {
                    for (let i = 0; i < data.rows.length; i++) {
                        vedndors.push({
                            ID: data.rows.item(i).ID,
                            Name: data.rows.item(i).Name,
                            Address: data.rows.item(i).Address,
                            Phone: data.rows.item(i).Phone,
                            Email: data.rows.item(i).Email,
                            bActive: data.rows.item(i).bActive,
                            Balance: data.rows.item(i).Balance,
                            Sync: data.rows.item(i).Sync,
                        });
                    }
                }
                ;
                console.log(vedndors);
                const navigationExtras = {
                    state: {
                        editvendor: vedndors[0]
                    }
                };
                this.router.navigate(['vendor-edit'], navigationExtras);
                loading.dismiss();
                // return vedndors;
            }, err => {
                console.log('Error: ', err);
                // return [];
            });
        });
    }
    getClientLedger(ID) {
        return this.database.executeSql('SELECT * FROM tblledger where CustomerID=? ORDER BY ID DESC', [ID]).then((data) => {
            let ledger = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    const ClientID = ledger.push({
                        ID: data.rows.item(i).ID,
                        InvoiceID: data.rows.item(i).InvoiceID,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        IsCredit: data.rows.item(i).IsCredit,
                        Remarks: data.rows.item(i).Remarks,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(ledger);
            return ledger;
        }, err => {
            console.log('Error: ', err);
            // return [];
        });
    }
    getAllClientLedger() {
        return this.database.executeSql('SELECT * FROM tblledger  ', []).then((data) => {
            let ledger = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    ledger.push({
                        InvoiceID: data.rows.item(i).InvoiceID,
                        DueDate: data.rows.item(i).DueDate,
                        CustomerID: data.rows.item(i).CustomerID,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        IsCredit: data.rows.item(i).IsCredit,
                        Remarks: data.rows.item(i).Remarks,
                    });
                }
            }
            ;
            console.log(ledger);
            return ledger;
        }, err => {
            console.log('Error: ', err);
            // return [];
        });
    }
    getVendorLedger(ID) {
        return this.database.executeSql('SELECT * FROM tblledgervendor where VendorID=? ORDER BY ID DESC', [ID]).then((data) => {
            let ledger = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    ledger.push({
                        ID: data.rows.item(i).ID,
                        POID: data.rows.item(i).POID,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        IsCredit: data.rows.item(i).IsCredit,
                        Remarks: data.rows.item(i).Remarks,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(ledger);
            return ledger;
        }, err => {
            console.log('Error: ', err);
            // return [];
        });
    }
    getAllVendorLedger() {
        debugger;
        return this.database.executeSql('SELECT * FROM tblledgervendor', []).then((data) => {
            let ledger = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    ledger.push({
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        IsCredit: data.rows.item(i).IsCredit,
                        Remarks: data.rows.item(i).Remarks,
                    });
                }
            }
            ;
            console.log(ledger);
            return ledger;
        }, err => {
            console.log('Error: ', err);
            // return [];
        });
    }
    addPayment(CustomerID, CustomerSync, date, Amount, Remarks) {
        const a = Math.round((new Date(date)).getTime() / 1000);
        // const date1 = '20191230';
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO  tblledger(InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [null, a, Amount, CustomerID, 1, null, 'rizwanali', Remarks, 0]).then((data) => {
            // this.router.navigate(['/menu/clients']);
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('UPDATE clients SET Balance=Balance-?,Sync=? WHERE Cid=?', [Amount, CustomerSync, CustomerID]).then(data => {
                console.log(data);
                ;
                return data;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            return data;
        }, err => {
            return err;
            console.log('Error: ', err);
            return err;
        });
    }
    editPayment(CustomerID, CustomerSync, date, Amount, Remarks, ledgerID, OldAmount, LedgerSync) {
        const a = Math.round((new Date(date)).getTime() / 1000);
        // alert('old = '+ OldAmount + '\nNew = ' + Amount)
        this.database.executeSql('UPDATE clients SET Balance=Balance+? WHERE Cid=?', [OldAmount, CustomerID]).then(data => {
            //  alert('ys')
        });
        // alert('LedgerSync = ' + LedgerSync)
        // const date1 = '20191230';
        // tslint:disable-next-line: max-line-length
        // return this.database.executeSql('INSERT INTO  tblledger(InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [null, a, Amount, CustomerID, 1, null, 'rizwanali', Remarks, 0]).then((data) => {
        return this.database.executeSql('UPDATE tblledger SET Amount=?,Remarks=?,Sync=? WHERE ID=?', [Amount, Remarks, LedgerSync, ledgerID]).then((data) => {
            // this.router.navigate(['/menu/clients']);
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('UPDATE clients SET Balance=Balance-?,Sync=? WHERE Cid=?', [Amount, CustomerSync, CustomerID]).then(data => {
                console.log(data);
                ;
                return data;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            return data;
        }, err => {
            return err;
            console.log('Error: ', err);
            return err;
        });
    }
    getPayment() {
        return this.database.executeSql('Select * from tblledger', []).then(data => {
            console.log(data);
            let payments = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    payments.push({
                        ID: data.rows.item(i).ID,
                        Amount: data.rows.item(i).Amount,
                        Date: data.rows.item(i).Date
                    });
                }
            }
            return payments;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    addPaymentVendor(VendorID, VendorSync, date, Amount, Remarks) {
        // alert('vendorSync' + VendorSync)
        // const b = Math.round((new Date('30 Jan 2019')).getTime() / 1000);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO  tblledgervendor(POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [null, date, Amount, VendorID, 1, null, 'rizwanali', Remarks, 0]).then((data) => {
            // tslint:disable-next-line: max-line-length
            return this.database.executeSql('UPDATE tblvendors SET Balance=Balance-?,Sync=? WHERE ID=?', [Amount, VendorSync, VendorID]).then(data => {
                console.log(data);
                return 1;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            ;
            // this.router.navigate(['/menu/clients']);
            return data;
        }, err => {
            return err;
            console.log('Error: ', err);
            return err;
        });
        ;
    }
    editPaymentVendor(VendorID, VendorSync, date, Amount, Remarks, PaymentID, OldAmount, LedgerSync) {
        //  alert('old = '+ OldAmount + '\nNew = ' + Amount)
        this.database.executeSql('UPDATE tblvendors SET Balance=Balance+? WHERE ID=?', [OldAmount, VendorID]).then(data => {
            // alert('ys')
        });
        // const b = Math.round((new Date('30 Jan 2019')).getTime() / 1000);
        //  return this.database.executeSql('INSERT INTO  tblledgervendor(POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [null, date, Amount, VendorID, 1, null, 'rizwanali', Remarks, 0]).then((data) => {
        // tslint:disable-next-line: max-line-length  
        return this.database.executeSql('UPDATE tblledgervendor  SET Amount=?,Remarks=?,Sync=? WHERE ID=?', [Amount, Remarks, LedgerSync, PaymentID]).then((data) => {
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('UPDATE tblvendors SET Balance=Balance-?,Sync=? WHERE ID=?', [Amount, VendorSync, VendorID]).then(data => {
                console.log(data);
                return 1;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
            ;
            // this.router.navigate(['/menu/clients']);
            return data;
        }, err => {
            return err;
            console.log('Error: ', err);
            return err;
        });
        ;
    }
    getPO(POID) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let loading = yield this.loadingController.create();
            yield loading.present();
            return this.database.executeSql('Select tblpurchasedorder.ID,tblpurchasedorder.VendorID,tblpurchasedorder.Date,tblpurchasedorder.ReceivedBy,tblpurchasedorder.Total,tblpurchasedorder.Remarks,tblpurchasedorder.Discount,tblpurchasedorder.Active,tblpurchasedorder.Sync,tblvendors.Name,tblvendors.Address,tblvendors.Phone,tblvendors.Email,tblvendors.bActive from tblpurchasedorder,tblvendors WHERE tblpurchasedorder.ID=? AND tblpurchasedorder.VendorID=tblvendors.ID', [POID]).then((data) => {
                let Pos = [];
                if (data.rows.length > 0) {
                    for (let i = 0; i < data.rows.length; i++) {
                        Pos.push({
                            ID: data.rows.item(i).ID,
                            VendorID: data.rows.item(i).VendorID,
                            Date: data.rows.item(i).Date,
                            ReceivedBy: data.rows.item(i).ReceivedBy,
                            Total: data.rows.item(i).Total,
                            Remarks: data.rows.item(i).Remarks,
                            Discount: data.rows.item(i).Discount,
                            Active: data.rows.item(i).Active,
                            Sync: data.rows.item(i).Sync,
                            Name: data.rows.item(i).Name
                        });
                    }
                }
                ;
                this.getPOItems(POID).then((data) => {
                    const items = data;
                    const navigationExtras = {
                        state: {
                            PO: Pos[0],
                            Items: items,
                            url: '/menu/logs'
                        }
                    };
                    this.router.navigate(['podetails'], navigationExtras);
                    loading.dismiss();
                });
                console.log(Pos);
                return Pos;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        });
    }
    getInvoice(Iid, url) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let loading = yield this.loadingController.create();
            yield loading.present();
            return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message,invoices.Status,invoices.Sync,clients.Fname,clients.Shop,clients.City,clients.Lname,clients.BillingAddress,clients.Sync AS clientSync from invoices,clients WHERE invoices.Iid=? AND invoices.Cid=clients.Cid', [Iid]).then((data) => {
                let Pos = [];
                if (data.rows.length > 0) {
                    for (let i = 0; i < data.rows.length; i++) {
                        const z = new Date(parseInt(data.rows.item(i).CreateDate) * 1000).toString();
                        const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                        const y = new Date(parseInt(data.rows.item(i).DueDate) * 1000).toString();
                        const DueDate = this.datePipe.transform(y, 'dd MMM yyyy');
                        Pos.push({
                            Iid: data.rows.item(i).Iid,
                            AccountId: data.rows.item(i).AccountId,
                            Cid: data.rows.item(i).Cid,
                            Name: data.rows.item(i).Name,
                            CreateDate: CreateDate,
                            Terms: data.rows.item(i).Terms,
                            DueDate: DueDate,
                            clientSync: data.rows.item(i).clientSync,
                            Subtotal: data.rows.item(i).Subtotal,
                            Discount: data.rows.item(i).Discount,
                            Total: data.rows.item(i).Total,
                            Message: data.rows.item(i).Message,
                            Fname: data.rows.item(i).Fname,
                            Shop: data.rows.item(i).Shop,
                            City: data.rows.item(i).City,
                            Lname: data.rows.item(i).Lname,
                            Status: data.rows.item(i).Status,
                            BillingAddress: data.rows.item(i).BillingAddress,
                            Sync: data.rows.item(i).Sync,
                        });
                    }
                }
                ;
                console.log(Pos);
                this.getInvoiceItems(Iid).then((data) => {
                    const items = data;
                    const navigationExtras = {
                        state: {
                            invoice: Pos[0],
                            Items: items,
                            url: url
                        }
                    };
                    this.router.navigate(['invoicedetails'], navigationExtras);
                    loading.dismiss();
                });
                return Pos;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        });
    }
    getUpdatedPOID() {
        return this.updatedPOID;
    }
    getUpdatedIid() {
        return this.updatedIid;
    }
    AddLogUpdatedPO() {
        let acttype;
        if (this.usdId === 1) {
            acttype = 'Adnan Ali edited';
        }
        else {
            acttype = 'Test edited';
        }
        const name = 'Purchased Order';
        let now = new Date().toString();
        const a = this.datePipe.transform(now, 'MMMM dd, yyy h:mm a');
        const lgdate = 'at ' + a;
        const tblName = 'tblpurchasedorder';
        // this.tblId = this.PO.ID;
        const tblId = this.getUpdatedPOID();
        //tblName,tblId,this.usdId,this.acttype,this.name,this.lgdate
        this.addLogs(tblName, tblId, this.usdId, acttype, name, lgdate).then(data => {
            console.log("Log has been added");
            //this.GetLogs();
        });
    }
    AddLogUpdatedInvoice() {
        let acttype;
        if (this.usdId === 1) {
            acttype = 'You edited';
        }
        else {
            acttype = 'You edited';
        }
        const name = 'Invoice';
        let now = new Date().toString();
        const a = this.datePipe.transform(now, 'MMMM dd, yyy h:mm a');
        const lgdate = 'at ' + a;
        const tblName = 'invoices';
        // this.tblId = this.PO.ID;
        const tblId = this.getUpdatedIid();
        //tblName,tblId,this.usdId,this.acttype,this.name,this.lgdate
        this.addLogs(tblName, tblId, this.usdId, acttype, name, lgdate).then(data => {
            console.log("Log has been added");
            //this.GetLogs();
        });
    }
    serverSync() {
        console.log('server sync');
        let a = 0;
        this.getAllItems().then(data => {
            if (data.length > 0) {
                a = 1;
                console.log(a);
            }
            this.getAllClients().then(data1 => {
                if (data1.length > 0) {
                    a = 1;
                    console.log(a);
                }
                this.getAllVendors().then(data2 => {
                    if (data2.length > 0) {
                        a = 1;
                        console.log(a);
                    }
                    if (a === 0) {
                        console.log('no data(no)');
                        console.log(a);
                        // this.syncDataServertoApp();
                    }
                    else {
                        console.log('data');
                        console.log(a);
                    }
                });
            });
        });
    }
    getPOITMEStesting() {
        return this.database.executeSql('Select * FROM tblexpenses ', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        Name: data.rows.item(i).Name,
                        Sync: data.rows.item(i).Sync
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    syncAddedLog() {
        return this.database.executeSql('SELECT * FROM tblLogs Where Sync=0', []).then((data) => {
            let logs = [];
            const IDs = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    logs.push({
                        ID: data.rows.item(i).ID,
                        tableName: data.rows.item(i).tableName,
                        tableId: data.rows.item(i).tableId,
                        userId: data.rows.item(i).userId,
                        actionType: data.rows.item(i).actionType,
                        name: data.rows.item(i).name,
                        dated: data.rows.item(i).dated,
                    });
                    IDs.push({
                        ID: data.rows.item(i).ID
                    });
                }
            }
            // console.log('sync' + logs[0].ID);
            // console.log('synclogs:' + logs);
            // console.log('IDS[0]:'+ IDs[0].ID);
            // console.log('ids' + IDs);
            const url = this.databaseprovider.getURL();
            this.nativeHttp.setDataSerializer("json");
            let nativeCall = this.nativeHttp.post(url, {
                'Name': 'syncAddedLogs',
                "logs": logs
            }, {
                'Content-Type': 'application/json',
                'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
            });
            Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                .subscribe(data => {
                console.log('Native data:', data);
                const g = JSON.parse(data.data);
                let check = 0;
                if (g.success === 1) {
                    //alert('success');
                    check = 1;
                    this.updateSyncedLogs(IDs).then((data) => {
                    });
                }
                else {
                    if (check === 1) {
                        this.updateSyncedLogs(IDs).then((data) => {
                        });
                    }
                    // alert('failed');
                }
                // this.initializeItems();
            }, err => {
                console.log('JS call error-1', err);
                // const error = JSON.parse(err.error);
                //alert(error.message);
                //console.log('Native data:',JSON.parse(error));
            });
            ;
            console.log(logs);
            return logs;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updateSyncedLogs(IDs) {
        for (let i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  tbllogs Set Sync=1 where ID=?', [IDs[i]]).then((data) => {
                console.log(data);
                return data;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        }
    }
    getLedger(id) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let loading = yield this.loadingController.create();
            yield loading.present();
            return this.database.executeSql('SELECT * FROM clients where Cid=? ', [id]).then((data) => {
                let clients = [];
                if (data.rows.length > 0) {
                    for (let i = 0; i < data.rows.length; i++) {
                        clients.push({
                            Cid: data.rows.item(i).Cid,
                            AccountId: data.rows.item(i).AccountId,
                            Fname: data.rows.item(i).Fname,
                            Lname: data.rows.item(i).Lname,
                            Shop: data.rows.item(i).Shop,
                            BillingAddress: data.rows.item(i).BillingAddress,
                            City: data.rows.item(i).City,
                            Cell: data.rows.item(i).Cell,
                            Active: data.rows.item(i).Active,
                            Balance: data.rows.item(i).Balance,
                            Sync: data.rows.item(i).Sync,
                        });
                    }
                }
                ;
                console.log(clients);
                // const navigationExtras: NavigationExtras = {
                //   state: {
                //     editclient: clients[0]
                //   }
                // };
                const navigationExtras = {
                    state: {
                        client: clients[0]
                    }
                };
                this.router.navigate(['ledger'], navigationExtras);
                loading.dismiss();
                // return clients;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        });
    }
    getLedgerVendor(id) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let loading = yield this.loadingController.create();
            yield loading.present();
            return this.database.executeSql('SELECT * FROM tblvendors where ID=?', [id]).then((data) => {
                let vendor = [];
                if (data.rows.length > 0) {
                    for (let i = 0; i < data.rows.length; i++) {
                        vendor.push({
                            ID: data.rows.item(i).ID,
                            Name: data.rows.item(i).Name,
                            Address: data.rows.item(i).Address,
                            Phone: data.rows.item(i).Phone,
                            Email: data.rows.item(i).Email,
                            bActive: data.rows.item(i).bActive,
                            Sync: data.rows.item(i).Sync,
                        });
                    }
                }
                ;
                console.log(vendor);
                // const navigationExtras: NavigationExtras = {
                //   state: {
                //     editclient: clients[0]
                //   }
                // };
                const navigationExtras = {
                    state: {
                        client: vendor[0]
                    }
                };
                this.router.navigate(['ledgers-vendors'], navigationExtras);
                loading.dismiss();
                // return clients;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        });
    }
    AddLog() {
        let acttype = '';
        if (this.usdId === 1) {
            acttype = 'Adnan Ali Signed In  the app';
        }
        else {
            acttype = 'Test Signed In  from app';
        }
        //this.name = 'Purchased Order';
        let now = new Date().toString();
        const a = this.datePipe.transform(now, 'MMMM dd, yyy h:mm a');
        const lgdate = 'at ' + a;
        const tblName = '';
        const tblId = 0;
        const name = '';
        // this.tblId = this.PO.ID;
        // this.tblId = this.syncService.getUpdatedPOID();
        //this.tblName,this.tblId,this.usdId,this.acttype,this.name,this.lgdate
        this.addLogs(tblName, tblId, this.usdId, acttype, name, lgdate).then(data => {
            console.log("Log has been added");
            this.syncAddedLog();
            //this.GetLogs();
        });
    }
    syncDataServertoApp() {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            const url = this.databaseprovider.getURL();
            console.log('this is url ' + url);
            this.nativeHttp.setDataSerializer("json");
            this.nativeHttp.setRequestTimeout(364850);
            let nativeCall = this.nativeHttp.post(url, {
                'Name': 'sqliteSync1',
                "AccountId": '113008225657937776461'
            }, {
                'Content-Type': 'application/json',
                'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
            });
            Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                .subscribe(data => {
                console.log('Native data-1:', data);
                const g = JSON.parse(data.data);
                console.log('ggggg-' + g);
                if (g.success === 1) {
                    console.log('success');
                    if (typeof g.vendors !== 'undefined' && this.executed === 0) {
                        this.executed = 1;
                        console.log('vendors');
                        for (let i = 0; i < 1; i++) {
                            const data = [g.vendors[i].ID, g.vendors[i].Name, g.vendors[i].Address, g.vendors[i].Phone, g.vendors[i].Email, g.vendors[i].bActive, g.vendors[i].Balance, 1];
                            // tslint:disable-next-line: max-line-length
                            this.database.executeSql('SELECT * FROM tblvendors', data)
                                .then(data => {
                                console.log('successfully Created item');
                                return data;
                            }, err => {
                                console.log('Error: ', err);
                                return err;
                            }).then(() => {
                                if (typeof g.vendors !== 'undefined') {
                                    console.log('items');
                                    for (let i = 0; i < g.vendors.length; i++) {
                                        const data = [g.vendors[i].ID, g.vendors[i].Name, g.vendors[i].Address, g.vendors[i].Phone, g.vendors[i].Email, g.vendors[i].bActive, g.vendors[i].Balance, 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblvendors (ID,Name,Address,Phone,Email,bActive,Balance,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(data3 => {
                                if (typeof g.items !== 'undefined') {
                                    console.log('items');
                                    for (let i = 0; i < g.items.length; i++) {
                                        const data = [g.items[i].itemid, '113008225657937776461', g.items[i].Description, g.items[i].Rate, g.items[i].Cost, g.items[i].Instock, g.items[i].Active, 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  items (itemid,AccountId, Description,Rate,Cost,Instock,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(data4 => {
                                if (typeof g.clients !== 'undefined') {
                                    console.log('clients from server:', g.clients);
                                    for (let i = 0; i < g.clients.length; i++) {
                                        const data = [g.clients[i].Cid, '113008225657937776461', g.clients[i].Fname, g.clients[i].Lname, g.clients[i].Shop, g.clients[i].BillingAddress, g.clients[i].City, g.clients[i].Cell, g.clients[i].Active, g.clients[i].Balance, 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  clients (Cid,AccountId,Fname,Lname,Shop,BillingAddress,City,Cell,Active,Balance,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(data5 => {
                                if (typeof g.POS !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.POS.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.POS[i].ID, g.POS[i].VendorID, g.POS[i].Date, g.POS[i].ReceivedBy, g.POS[i].Total, g.POS[i].Remarks, parseInt(g.POS[i].Discount), parseInt(g.POS[i].Active), 1];
                                        this.database.executeSql('INSERT INTO  tblpurchasedorder (ID,VendorID,Date,ReceivedBy,Total,Remarks,Discount,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(data5 => {
                                if (typeof g.POItems !== 'undefined') {
                                    console.log('POItems');
                                    for (let i = 0; i < g.POItems.length; i++) {
                                        const data1 = [g.POItems[i].ID, g.POItems[i].Poid, g.POItems[i].ItemID, g.POItems[i].Qty, g.POItems[i].CostPrice, 1];
                                        this.database.executeSql('INSERT INTO  tblpodetail (ID,Poid,ItemID,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                            .then(data => {
                                            console.log('successfully Add item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                        //  this.database.executeSql('UPDATE items SET Instock=Instock+? where itemid=?', [g.POItems[i].Qty, g.POItems[i].ItemID])
                                        //  .then(data => {
                                        //    console.log('successfully Updated stock');
                                        //    return data;
                                        //  }, err => {
                                        //    console.log('Error: ', err);
                                        //    return err;
                                        //  });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.users !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.users.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.users[i].ID, g.users[i].email, g.users[i].name, g.users[i].Active, 1];
                                        this.database.executeSql('INSERT INTO  tblUsers (ID,email,name,bActive,Sync) VALUES (?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.acl !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.acl.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.acl[i].ID, g.acl[i].name, g.acl[i].userId, g.acl[i].bValue, 1];
                                        console.log('here' + data);
                                        this.database.executeSql('INSERT INTO  tblacl (ID,name,userId,bValue,Sync) VALUES (?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.slides !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.slides.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.slides[i].Id, g.slides[i].slideNo, g.slides[i].slideHeading, g.slides[i].slideText, g.slides[i].slideImage, g.slides[i].bActive];
                                        this.database.executeSql('INSERT INTO tblslides (Id,slideNo,slideHeading,slideText,slideImage,bActive) VALUES (?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(data6 => {
                                if (typeof g.invoices !== 'undefined') {
                                    for (let i = 0; i < g.invoices.length; i++) {
                                        console.log('invoices');
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.invoices[i].Iid, g.invoices[i].AccountId, g.invoices[i].Cid, g.invoices[i].Name, g.invoices[i].CreateDate, g.invoices[i].Terms, g.invoices[i].DueDate, g.invoices[i].Subtotal, g.invoices[i].Discount, g.invoices[i].Total, g.invoices[i].Message, parseInt(g.invoices[i].Status), 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  invoices (Iid,AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created invoice');
                                        });
                                    }
                                }
                            }).then(data7 => {
                                if (typeof g.invoiceItems !== 'undefined') {
                                    console.log('POItems');
                                    for (let i = 0; i < g.invoiceItems.length; i++) {
                                        const data1 = [g.invoiceItems[i].Iiid, g.invoiceItems[i].Iid, g.invoiceItems[i].Itemid, g.invoiceItems[i].Qty, g.invoiceItems[i].CostPrice, 1];
                                        this.database.executeSql('INSERT INTO  invoiceitems (Iiid,Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                            .then(data => {
                                            console.log('successfully Add item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.categories !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.categories.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.categories[i].catid, g.categories[i].name, g.categories[i].active];
                                        this.database.executeSql('INSERT INTO categories (catid,name,active) VALUES (?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(data8 => {
                                if (typeof g.ledgers !== 'undefined') {
                                    console.log('ledgers');
                                    for (let i = 0; i < g.ledgers.length; i++) {
                                        this.database.executeSql('INSERT INTO  tblledger (ID,InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.ledgers[i].ID, g.ledgers[i].InvoiceID, g.ledgers[i].Date, g.ledgers[i].Amount, g.ledgers[i].CustomerID, g.ledgers[i].IsCredit, g.ledgers[i].DueDate, g.ledgers[i].ByUserId, g.ledgers[i].Remarks, 1])
                                            .then(data => {
                                            console.log('successfully Added Ledger');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.logs !== 'undefined') {
                                    console.log('ledgers');
                                    for (let i = 0; i < g.logs.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.logs[i].ID, g.logs[i].tableName, g.logs[i].tableId, g.logs[i].userId, g.logs[i].actionType, g.logs[i].name, g.logs[i].dated, 1];
                                        this.database.executeSql('INSERT INTO  tblLogs (ID,tableName,tableId,userId,actionType,name,dated,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created Log');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.vendorsLeger !== 'undefined') {
                                    console.log('vender ledgers');
                                    for (let i = 0; i < g.vendorsLeger.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblledgervendor (ID,POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.vendorsLeger[i].ID, g.vendorsLeger[i].POID, g.vendorsLeger[i].Date, g.vendorsLeger[i].Amount, g.vendorsLeger[i].VendorID, g.vendorsLeger[i].IsCredit, g.vendorsLeger[i].DueDate, g.vendorsLeger[i].ByUserId, g.vendorsLeger[i].Remarks, 1])
                                            .then(data => {
                                            console.log('successfully Added vendorledger');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                // loading.dismiss();
                                if (typeof g.expenses !== 'undefined') {
                                    console.log('vender ledgers');
                                    for (let i = 0; i < g.expenses.length; i++) {
                                        const data = [g.expenses[i].ID, '113008225657937776461', g.expenses[i].Name, g.expenses[i].Date, g.expenses[i].Amount, g.expenses[i].Category, g.expenses[i].Description, g.expenses[i].Active, g.expenses[i].Sync];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblexpenses (ID,AccountId,Name,Date,Amount,Category,Description,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                // loading.dismiss();
                            });
                        }
                    }
                    if (typeof g.clients !== 'undefined' && this.executed === 0) {
                        this.executed = 1;
                        console.log('clients from server:', g.clients);
                        for (let i = 0; i < g.clients.length; i++) {
                            const data = [g.clients[i].Cid, '113008225657937776461', g.clients[i].Fname, g.clients[i].Lname, g.clients[i].Shop, g.clients[i].BillingAddress, g.clients[i].City, g.clients[i].Cell, g.clients[i].Active, g.clients[i].Balance, 1];
                            // tslint:disable-next-line: max-line-length
                            this.database.executeSql('INSERT INTO  clients (Cid,AccountId,Fname,Lname,Shop,BillingAddress,City,Cell,Active,Balance,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?)', data)
                                .then(data => {
                                console.log('successfully Created item');
                                return data;
                            }, err => {
                                console.log('Error: ', err);
                                return err;
                            }).then(data3 => {
                                if (typeof g.items !== 'undefined') {
                                    console.log('items');
                                    for (let i = 0; i < g.items.length; i++) {
                                        const data = [g.items[i].itemid, '113008225657937776461', g.items[i].Description, g.items[i].Rate, g.items[i].Cost, g.items[i].Instock, g.items[i].Active, 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  items (itemid,AccountId, Description,Rate,Cost,Instock,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(data4 => {
                                if (typeof g.vendors !== 'undefined') {
                                    console.log('vendors');
                                    for (let i = 0; i < g.vendors.length; i++) {
                                        const data = [g.vendors[i].ID, g.vendors[i].Name, g.vendors[i].Address, g.vendors[i].Phone, g.vendors[i].Email, g.vendors[i].bActive, g.vendors[i].Balance, 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblvendors (ID,Name,Address,Phone,Email,bActive,Balance,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(data5 => {
                                if (typeof g.POS !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.POS.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.POS[i].ID, g.POS[i].VendorID, g.POS[i].Date, g.POS[i].ReceivedBy, g.POS[i].Total, g.POS[i].Remarks, parseInt(g.POS[i].Discount), parseInt(g.POS[i].Active), 1];
                                        this.database.executeSql('INSERT INTO  tblpurchasedorder (ID,VendorID,Date,ReceivedBy,Total,Remarks,Discount,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(data5 => {
                                if (typeof g.POItems !== 'undefined') {
                                    console.log('POItems');
                                    for (let i = 0; i < g.POItems.length; i++) {
                                        const data1 = [g.POItems[i].ID, g.POItems[i].Poid, g.POItems[i].ItemID, g.POItems[i].Qty, g.POItems[i].CostPrice, 1];
                                        this.database.executeSql('INSERT INTO  tblpodetail (ID,Poid,ItemID,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                            .then(data => {
                                            console.log('successfully Add item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                        //  this.database.executeSql('UPDATE items SET Instock=Instock+? where itemid=?', [g.POItems[i].Qty, g.POItems[i].ItemID])
                                        //  .then(data => {
                                        //    console.log('successfully Updated stock');
                                        //    return data;
                                        //  }, err => {
                                        //    console.log('Error: ', err);
                                        //    return err;
                                        //  });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.users !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.users.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.users[i].ID, g.users[i].email, g.users[i].name, g.users[i].Active, 1];
                                        this.database.executeSql('INSERT INTO  tblUsers (ID,email,name,bActive,Sync) VALUES (?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.acl !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.acl.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.acl[i].ID, g.acl[i].name, g.acl[i].userId, g.acl[i].bValue, 1];
                                        console.log('here2' + data);
                                        this.database.executeSql('INSERT INTO  tblacl (ID,name,userId,bValue,Sync) VALUES (?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.slides !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.slides.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.slides[i].Id, g.slides[i].slideNo, g.slides[i].slideHeading, g.slides[i].slideText, g.slides[i].slideImage, g.slides[i].bActive];
                                        this.database.executeSql('INSERT INTO tblslides (Id,slideNo,slideHeading,slideText,slideImage,bActive) VALUES (?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(data6 => {
                                if (typeof g.invoices !== 'undefined') {
                                    for (let i = 0; i < g.invoices.length; i++) {
                                        console.log('invoices');
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.invoices[i].Iid, g.invoices[i].AccountId, g.invoices[i].Cid, g.invoices[i].Name, g.invoices[i].CreateDate, g.invoices[i].Terms, g.invoices[i].DueDate, g.invoices[i].Subtotal, g.invoices[i].Discount, g.invoices[i].Total, g.invoices[i].Message, parseInt(g.invoices[i].Status), 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  invoices (Iid,AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created invoice');
                                        });
                                    }
                                }
                            }).then(data7 => {
                                if (typeof g.invoiceItems !== 'undefined') {
                                    console.log('POItems');
                                    for (let i = 0; i < g.invoiceItems.length; i++) {
                                        const data1 = [g.invoiceItems[i].Iiid, g.invoiceItems[i].Iid, g.invoiceItems[i].Itemid, g.invoiceItems[i].Qty, g.invoiceItems[i].CostPrice, 1];
                                        this.database.executeSql('INSERT INTO  invoiceitems (Iiid,Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                            .then(data => {
                                            console.log('successfully Add item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.categories !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.categories.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.categories[i].catid, g.categories[i].name, g.categories[i].active];
                                        this.database.executeSql('INSERT INTO categories (catid,name,active) VALUES (?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(data8 => {
                                if (typeof g.ledgers !== 'undefined') {
                                    console.log('ledgers');
                                    for (let i = 0; i < g.ledgers.length; i++) {
                                        this.database.executeSql('INSERT INTO  tblledger (ID,InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.ledgers[i].ID, g.ledgers[i].InvoiceID, g.ledgers[i].Date, g.ledgers[i].Amount, g.ledgers[i].CustomerID, g.ledgers[i].IsCredit, g.ledgers[i].DueDate, g.ledgers[i].ByUserId, g.ledgers[i].Remarks, 1])
                                            .then(data => {
                                            console.log('successfully Added Ledger');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.logs !== 'undefined') {
                                    console.log('ledgers');
                                    for (let i = 0; i < g.logs.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.logs[i].ID, g.logs[i].tableName, g.logs[i].tableId, g.logs[i].userId, g.logs[i].actionType, g.logs[i].name, g.logs[i].dated, 1];
                                        this.database.executeSql('INSERT INTO  tblLogs (ID,tableName,tableId,userId,actionType,name,dated,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created Log');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.vendorsLeger !== 'undefined') {
                                    console.log('vender ledgers');
                                    for (let i = 0; i < g.vendorsLeger.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblledgervendor (ID,POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.vendorsLeger[i].ID, g.vendorsLeger[i].POID, g.vendorsLeger[i].Date, g.vendorsLeger[i].Amount, g.vendorsLeger[i].VendorID, g.vendorsLeger[i].IsCredit, g.vendorsLeger[i].DueDate, g.vendorsLeger[i].ByUserId, g.vendorsLeger[i].Remarks, 1])
                                            .then(data => {
                                            console.log('successfully Added vendorledger');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                // loading.dismiss();
                                if (typeof g.expenses !== 'undefined') {
                                    console.log('vender ledgers');
                                    for (let i = 0; i < g.expenses.length; i++) {
                                        const data = [g.expenses[i].ID, '113008225657937776461', g.expenses[i].Name, g.expenses[i].Date, g.expenses[i].Amount, g.expenses[i].Category, g.expenses[i].Description, g.expenses[i].Active, g.expenses[i].Sync];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblexpenses (ID,AccountId,Name,Date,Amount,Category,Description,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                //  loading.dismiss();
                            });
                        }
                    }
                    if (typeof g.items !== 'undefined' && this.executed === 0) {
                        this.executed = 1;
                        console.log('items');
                        for (let i = 0; i < g.items.length; i++) {
                            const data = [g.items[i].itemid, '113008225657937776461', g.items[i].Description, g.items[i].Rate, g.items[i].Cost, g.items[i].Instock, g.items[i].Active, 1];
                            // tslint:disable-next-line: max-line-length
                            this.database.executeSql('INSERT INTO  items (itemid,AccountId, Description,Rate,Cost,Instock,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                .then(data => {
                                console.log('successfully Created item');
                                return data;
                            }, err => {
                                console.log('Error: ', err);
                                return err;
                            }).then(data3 => {
                                if (typeof g.vendors !== 'undefined') {
                                    console.log('vendors');
                                    for (let i = 0; i < g.vendors.length; i++) {
                                        const data = [g.vendors[i].ID, g.vendors[i].Name, g.vendors[i].Address, g.vendors[i].Phone, g.vendors[i].Email, g.vendors[i].bActive, g.vendors[i].Balance, 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblvendors (ID,Name,Address,Phone,Email,bActive,Balance,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(data4 => {
                                if (typeof g.clients !== 'undefined') {
                                    console.log('clients from server:', g.clients);
                                    for (let i = 0; i < g.clients.length; i++) {
                                        const data = [g.clients[i].Cid, '113008225657937776461', g.clients[i].Fname, g.clients[i].Lname, g.clients[i].Shop, g.clients[i].BillingAddress, g.clients[i].City, g.clients[i].Cell, g.clients[i].Active, g.clients[i].Balance, 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  clients (Cid,AccountId,Fname,Lname,Shop,BillingAddress,City,Cell,Active,Balance,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(data5 => {
                                if (typeof g.POS !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.POS.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.POS[i].ID, g.POS[i].VendorID, g.POS[i].Date, g.POS[i].ReceivedBy, g.POS[i].Total, g.POS[i].Remarks, parseInt(g.POS[i].Discount), parseInt(g.POS[i].Active), 1];
                                        this.database.executeSql('INSERT INTO  tblpurchasedorder (ID,VendorID,Date,ReceivedBy,Total,Remarks,Discount,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(data5 => {
                                if (typeof g.POItems !== 'undefined') {
                                    console.log('POItems');
                                    for (let i = 0; i < g.POItems.length; i++) {
                                        const data1 = [g.POItems[i].ID, g.POItems[i].Poid, g.POItems[i].ItemID, g.POItems[i].Qty, g.POItems[i].CostPrice, 1];
                                        this.database.executeSql('INSERT INTO  tblpodetail (ID,Poid,ItemID,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                            .then(data => {
                                            console.log('successfully Add item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                        //  this.database.executeSql('UPDATE items SET Instock=Instock+? where itemid=?', [g.POItems[i].Qty, g.POItems[i].ItemID])
                                        //  .then(data => {
                                        //    console.log('successfully Updated stock');
                                        //    return data;
                                        //  }, err => {
                                        //    console.log('Error: ', err);
                                        //    return err;
                                        //  });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.users !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.users.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.users[i].ID, g.users[i].email, g.users[i].name, g.users[i].Active, 1];
                                        this.database.executeSql('INSERT INTO  tblUsers (ID,email,name,bActive,Sync) VALUES (?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.acl !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.acl.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.acl[i].ID, g.acl[i].name, g.acl[i].userId, g.acl[i].bValue, 1];
                                        console.log('here3' + data);
                                        this.database.executeSql('INSERT INTO  tblacl (ID,name,userId,bValue,Sync) VALUES (?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.slides !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.slides.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.slides[i].Id, g.slides[i].slideNo, g.slides[i].slideHeading, g.slides[i].slideText, g.slides[i].slideImage, g.slides[i].bActive];
                                        this.database.executeSql('INSERT INTO tblslides (Id,slideNo,slideHeading,slideText,slideImage,bActive) VALUES (?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(data6 => {
                                if (typeof g.invoices !== 'undefined') {
                                    for (let i = 0; i < g.invoices.length; i++) {
                                        console.log('invoices');
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.invoices[i].Iid, g.invoices[i].AccountId, g.invoices[i].Cid, g.invoices[i].Name, g.invoices[i].CreateDate, g.invoices[i].Terms, g.invoices[i].DueDate, g.invoices[i].Subtotal, g.invoices[i].Discount, g.invoices[i].Total, g.invoices[i].Message, parseInt(g.invoices[i].Status), 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  invoices (Iid,AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created invoice');
                                        });
                                    }
                                }
                            }).then(data7 => {
                                if (typeof g.invoiceItems !== 'undefined') {
                                    console.log('POItems');
                                    for (let i = 0; i < g.invoiceItems.length; i++) {
                                        const data1 = [g.invoiceItems[i].Iiid, g.invoiceItems[i].Iid, g.invoiceItems[i].Itemid, g.invoiceItems[i].Qty, g.invoiceItems[i].CostPrice, 1];
                                        this.database.executeSql('INSERT INTO  invoiceitems (Iiid,Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                            .then(data => {
                                            console.log('successfully Add item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.categories !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.categories.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.categories[i].catid, g.categories[i].name, g.categories[i].active];
                                        this.database.executeSql('INSERT INTO categories (catid,name,active) VALUES (?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(data8 => {
                                if (typeof g.ledgers !== 'undefined') {
                                    console.log('ledgers');
                                    for (let i = 0; i < g.ledgers.length; i++) {
                                        this.database.executeSql('INSERT INTO  tblledger (ID,InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.ledgers[i].ID, g.ledgers[i].InvoiceID, g.ledgers[i].Date, g.ledgers[i].Amount, g.ledgers[i].CustomerID, g.ledgers[i].IsCredit, g.ledgers[i].DueDate, g.ledgers[i].ByUserId, g.ledgers[i].Remarks, 1])
                                            .then(data => {
                                            console.log('successfully Added Ledger');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.logs !== 'undefined') {
                                    console.log('ledgers');
                                    for (let i = 0; i < g.logs.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.logs[i].ID, g.logs[i].tableName, g.logs[i].tableId, g.logs[i].userId, g.logs[i].actionType, g.logs[i].name, g.logs[i].dated, 1];
                                        this.database.executeSql('INSERT INTO  tblLogs (ID,tableName,tableId,userId,actionType,name,dated,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created Log');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.vendorsLeger !== 'undefined') {
                                    console.log('vender ledgers');
                                    for (let i = 0; i < g.vendorsLeger.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblledgervendor (ID,POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.vendorsLeger[i].ID, g.vendorsLeger[i].POID, g.vendorsLeger[i].Date, g.vendorsLeger[i].Amount, g.vendorsLeger[i].VendorID, g.vendorsLeger[i].IsCredit, g.vendorsLeger[i].DueDate, g.vendorsLeger[i].ByUserId, g.vendorsLeger[i].Remarks, 1])
                                            .then(data => {
                                            console.log('successfully Added vendorledger');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                // loading.dismiss();
                                if (typeof g.expenses !== 'undefined') {
                                    console.log('vender ledgers');
                                    for (let i = 0; i < g.expenses.length; i++) {
                                        const data = [g.expenses[i].ID, '113008225657937776461', g.expenses[i].Name, g.expenses[i].Date, g.expenses[i].Amount, g.expenses[i].Category, g.expenses[i].Description, g.expenses[i].Active, g.expenses[i].Sync];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblexpenses (ID,AccountId,Name,Date,Amount,Category,Description,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                // loading.dismiss();
                            });
                        }
                    }
                    if (this.executed === 0) {
                        //   loading.dismiss();
                    }
                    console.log('hurrah');
                }
                else {
                    // alert('failed');
                }
                // this.initializeItems();
            }, err => {
                console.log('JS call error-2', err);
                //const error = JSON.parse(err);
                //alert(error.message);
                console.log('Native data: 123456');
                console.log(err);
            });
        });
    }
    emptyLocalDB() {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let loading = yield this.loadingController.create({
                message: 'Synchronizing',
            });
            yield loading.present();
            this.database.executeSql('DELETE from invoiceitems', [])
                .then(data => {
                console.log('successfully Added Ledger');
                return data;
            }, err => {
                console.log('Error: ', err);
                return err;
            }).then(() => {
                this.database.executeSql('DELETE from invoices', [])
                    .then(data => {
                    console.log('successfully Added Ledger');
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }).then(() => {
                this.database.executeSql('DELETE from tblpodetail', [])
                    .then(data => {
                    console.log('successfully Added Ledger');
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }).then(() => {
                this.database.executeSql('DELETE from tblpurchasedorder', [])
                    .then(data => {
                    console.log('successfully Added Ledger');
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }).then(() => {
                this.database.executeSql('DELETE from tblledger', [])
                    .then(data => {
                    console.log('successfully Added Ledger');
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }).then(() => {
                this.database.executeSql('DELETE from tblvendors', [])
                    .then(data => {
                    console.log('successfully Added Ledger');
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }).then(() => {
                this.database.executeSql('DELETE from items', [])
                    .then(data => {
                    console.log('successfully Added Ledger');
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }).then(() => {
                this.database.executeSql('DELETE from clients', [])
                    .then(data => {
                    console.log('successfully Added Ledger');
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }).then(() => {
                this.database.executeSql('DELETE from tblledgervendor', [])
                    .then(data => {
                    console.log('successfully Added Ledger');
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }).then(() => {
                this.database.executeSql('DELETE from tbllogs', [])
                    .then(data => {
                    console.log('successfully Added Ledger');
                    loading.dismiss();
                    // this.syncDataServertoAppWithLoading();
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }).then(() => {
                this.database.executeSql('DELETE from tblUsers', [])
                    .then(data => {
                    console.log('successfully Added Ledger');
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }).then(() => {
                this.database.executeSql('DELETE from tblacl', [])
                    .then(data => {
                    console.log('successfully Added Ledger');
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }).then(() => {
                this.database.executeSql('DELETE from tblslides', [])
                    .then(data => {
                    console.log('successfully Added Ledger');
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }).then(() => {
                this.database.executeSql('DELETE from categories', [])
                    .then(data => {
                    console.log('successfully Added Ledger');
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            }).then(() => {
                this.database.executeSql('DELETE from tblexpenses', [])
                    .then(data => {
                    console.log('successfully Added Ledger');
                    loading.dismiss();
                    this.syncDataServertoAppWithLoading();
                    return data;
                }, err => {
                    console.log('Error: ', err);
                    return err;
                });
            });
        });
    }
    syncDataServertoAppWithLoading() {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            this.executed = 0;
            let loading = yield this.loadingController.create({
                message: 'Synchronizing',
            });
            yield loading.present();
            const url = this.databaseprovider.getURL();
            this.nativeHttp.setDataSerializer("json");
            console.log('url is ' + url);
            let nativeCall = this.nativeHttp.post(url, {
                'Name': 'sqliteSync1',
                "AccountId": '113008225657937776461'
            }, {
                'Content-Type': 'application/json',
                'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
            });
            Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                .subscribe(data => {
                console.log('Native data:', data);
                const g = JSON.parse(data.data);
                if (g.success === 1) {
                    // alert('success = ' + g.success);
                    if (typeof g.vendors !== 'undefined' && this.executed === 0) {
                        this.executed = 1;
                        console.log('vendors');
                        for (let i = 0; i < 1; i++) {
                            const data = [g.vendors[i].ID, g.vendors[i].Name, g.vendors[i].Address, g.vendors[i].Phone, g.vendors[i].Email, g.vendors[i].bActive, g.vendors[i].Balance, 1];
                            // tslint:disable-next-line: max-line-length
                            this.database.executeSql('SELECT * FROM tblvendors', data)
                                .then(data => {
                                console.log('successfully Created item');
                                return data;
                            }, err => {
                                console.log('Error: ', err);
                                return err;
                            }).then(() => {
                                if (typeof g.vendors !== 'undefined') {
                                    console.log('items');
                                    for (let i = 0; i < g.vendors.length; i++) {
                                        const data = [g.vendors[i].ID, g.vendors[i].Name, g.vendors[i].Address, g.vendors[i].Phone, g.vendors[i].Email, g.vendors[i].bActive, g.vendors[i].Balance, 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblvendors (ID,Name,Address,Phone,Email,bActive,Balance,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(data3 => {
                                if (typeof g.items !== 'undefined') {
                                    console.log('items');
                                    for (let i = 0; i < g.items.length; i++) {
                                        const data = [g.items[i].itemid, '113008225657937776461', g.items[i].Description, g.items[i].Rate, g.items[i].Cost, g.items[i].Instock, g.items[i].Active, 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  items (itemid,AccountId, Description,Rate,Cost,Instock,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(data4 => {
                                if (typeof g.clients !== 'undefined') {
                                    console.log('clients from server:', g.clients);
                                    for (let i = 0; i < g.clients.length; i++) {
                                        const data = [g.clients[i].Cid, '113008225657937776461', g.clients[i].Fname, g.clients[i].Lname, g.clients[i].Shop, g.clients[i].BillingAddress, g.clients[i].City, g.clients[i].Cell, g.clients[i].Active, g.clients[i].Balance, 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  clients (Cid,AccountId,Fname,Lname,Shop,BillingAddress,City,Cell,Active,Balance,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(data5 => {
                                if (typeof g.POS !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.POS.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.POS[i].ID, g.POS[i].VendorID, g.POS[i].Date, g.POS[i].ReceivedBy, g.POS[i].Total, g.POS[i].Remarks, parseInt(g.POS[i].Discount), parseInt(g.POS[i].Active), 1];
                                        this.database.executeSql('INSERT INTO  tblpurchasedorder (ID,VendorID,Date,ReceivedBy,Total,Remarks,Discount,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(data5 => {
                                if (typeof g.POItems !== 'undefined') {
                                    console.log('POItems');
                                    for (let i = 0; i < g.POItems.length; i++) {
                                        const data1 = [g.POItems[i].ID, g.POItems[i].Poid, g.POItems[i].ItemID, g.POItems[i].Qty, g.POItems[i].CostPrice, 1];
                                        this.database.executeSql('INSERT INTO  tblpodetail (ID,Poid,ItemID,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                            .then(data => {
                                            console.log('successfully Add item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                        //  this.database.executeSql('UPDATE items SET Instock=Instock+? where itemid=?', [g.POItems[i].Qty, g.POItems[i].ItemID])
                                        //  .then(data => {
                                        //    console.log('successfully Updated stock');
                                        //    return data;
                                        //  }, err => {
                                        //    console.log('Error: ', err);
                                        //    return err;
                                        //  });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.users !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.users.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.users[i].ID, g.users[i].email, g.users[i].name, g.users[i].Active, 1];
                                        this.database.executeSql('INSERT INTO  tblUsers (ID,email,name,bActive,Sync) VALUES (?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.acl !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.acl.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.acl[i].ID, g.acl[i].name, g.acl[i].userId, g.acl[i].bValue, 1];
                                        console.log('here4' + data);
                                        this.database.executeSql('INSERT INTO  tblacl (ID,name,userId,bValue,Sync) VALUES (?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.categories !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.categories.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.categories[i].catid, g.categories[i].name, g.categories[i].active];
                                        this.database.executeSql('INSERT INTO categories (catid,name,active) VALUES (?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.slides !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.slides.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.slides[i].Id, g.slides[i].slideNo, g.slides[i].slideHeading, g.slides[i].slideText, g.slides[i].slideImage, g.slides[i].bActive];
                                        this.database.executeSql('INSERT INTO tblslides (Id,slideNo,slideHeading,slideText,slideImage,bActive) VALUES (?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(data6 => {
                                if (typeof g.invoices !== 'undefined') {
                                    for (let i = 0; i < g.invoices.length; i++) {
                                        console.log('invoices');
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.invoices[i].Iid, g.invoices[i].AccountId, g.invoices[i].Cid, g.invoices[i].Name, g.invoices[i].CreateDate, g.invoices[i].Terms, g.invoices[i].DueDate, g.invoices[i].Subtotal, g.invoices[i].Discount, g.invoices[i].Total, g.invoices[i].Message, parseInt(g.invoices[i].Status), 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  invoices (Iid,AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created invoice');
                                        });
                                    }
                                }
                            }).then(data7 => {
                                if (typeof g.invoiceItems !== 'undefined') {
                                    console.log('POItems');
                                    for (let i = 0; i < g.invoiceItems.length; i++) {
                                        const data1 = [g.invoiceItems[i].Iiid, g.invoiceItems[i].Iid, g.invoiceItems[i].Itemid, g.invoiceItems[i].Qty, g.invoiceItems[i].CostPrice, 1];
                                        this.database.executeSql('INSERT INTO  invoiceitems (Iiid,Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                            .then(data => {
                                            console.log('successfully Add item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(data8 => {
                                if (typeof g.ledgers !== 'undefined') {
                                    console.log('ledgers');
                                    for (let i = 0; i < g.ledgers.length; i++) {
                                        this.database.executeSql('INSERT INTO  tblledger (ID,InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.ledgers[i].ID, g.ledgers[i].InvoiceID, g.ledgers[i].Date, g.ledgers[i].Amount, g.ledgers[i].CustomerID, g.ledgers[i].IsCredit, g.ledgers[i].DueDate, g.ledgers[i].ByUserId, g.ledgers[i].Remarks, 1])
                                            .then(data => {
                                            console.log('successfully Added Ledger');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.logs !== 'undefined') {
                                    console.log('ledgers');
                                    for (let i = 0; i < g.logs.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.logs[i].ID, g.logs[i].tableName, g.logs[i].tableId, g.logs[i].userId, g.logs[i].actionType, g.logs[i].name, g.logs[i].dated, 1];
                                        this.database.executeSql('INSERT INTO  tblLogs (ID,tableName,tableId,userId,actionType,name,dated,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created Log');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.vendorsLeger !== 'undefined') {
                                    debugger;
                                    console.log('vender ledgers');
                                    for (let i = 0; i < g.vendorsLeger.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblledgervendor (ID,POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.vendorsLeger[i].ID, g.vendorsLeger[i].POID, g.vendorsLeger[i].Date, g.vendorsLeger[i].Amount, g.vendorsLeger[i].VendorID, g.vendorsLeger[i].IsCredit, g.vendorsLeger[i].DueDate, g.vendorsLeger[i].ByUserId, g.vendorsLeger[i].Remarks, 1])
                                            .then(data => {
                                            console.log('successfully Added vendorledger');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                // loading.dismiss();
                                if (typeof g.expenses !== 'undefined') {
                                    console.log('vender ledgers');
                                    for (let i = 0; i < g.expenses.length; i++) {
                                        const data = [g.expenses[i].ID, '113008225657937776461', g.expenses[i].Name, g.expenses[i].Date, g.expenses[i].Amount, g.expenses[i].Category, g.expenses[i].Description, g.expenses[i].Active, g.expenses[i].Sync];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblexpenses (ID,AccountId,Name,Date,Amount,Category,Description,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                loading.dismiss();
                            });
                        }
                    }
                    if (typeof g.clients !== 'undefined' && this.executed === 0) {
                        this.executed = 1;
                        console.log('clients from server:', g.clients);
                        for (let i = 0; i < g.clients.length; i++) {
                            const data = [g.clients[i].Cid, '113008225657937776461', g.clients[i].Fname, g.clients[i].Lname, g.clients[i].Shop, g.clients[i].BillingAddress, g.clients[i].City, g.clients[i].Cell, g.clients[i].Active, g.clients[i].Balance, 1];
                            // tslint:disable-next-line: max-line-length
                            this.database.executeSql('INSERT INTO  clients (Cid,AccountId,Fname,Lname,Shop,BillingAddress,City,Cell,Active,Balance,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?)', data)
                                .then(data => {
                                console.log('successfully Created item');
                                return data;
                            }, err => {
                                console.log('Error: ', err);
                                return err;
                            }).then(data3 => {
                                if (typeof g.items !== 'undefined') {
                                    console.log('items');
                                    for (let i = 0; i < g.items.length; i++) {
                                        const data = [g.items[i].itemid, '113008225657937776461', g.items[i].Description, g.items[i].Rate, g.items[i].Cost, g.items[i].Instock, g.items[i].Active, 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  items (itemid,AccountId, Description,Rate,Cost,Instock,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(data4 => {
                                if (typeof g.vendors !== 'undefined') {
                                    console.log('vendors');
                                    for (let i = 0; i < g.vendors.length; i++) {
                                        const data = [g.vendors[i].ID, g.vendors[i].Name, g.vendors[i].Address, g.vendors[i].Phone, g.vendors[i].Email, g.vendors[i].bActive, g.vendors[i].Balance, 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblvendors (ID,Name,Address,Phone,Email,bActive,Balance,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(data5 => {
                                if (typeof g.POS !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.POS.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.POS[i].ID, g.POS[i].VendorID, g.POS[i].Date, g.POS[i].ReceivedBy, g.POS[i].Total, g.POS[i].Remarks, parseInt(g.POS[i].Discount), parseInt(g.POS[i].Active), 1];
                                        this.database.executeSql('INSERT INTO  tblpurchasedorder (ID,VendorID,Date,ReceivedBy,Total,Remarks,Discount,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(data5 => {
                                if (typeof g.POItems !== 'undefined') {
                                    console.log('POItems');
                                    for (let i = 0; i < g.POItems.length; i++) {
                                        const data1 = [g.POItems[i].ID, g.POItems[i].Poid, g.POItems[i].ItemID, g.POItems[i].Qty, g.POItems[i].CostPrice, 1];
                                        this.database.executeSql('INSERT INTO  tblpodetail (ID,Poid,ItemID,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                            .then(data => {
                                            console.log('successfully Add item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                        //  this.database.executeSql('UPDATE items SET Instock=Instock+? where itemid=?', [g.POItems[i].Qty, g.POItems[i].ItemID])
                                        //  .then(data => {
                                        //    console.log('successfully Updated stock');
                                        //    return data;
                                        //  }, err => {
                                        //    console.log('Error: ', err);
                                        //    return err;
                                        //  });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.users !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.users.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.users[i].ID, g.users[i].email, g.users[i].name, g.users[i].Active, 1];
                                        this.database.executeSql('INSERT INTO  tblUsers (ID,email,name,bActive,Sync) VALUES (?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.acl !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.acl.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.acl[i].ID, g.acl[i].name, g.acl[i].userId, g.acl[i].bValue, 1];
                                        console.log('here5' + data);
                                        this.database.executeSql('INSERT INTO  tblacl (ID,name,userId,bValue,Sync) VALUES (?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.categories !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.categories.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.categories[i].catid, g.categories[i].name, g.categories[i].active];
                                        this.database.executeSql('INSERT INTO  categories (catid,name,active) VALUES (?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.slides !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.slides.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.slides[i].Id, g.slides[i].slideNo, g.slides[i].slideHeading, g.slides[i].slideText, g.slides[i].slideImage, g.slides[i].bActive];
                                        this.database.executeSql('INSERT INTO tblslides (Id,slideNo,slideHeading,slideText,slideImage,bActive) VALUES (?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(data6 => {
                                if (typeof g.invoices !== 'undefined') {
                                    for (let i = 0; i < g.invoices.length; i++) {
                                        console.log('invoices');
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.invoices[i].Iid, g.invoices[i].AccountId, g.invoices[i].Cid, g.invoices[i].Name, g.invoices[i].CreateDate, g.invoices[i].Terms, g.invoices[i].DueDate, g.invoices[i].Subtotal, g.invoices[i].Discount, g.invoices[i].Total, g.invoices[i].Message, parseInt(g.invoices[i].Status), 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  invoices (Iid,AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created invoice');
                                        });
                                    }
                                }
                            }).then(data7 => {
                                if (typeof g.invoiceItems !== 'undefined') {
                                    console.log('POItems');
                                    for (let i = 0; i < g.invoiceItems.length; i++) {
                                        const data1 = [g.invoiceItems[i].Iiid, g.invoiceItems[i].Iid, g.invoiceItems[i].Itemid, g.invoiceItems[i].Qty, g.invoiceItems[i].CostPrice, 1];
                                        this.database.executeSql('INSERT INTO  invoiceitems (Iiid,Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                            .then(data => {
                                            console.log('successfully Add item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(data8 => {
                                if (typeof g.ledgers !== 'undefined') {
                                    console.log('ledgers');
                                    for (let i = 0; i < g.ledgers.length; i++) {
                                        this.database.executeSql('INSERT INTO  tblledger (ID,InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.ledgers[i].ID, g.ledgers[i].InvoiceID, g.ledgers[i].Date, g.ledgers[i].Amount, g.ledgers[i].CustomerID, g.ledgers[i].IsCredit, g.ledgers[i].DueDate, g.ledgers[i].ByUserId, g.ledgers[i].Remarks, 1])
                                            .then(data => {
                                            console.log('successfully Added Ledger');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.logs !== 'undefined') {
                                    console.log('ledgers');
                                    for (let i = 0; i < g.logs.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.logs[i].ID, g.logs[i].tableName, g.logs[i].tableId, g.logs[i].userId, g.logs[i].actionType, g.logs[i].name, g.logs[i].dated, 1];
                                        this.database.executeSql('INSERT INTO  tblLogs (ID,tableName,tableId,userId,actionType,name,dated,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created Log');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.vendorsLeger !== 'undefined') {
                                    console.log('vender ledgers');
                                    for (let i = 0; i < g.vendorsLeger.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblledgervendor (ID,POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.vendorsLeger[i].ID, g.vendorsLeger[i].POID, g.vendorsLeger[i].Date, g.vendorsLeger[i].Amount, g.vendorsLeger[i].VendorID, g.vendorsLeger[i].IsCredit, g.vendorsLeger[i].DueDate, g.vendorsLeger[i].ByUserId, g.vendorsLeger[i].Remarks, 1])
                                            .then(data => {
                                            console.log('successfully Added vendorledger');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                // loading.dismiss();
                                if (typeof g.expenses !== 'undefined') {
                                    console.log('vender ledgers');
                                    for (let i = 0; i < g.expenses.length; i++) {
                                        const data = [g.expenses[i].ID, '113008225657937776461', g.expenses[i].Name, g.expenses[i].Date, g.expenses[i].Amount, g.expenses[i].Category, g.expenses[i].Description, g.expenses[i].Active, g.expenses[i].Sync];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblexpenses (ID,AccountId,Name,Date,Amount,Category,Description,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                loading.dismiss();
                            });
                        }
                    }
                    if (typeof g.items !== 'undefined' && this.executed === 0) {
                        this.executed = 1;
                        console.log('items');
                        for (let i = 0; i < g.items.length; i++) {
                            const data = [g.items[i].itemid, '113008225657937776461', g.items[i].Description, g.items[i].Rate, g.items[i].Cost, g.items[i].Instock, g.items[i].Active, 1];
                            // tslint:disable-next-line: max-line-length
                            this.database.executeSql('INSERT INTO  items (itemid,AccountId, Description,Rate,Cost,Instock,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                .then(data => {
                                console.log('successfully Created item');
                                return data;
                            }, err => {
                                console.log('Error: ', err);
                                return err;
                            }).then(data3 => {
                                if (typeof g.vendors !== 'undefined') {
                                    console.log('vendors');
                                    for (let i = 0; i < g.vendors.length; i++) {
                                        const data = [g.vendors[i].ID, g.vendors[i].Name, g.vendors[i].Address, g.vendors[i].Phone, g.vendors[i].Email, g.vendors[i].bActive, g.vendors[i].Balance, 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblvendors (ID,Name,Address,Phone,Email,bActive,Balance,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(data4 => {
                                if (typeof g.clients !== 'undefined') {
                                    console.log('clients from server:', g.clients);
                                    for (let i = 0; i < g.clients.length; i++) {
                                        const data = [g.clients[i].Cid, '113008225657937776461', g.clients[i].Fname, g.clients[i].Lname, g.clients[i].Shop, g.clients[i].BillingAddress, g.clients[i].City, g.clients[i].Cell, g.clients[i].Active, g.clients[i].Balance, 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  clients (Cid,AccountId,Fname,Lname,Shop,BillingAddress,City,Cell,Active,Balance,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(data5 => {
                                if (typeof g.POS !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.POS.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.POS[i].ID, g.POS[i].VendorID, g.POS[i].Date, g.POS[i].ReceivedBy, g.POS[i].Total, g.POS[i].Remarks, parseInt(g.POS[i].Discount), parseInt(g.POS[i].Active), 1];
                                        this.database.executeSql('INSERT INTO  tblpurchasedorder (ID,VendorID,Date,ReceivedBy,Total,Remarks,Discount,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(data5 => {
                                if (typeof g.POItems !== 'undefined') {
                                    console.log('POItems');
                                    for (let i = 0; i < g.POItems.length; i++) {
                                        const data1 = [g.POItems[i].ID, g.POItems[i].Poid, g.POItems[i].ItemID, g.POItems[i].Qty, g.POItems[i].CostPrice, 1];
                                        this.database.executeSql('INSERT INTO  tblpodetail (ID,Poid,ItemID,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                            .then(data => {
                                            console.log('successfully Add item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                        //  this.database.executeSql('UPDATE items SET Instock=Instock+? where itemid=?', [g.POItems[i].Qty, g.POItems[i].ItemID])
                                        //  .then(data => {
                                        //    console.log('successfully Updated stock');
                                        //    return data;
                                        //  }, err => {
                                        //    console.log('Error: ', err);
                                        //    return err;
                                        //  });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.users !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.users.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.users[i].ID, g.users[i].email, g.users[i].name, g.users[i].Active, 1];
                                        this.database.executeSql('INSERT INTO  tblUsers (ID,email,name,bActive,Sync) VALUES (?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.acl !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.acl.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.acl[i].ID, g.acl[i].name, g.acl[i].userId, g.acl[i].bValue, 1];
                                        console.log('here6' + data);
                                        this.database.executeSql('INSERT INTO  tblacl (ID,name,userId,bValue,Sync) VALUES (?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.categories !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.categories.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.categories[i].catid, g.categories[i].name, g.categories[i].active];
                                        this.database.executeSql('INSERT INTO  categories (catid,name,active) VALUES (?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.slides !== 'undefined') {
                                    console.log('POS');
                                    for (let i = 0; i < g.slides.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.slides[i].Id, g.slides[i].slideNo, g.slides[i].slideHeading, g.slides[i].slideText, g.slides[i].slideImage, g.slides[i].bActive];
                                        this.database.executeSql('INSERT INTO tblslides (Id,slideNo,slideHeading,slideText,slideImage,bActive) VALUES (?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('add po');
                                        });
                                    }
                                }
                            }).then(data6 => {
                                if (typeof g.invoices !== 'undefined') {
                                    for (let i = 0; i < g.invoices.length; i++) {
                                        console.log('invoices');
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.invoices[i].Iid, g.invoices[i].AccountId, g.invoices[i].Cid, g.invoices[i].Name, g.invoices[i].CreateDate, g.invoices[i].Terms, g.invoices[i].DueDate, g.invoices[i].Subtotal, g.invoices[i].Discount, g.invoices[i].Total, g.invoices[i].Message, parseInt(g.invoices[i].Status), 1];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  invoices (Iid,AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created invoice');
                                        });
                                    }
                                }
                            }).then(data7 => {
                                if (typeof g.invoiceItems !== 'undefined') {
                                    console.log('POItems');
                                    for (let i = 0; i < g.invoiceItems.length; i++) {
                                        const data1 = [g.invoiceItems[i].Iiid, g.invoiceItems[i].Iid, g.invoiceItems[i].Itemid, g.invoiceItems[i].Qty, g.invoiceItems[i].CostPrice, 1];
                                        this.database.executeSql('INSERT INTO  invoiceitems (Iiid,Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                            .then(data => {
                                            console.log('successfully Add item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(data8 => {
                                if (typeof g.ledgers !== 'undefined') {
                                    console.log('ledgers');
                                    for (let i = 0; i < g.ledgers.length; i++) {
                                        this.database.executeSql('INSERT INTO  tblledger (ID,InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.ledgers[i].ID, g.ledgers[i].InvoiceID, g.ledgers[i].Date, g.ledgers[i].Amount, g.ledgers[i].CustomerID, g.ledgers[i].IsCredit, g.ledgers[i].DueDate, g.ledgers[i].ByUserId, g.ledgers[i].Remarks, 1])
                                            .then(data => {
                                            console.log('successfully Added Ledger');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.logs !== 'undefined') {
                                    console.log('ledgers');
                                    for (let i = 0; i < g.logs.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        const data = [g.logs[i].ID, g.logs[i].tableName, g.logs[i].tableId, g.logs[i].userId, g.logs[i].actionType, g.logs[i].name, g.logs[i].dated, 1];
                                        this.database.executeSql('INSERT INTO  tblLogs (ID,tableName,tableId,userId,actionType,name,dated,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created Log');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                if (typeof g.vendorsLeger !== 'undefined') {
                                    console.log('vender ledgers');
                                    for (let i = 0; i < g.vendorsLeger.length; i++) {
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblledgervendor (ID,POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.vendorsLeger[i].ID, g.vendorsLeger[i].POID, g.vendorsLeger[i].Date, g.vendorsLeger[i].Amount, g.vendorsLeger[i].VendorID, g.vendorsLeger[i].IsCredit, g.vendorsLeger[i].DueDate, g.vendorsLeger[i].ByUserId, g.vendorsLeger[i].Remarks, 1])
                                            .then(data => {
                                            console.log('successfully Added vendorledger');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                // loading.dismiss();
                                if (typeof g.expenses !== 'undefined') {
                                    console.log('vender ledgers');
                                    for (let i = 0; i < g.expenses.length; i++) {
                                        const data = [g.expenses[i].ID, '113008225657937776461', g.expenses[i].Name, g.expenses[i].Date, g.expenses[i].Amount, g.expenses[i].Category, g.expenses[i].Description, g.expenses[i].Active, g.expenses[i].Sync];
                                        // tslint:disable-next-line: max-line-length
                                        this.database.executeSql('INSERT INTO  tblexpenses (ID,AccountId,Name,Date,Amount,Category,Description,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data)
                                            .then(data => {
                                            console.log('successfully Created item');
                                            return data;
                                        }, err => {
                                            console.log('Error: ', err);
                                            return err;
                                        });
                                    }
                                }
                            }).then(() => {
                                loading.dismiss();
                            });
                        }
                    }
                    if (this.executed === 0) {
                        loading.dismiss();
                    }
                    console.log('hurrah');
                }
                else {
                    // alert('failed');
                }
                // this.initializeItems();
            }, err => {
                console.log('JS call error-3', err);
                const error = JSON.parse(err.error);
                //alert(error.message);
                console.log('Native data:', JSON.parse(error));
            });
        });
    }
    deletePO(POID, Amount, VendorID, VendorSync) {
        let now = new Date().toString();
        const a = this.datePipe.transform(now, 'dd MMM yyyy');
        this.addPaymentVendor(VendorID, VendorSync, a, Amount, 'PO Deleted').then(() => { });
        ;
        return this.getPOItems(POID).then((Items) => {
            this.database.executeSql('UPDATE tblpurchasedorder SET Active=0,Sync=2 where ID=?', [POID])
                .then(data => {
                console.log('successfully Updated stock');
                for (let i = 0; i <= Items.length; i++) {
                    if (Items[i].Qty > 0) {
                        if (Items[i].Sync === 1) {
                            Items[i].Sync = 2;
                        }
                        this.database.executeSql('UPDATE items SET Instock=Instock-?,Sync=? where itemid=?', [Items[i].Qty, Items[i].Sync, Items[i].Id])
                            .then(data => {
                            console.log('successfully Updated stock');
                            return data;
                        }, err => {
                            console.log('Error: ', err);
                            return err;
                        });
                    }
                }
                // tslint:disable-next-line: max-line-length
                // this.databaseprovider.setupdatePOS(1);
                // this.router.navigate(['/menu/purchased-orders']);
                return data;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
        });
    }
    restorePO(POID, Amount, VendorID, VendorSync) {
        ;
        let now = new Date().toString();
        const a = this.datePipe.transform(now, 'dd MMM yyyy');
        this.database.executeSql('INSERT INTO  tblledgervendor (POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [POID, a, Amount, VendorID, 0, null, 'rizwanali', 'PO Restored', 0])
            .then(data => {
            console.log('successfully Added Ledger');
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
        this.database.executeSql('UPDATE tblvendors SET Balance=Balance+?,Sync=? WHERE ID=?', [Amount, VendorSync, VendorID]).then(data => {
            console.log('vendorsBalnace' + data);
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
        return this.getPOItems(POID).then((Items) => {
            this.database.executeSql('UPDATE tblpurchasedorder SET Active=1,Sync=2 where ID=?', [POID])
                .then(data => {
                console.log('successfully Updated stock');
                for (let i = 0; i <= Items.length; i++) {
                    if (Items[i].Qty > 0) {
                        if (Items[i].Sync === 1) {
                            Items[i].Sync = 2;
                        }
                        this.database.executeSql('UPDATE items SET Instock=Instock+?,Sync=? where itemid=?', [Items[i].Qty, Items[i].Sync, Items[i].Id])
                            .then(data => {
                            console.log('successfully Updated stock');
                            return data;
                        }, err => {
                            console.log('Error: ', err);
                            return err;
                        });
                    }
                }
                // this.databaseprovider.setupdatePOS(1);
                // this.router.navigate(['/menu/purchased-orders']);
                return data;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
        });
    }
    restoreInvoice(Iid, Amount, CustomerID, CustomerSync) {
        let now = new Date().toString();
        const a = this.datePipe.transform(now, 'dd MMM yyyy');
        const a1 = Math.round((new Date(a)).getTime() / 1000);
        this.database.executeSql('INSERT INTO  tblledger (InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [Iid, a1, Amount, CustomerID, 0, null, 'rizwanali', 'Invoice Restored', 0])
            .then(data => {
            console.log('successfully Added Ledger');
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
        this.database.executeSql('UPDATE clients SET Balance=Balance+?,Sync=? WHERE Cid=?', [Amount, CustomerSync, CustomerID]).then(data => {
            console.log(data);
            ;
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
        ;
        return this.getInvoiceItems(Iid).then((Items) => {
            this.database.executeSql('UPDATE invoices SET Status=1,Sync=2 where Iid=?', [Iid])
                .then(data => {
                console.log('successfully Updated stock');
                for (let i = 0; i <= Items.length; i++) {
                    if (Items[i].Qty > 0) {
                        if (Items[i].Sync === 1) {
                            Items[i].Sync = 2;
                        }
                        this.database.executeSql('UPDATE items SET Instock=Instock-?,Sync=? where itemid=?', [Items[i].Qty, Items[i].Sync, Items[i].Id])
                            .then(data => {
                            console.log('successfully Updated stock');
                            return data;
                        }, err => {
                            console.log('Error: ', err);
                            return err;
                        });
                    }
                }
                /*return this.database.executeSql('UPDATE clients SET Balance=Balance-? WHERE Cid=?',[Amount , Items.Cid]).then(data => {
                  console.log(data);
                  ;
                  return data;
                }, err => {
                  console.log('Error: ', err);
                  return err;
                });*/
                // this.databaseprovider.setupdatePOS(1);
                // this.router.navigate(['/menu/purchased-orders']);
                return data;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
        });
    }
    deleteInvoice(Iid, Amount, CustomerID, CustomerSync) {
        let now = new Date().toString();
        const a = this.datePipe.transform(now, 'dd MMM yyyy');
        this.addPayment(CustomerID, CustomerSync, a, Amount, 'Invoice Deleted').then(() => { });
        ;
        return this.getInvoiceItems(Iid).then((Items) => {
            this.database.executeSql('UPDATE invoices SET Status=0,Sync=2 where Iid=?', [Iid])
                .then(data => {
                console.log('successfully Updated stock');
                for (let i = 0; i <= Items.length; i++) {
                    if (Items[i].Qty > 0) {
                        if (Items[i].Sync === 1) {
                            Items[i].Sync = 2;
                        }
                        this.database.executeSql('UPDATE items SET Instock=Instock+?,Sync=? where itemid=?', [Items[i].Qty, Items[i].Sync, Items[i].Id])
                            .then(data => {
                            console.log('successfully Updated stock');
                            return data;
                        }, err => {
                            console.log('Error: ', err);
                            return err;
                        });
                    }
                }
                /*return this.database.executeSql('UPDATE clients SET Balance=Balance-? WHERE Cid=?',[Amount , Items.Cid]).then(data => {
                  console.log(data);
                  ;
                  return data;
                }, err => {
                  console.log('Error: ', err);
                  return err;
                });*/
                // this.databaseprovider.setupdatePOS(1);
                // this.router.navigate(['/menu/purchased-orders']);
                return data;
            }, err => {
                console.log('Error: ', err);
                return err;
            });
        });
    }
    updateBalance(Total, Cid) {
        ;
        return this.database.executeSql('UPDATE clients SET Balance=Balance-? WHERE Cid=?', [Total, Cid]).then(data => {
            console.log(data);
            console.log("BalanceUpdated");
            return data;
            ;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    getAllActivePOS() {
        return this.database.executeSql('Select tblpurchasedorder.ID,tblpurchasedorder.VendorID,tblpurchasedorder.Date,tblpurchasedorder.ReceivedBy,tblpurchasedorder.Total,tblpurchasedorder.Remarks,tblpurchasedorder.Discount,tblpurchasedorder.Active,tblpurchasedorder.Sync,tblvendors.Name,tblvendors.Address,tblvendors.Phone,tblvendors.Email,tblvendors.bActive from tblpurchasedorder,tblvendors WHERE tblpurchasedorder.Active=1 AND tblpurchasedorder.VendorID=tblvendors.ID ORDER BY tblpurchasedorder.ID DESC', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        ID: data.rows.item(i).ID,
                        VendorID: data.rows.item(i).VendorID,
                        Date: data.rows.item(i).Date,
                        ReceivedBy: data.rows.item(i).ReceivedBy,
                        Total: data.rows.item(i).Total,
                        Remarks: data.rows.item(i).Remarks,
                        Discount: data.rows.item(i).Discount,
                        Phone: data.rows.item(i).Phone,
                        Active: data.rows.item(i).Active,
                        Sync: data.rows.item(i).Sync,
                        Name: data.rows.item(i).Name
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getActivePOSPagination(from1) {
        // alert('from1' + from1);
        let total = 0;
        this.database.executeSql('SELECT * From tblpurchasedorder', []).then((data1) => {
            // total = data1.rows.length;
            console.log('data from' + data1.rows.length);
            total = data1.rows.length;
        });
        return this.database.executeSql('Select tblpurchasedorder.ID,tblpurchasedorder.VendorID,tblpurchasedorder.Date,tblpurchasedorder.ReceivedBy,tblpurchasedorder.Total,tblpurchasedorder.Remarks,tblpurchasedorder.Discount,tblpurchasedorder.Active,tblpurchasedorder.Sync,tblvendors.Name,tblvendors.Address,tblvendors.Phone,tblvendors.Email,tblvendors.bActive from tblpurchasedorder,tblvendors WHERE tblpurchasedorder.Active=1 AND tblpurchasedorder.VendorID=tblvendors.ID ORDER BY tblpurchasedorder.ID DESC limit ?, 10', [from1]).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Total1: total,
                        ID: data.rows.item(i).ID,
                        VendorID: data.rows.item(i).VendorID,
                        Date: data.rows.item(i).Date,
                        ReceivedBy: data.rows.item(i).ReceivedBy,
                        Total: data.rows.item(i).Total,
                        Remarks: data.rows.item(i).Remarks,
                        Discount: data.rows.item(i).Discount,
                        Phone: data.rows.item(i).Phone,
                        Active: data.rows.item(i).Active,
                        Sync: data.rows.item(i).Sync,
                        Name: data.rows.item(i).Name,
                        Address: data.rows.item(i).Address,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    syncUpdatedPOSIDS() {
        return this.database.executeSql('Select ID FROM tblpurchasedorder where Sync=2', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        ID: data.rows.item(i).ID,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    syncUpdatedInvoices() {
        return this.database.executeSql('Select Iid FROM invoices where Sync=2', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getAllDeletedPOS() {
        return this.database.executeSql('Select tblpurchasedorder.ID,tblpurchasedorder.VendorID,tblpurchasedorder.Date,tblpurchasedorder.ReceivedBy,tblpurchasedorder.Total,tblpurchasedorder.Remarks,tblpurchasedorder.Discount,tblpurchasedorder.Active,tblpurchasedorder.Sync,tblvendors.Name,tblvendors.Address,tblvendors.Phone,tblvendors.Email,tblvendors.bActive from tblpurchasedorder,tblvendors WHERE tblpurchasedorder.Active=0 AND tblpurchasedorder.VendorID=tblvendors.ID', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        ID: data.rows.item(i).ID,
                        VendorID: data.rows.item(i).VendorID,
                        Date: data.rows.item(i).Date,
                        ReceivedBy: data.rows.item(i).ReceivedBy,
                        Total: data.rows.item(i).Total,
                        Remarks: data.rows.item(i).Remarks,
                        Discount: data.rows.item(i).Discount,
                        Active: data.rows.item(i).Active,
                        Sync: data.rows.item(i).Sync,
                        Name: data.rows.item(i).Name
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getAllDeletedInvoices() {
        return this.database.executeSql('Select invoices.Iid, invoices.AccountId , invoices.Cid, invoices.Name, invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message,invoices.Status,invoices.Sync,clients.Cid,clients.AccountId,clients.Fname,clients.Lname, clients.Shop,clients.BillingAddress,clients.City,clients.Cell,clients.Active,clients.Balance,clients.Sync from invoices,clients WHERE invoices.Status=0 AND invoices.Cid=clients.Cid', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: data.rows.item(i).CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: data.rows.item(i).DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Fname: data.rows.item(i).Fname,
                        Shop: data.rows.item(i).Shop,
                        City: data.rows.item(i).City,
                        Lname: data.rows.item(i).Lname,
                        BillingAddress: data.rows.item(i).BillingAddress
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getCustomerSync(CustomerID) {
        return this.database.executeSql('Select Sync FROM clients where Cid=?', [CustomerID]).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getVendorSync(VendorID) {
        return this.database.executeSql('Select Sync FROM tblvendors where ID=?', [VendorID]).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getAllInvoicesTable() {
        return this.database.executeSql('Select CreateDate,Total FROM invoices', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        CreateDate: data.rows.item(i).CreateDate,
                        Total: data.rows.item(i).Total,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getAllInvoicePaymentsTable() {
        return this.database.executeSql('Select Date,Amount FROM tblledger WHERE IsCredit=1', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getAllInvoicesLedgerTable() {
        return this.database.executeSql('Select Date,Amount,IsCredit FROM tblledger', []).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        IsCredit: data.rows.item(i).IsCredit,
                    });
                }
            }
            // });
            console.log('b:');
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    addExpense(Name, date, Amount, Category, Description) {
        const a = Math.round((new Date(date)).getTime() / 1000);
        const data = ['113008225657937776461', Name, a, Amount, Category, Description, 1, 0];
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO  tblexpenses (AccountId,Name,Date,Amount,Category,Description,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
            .then(data => {
            this.database.executeSql('INSERT INTO  tblledger(InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [null, a, Amount, 0, 2, null, 'rizwanali', 'Expense', 0]).then((data) => {
            });
            console.log('successfully Created item');
            return data;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    syncAddedExpenses() {
        return this.database.executeSql('SELECT * FROM tblexpenses where Sync=0', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        AccountId: data.rows.item(i).AccountId,
                        Name: data.rows.item(i).Name,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        Category: data.rows.item(i).Category,
                        Description: data.rows.item(i).Description,
                        Active: data.rows.item(i).Active,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    syncUpdatedExpenses() {
        return this.database.executeSql('SELECT * FROM tblexpenses where Sync=2', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        AccountId: data.rows.item(i).AccountId,
                        Name: data.rows.item(i).Name,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        Category: data.rows.item(i).Category,
                        Description: data.rows.item(i).Description,
                        Active: data.rows.item(i).Active,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updateSyncedExpenses(IDs) {
        for (let i = 0; i < IDs.length; i++) {
            this.database.executeSql('UPDATE  tblexpenses Set Sync=1 where ID=?', [IDs[i]]).then((data) => {
                console.log(data);
                return data;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        }
    }
    getAllExpenses() {
        return this.database.executeSql('SELECT * FROM tblexpenses where Active=1 ORDER BY ID DESC', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    const z = new Date(parseInt(data.rows.item(i).Date) * 1000).toString();
                    const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    items.push({
                        ID: data.rows.item(i).ID,
                        AccountId: data.rows.item(i).AccountId,
                        Name: data.rows.item(i).Name,
                        Date: CreateDate,
                        Amount: data.rows.item(i).Amount,
                        Category: data.rows.item(i).Category,
                        Description: data.rows.item(i).Description,
                        Active: data.rows.item(i).Active,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    deleteExpense(ID, Sync) {
        return this.database.executeSql('UPDATE tblexpenses SET Active=0,Sync=? WHERE ID=?', [Sync, ID]).then(data => {
            console.log(data);
            return 1;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    getExpenesonspot() {
        return this.database.executeSql('SELECT * FROM tblexpenses ORDER BY ID DESC LIMIT 0, 1', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                    });
                }
            }
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getExpense(id) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let loading = yield this.loadingController.create();
            yield loading.present();
            this.database.executeSql('SELECT * FROM tblexpenses WHERE ID=?', [id]).then((data) => {
                let items = [];
                if (data.rows.length > 0) {
                    for (let i = 0; i < data.rows.length; i++) {
                        items.push({
                            ID: data.rows.item(i).ID,
                            AccountId: data.rows.item(i).AccountId,
                            Name: data.rows.item(i).Name,
                            Date: data.rows.item(i).Date,
                            Amount: data.rows.item(i).Amount,
                            Category: data.rows.item(i).Category,
                            Description: data.rows.item(i).Description,
                            Active: data.rows.item(i).Active,
                            Sync: data.rows.item(i).Sync,
                        });
                    }
                }
                ;
                console.log(items);
                const navigationExtras = {
                    state: {
                        expense: items[0],
                        url: '/menu/logs'
                    }
                };
                this.router.navigate(['editexpense'], navigationExtras);
                loading.dismiss();
                //return items;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        });
    }
    getExpensesDashboard() {
        return this.database.executeSql('Select Date,Amount FROM tblexpenses', []).then((data1) => {
            let Pos = [];
            if (data1.rows.length > 0) {
                for (let i = 0; i < data1.rows.length; i++) {
                    Pos.push({
                        Date: data1.rows.item(i).Date,
                        Amount: data1.rows.item(i).Amount,
                        IsCredit: 2,
                    });
                }
            }
            return Pos;
        });
    }
    getTodaysSales(start, end, currency) {
        // alert('Start: ' + start + 'end: ' + end);
        const a = Math.round((new Date(start)).getTime() / 1000);
        const b = Math.round((new Date(end)).getTime() / 1000);
        // alert('a: ' + a + 'b: ' + b)
        // SELECT DATE(FROM_UNIXTIME(`Date`)),SUM(`Amount`) AS aDate FROM `tblledger` GROUP BY `Date`SELECT DATE(FROM_UNIXTIME(`Date`)),SUM(`Amount`) AS aDate FROM `tblledger` GROUP BY `Date`
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT date(Date, ?, ?) AS Date,SUM(CASE WHEN IsCredit=0 THEN Amount ELSE 0 END) AS Total,SUM(CASE WHEN IsCredit=1 THEN Amount ELSE 0 END) AS Paid FROM tblledger WHERE Date  between ? and ? GROUP BY date(Date, ?, ?) ORDER BY date DESC', ['unixepoch', 'localtime', a, b, 'unixepoch', 'localtime']).then((data1) => {
            let items = [];
            //       const z = new Date(parseInt(data1.rows.item(1).Date)*1000).toString();
            //       const CreateDate =  this.datePipe.transform(z, 'dd MMM yyyy');
            // alert(CreateDate)
            // alert(data1.rows.item(0).Date )
            if (data1.rows.length > 0) {
                for (let i = 0; i < data1.rows.length; i++) {
                    if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid === null) {
                        items.push({
                            Date: '-',
                            Total: '-',
                            Paid: '-',
                        });
                    }
                    else if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid != null) {
                        const z = new Date(data1.rows.item(i).Date).toString();
                        const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy');
                        items.push({
                            Date: CreateDate,
                            Total: currency + 0,
                            Paid: currency + data1.rows.item(i).Paid,
                        });
                    }
                    else if (data1.rows.item(i).Paid === null && data1.rows.item(i).Total != null) {
                        const z = new Date(data1.rows.item(i).Date).toString();
                        const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy');
                        items.push({
                            Date: CreateDate,
                            Total: currency + data1.rows.item(i).Total,
                            Paid: currency + 0,
                        });
                    }
                    else {
                        const z = new Date(data1.rows.item(i).Date).toString();
                        const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy');
                        items.push({
                            Date: CreateDate,
                            Total: currency + data1.rows.item(i).Total,
                            Paid: currency + data1.rows.item(i).Paid,
                        });
                    }
                }
            }
            else {
                items.push({
                    Date: '-',
                    Total: '-',
                    Paid: '-',
                });
            }
            console.log('belo');
            // alert(items.length)
            console.log(items);
            return items;
        });
    }
    getSalesByCustomerStatement() {
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT clients.Cid,clients.Fname,clients.Lname,clients.Shop,SUM(CASE WHEN tblledger.IsCredit=0 THEN tblledger.Amount ELSE 0 END) AS Total,SUM(CASE WHEN tblledger.IsCredit=1 THEN tblledger.Amount ELSE 0 END) AS Paid FROM clients,tblledger WHERE  clients.Cid=tblledger.CustomerID GROUP BY tblledger.CustomerID', []).then((data1) => {
            let items = [];
            if (data1.rows.length > 0) {
                for (let i = 0; i < data1.rows.length; i++) {
                    items.push({
                        Cid: data1.rows.item(i).Cid,
                        Name: data1.rows.item(i).Fname + ' ' + data1.rows.item(i).Lname,
                        Shop: data1.rows.item(i).Shop,
                        Total: data1.rows.item(i).Total,
                        Paid: data1.rows.item(i).Paid,
                    });
                }
            }
            console.log(items);
            return items;
        });
    }
    getSalesByCustomerId(id) {
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message from invoices WHERE invoices.Cid=?', [id]).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    const z = new Date(parseInt(data.rows.item(i).CreateDate) * 1000).toString();
                    const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy');
                    const y = new Date(parseInt(data.rows.item(i).CreateDate) * 1000).toString();
                    const DueDate = this.datePipe.transform(y, 'dd MMM yyyy');
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                    });
                }
            }
            return Pos;
        });
    }
    getSalesByCustomerIdTime(id, start, end, currency) {
        const a = Math.round((new Date(start)).getTime() / 1000);
        const b = Math.round((new Date(end)).getTime() / 1000);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message from invoices WHERE invoices.Cid=?  AND invoices.CreateDate>=? AND invoices.CreateDate<=?', [id, a, b]).then((data) => {
            let Pos = [];
            //alert(data.rows.length)
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    // alert('create ' + data.rows.item(i).CreateDate)
                    const z = new Date(parseInt(data.rows.item(i).CreateDate) * 1000).toString();
                    const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy');
                    const y = new Date(parseInt(data.rows.item(i).DueDate) * 1000).toString();
                    const DueDate = this.datePipe.transform(y, 'dd MMM yyyy');
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: currency + data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                    });
                    // tslint:disable-next-line: align
                }
            }
            else {
                Pos.push({
                    Iid: '',
                    AccountId: '',
                    Cid: '',
                    Name: '',
                    CreateDate: '',
                    Terms: '',
                    DueDate: '',
                    Subtotal: '',
                    Discount: '',
                    Total: '',
                    Message: '',
                });
            }
            return Pos;
        });
    }
    getSalesAndPaidByCustomertime(id, start, end) {
        const a = Math.round((new Date(start)).getTime() / 1000);
        const b = Math.round((new Date(end)).getTime() / 1000);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT clients.Fname,clients.Lname,SUM(CASE WHEN tblledger.IsCredit=0 THEN tblledger.Amount ELSE 0 END) AS Total,SUM(CASE WHEN tblledger.IsCredit=1 THEN tblledger.Amount ELSE 0 END) AS Paid FROM clients,tblledger WHERE  clients.Cid=tblledger.CustomerID AND tblledger.CustomerID=? AND tblledger.Date  between ? and ? GROUP BY tblledger.CustomerID', [id, a, b]).then((data1) => {
            let items = [];
            // alert(data1.rows.length)
            if (data1.rows.length > 0) {
                for (let i = 0; i < data1.rows.length; i++) {
                    items.push({
                        Name: data1.rows.item(i).Fname + ' ' + data1.rows.item(i).Lname,
                        Total: data1.rows.item(i).Total,
                        Paid: data1.rows.item(i).Paid,
                    });
                }
            }
            else {
                items.push({
                    Name: '',
                    Total: 0,
                    Paid: 0,
                });
            }
            console.log(items);
            return items;
        });
    }
    getSalesByCustomer(currency) {
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT clients.Fname,clients.Lname,SUM(CASE WHEN tblledger.IsCredit=0 THEN tblledger.Amount ELSE 0 END) AS Total,SUM(CASE WHEN tblledger.IsCredit=1 THEN tblledger.Amount ELSE 0 END) AS Paid FROM clients,tblledger WHERE  clients.Cid=tblledger.CustomerID GROUP BY tblledger.CustomerID', []).then((data1) => {
            let items = [];
            if (data1.rows.length > 0) {
                for (let i = 0; i < data1.rows.length; i++) {
                    items.push({
                        Name: data1.rows.item(i).Fname + ' ' + data1.rows.item(i).Lname,
                        Total: currency + data1.rows.item(i).Total,
                        Paid: currency + data1.rows.item(i).Paid,
                    });
                }
            }
            else {
                items.push({
                    Name: '-',
                    Total: '-',
                    Paid: '-',
                });
            }
            console.log(items);
            return items;
        });
    }
    getSalesByCustomertime(start, end, currency) {
        const a = Math.round((new Date(start)).getTime() / 1000);
        const b = Math.round((new Date(end)).getTime() / 1000);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT clients.Fname,clients.Lname,SUM(CASE WHEN tblledger.IsCredit=0 THEN tblledger.Amount ELSE 0 END) AS Total,SUM(CASE WHEN tblledger.IsCredit=1 THEN tblledger.Amount ELSE 0 END) AS Paid FROM clients,tblledger WHERE  clients.Cid=tblledger.CustomerID AND tblledger.Date  between ? and ? GROUP BY tblledger.CustomerID', [a, b]).then((data1) => {
            let items = [];
            if (data1.rows.length > 0) {
                for (let i = 0; i < data1.rows.length; i++) {
                    items.push({
                        Name: data1.rows.item(i).Fname + ' ' + data1.rows.item(i).Lname,
                        Total: currency + data1.rows.item(i).Total,
                        Paid: currency + data1.rows.item(i).Paid,
                    });
                }
            }
            else {
                items.push({
                    Name: '-',
                    Total: '-',
                    Paid: '-',
                });
            }
            console.log(items);
            return items;
        });
    }
    getSalesByItem(currency) {
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT items.Description,SUM(invoiceitems.Qty) AS Qty,SUM(invoiceitems.CostPrice * invoiceitems.Qty) AS CostPrice FROM items,invoiceitems WHERE  items.itemid=invoiceitems.Itemid GROUP BY items.itemid', []).then((data1) => {
            let items = [];
            if (data1.rows.length > 0) {
                for (let i = 0; i < data1.rows.length; i++) {
                    if (data1.rows.item(i).CostPrice > 0) {
                        items.push({
                            Description: data1.rows.item(i).Description,
                            Qty: data1.rows.item(i).Qty,
                            CostPrice: currency + data1.rows.item(i).CostPrice,
                        });
                    }
                }
            }
            else {
                items.push({
                    Description: '-',
                    Qty: '-',
                    CostPrice: '    -',
                });
            }
            console.log(items);
            return items;
        });
    }
    getSalesByItemTime(start, end, currency) {
        const a = Math.round((new Date(start)).getTime() / 1000);
        const b = Math.round((new Date(end)).getTime() / 1000);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT items.Description,SUM(invoiceitems.Qty) AS Qty,SUM(invoiceitems.CostPrice * invoiceitems.Qty) AS CostPrice FROM items,invoiceitems,invoices WHERE invoices.Iid=invoiceitems.Iid AND invoices.CreateDate between ? and ? AND items.itemid=invoiceitems.Itemid GROUP BY items.itemid', [a, b]).then((data1) => {
            let items = [];
            if (data1.rows.length > 0) {
                for (let i = 0; i < data1.rows.length; i++) {
                    if (data1.rows.item(i).CostPrice > 0) {
                        items.push({
                            Description: data1.rows.item(i).Description,
                            Qty: data1.rows.item(i).Qty,
                            CostPrice: currency + data1.rows.item(i).CostPrice,
                        });
                    }
                }
            }
            else {
                items.push({
                    Description: '-',
                    Qty: '-',
                    CostPrice: '    -',
                });
            }
            console.log(items);
            return items;
        });
    }
    getCategoryExpense() {
        return this.database.executeSql('SELECT Category,Amount FROM tblexpenses where Active=1 GROUP BY Category', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        Amount: data.rows.item(i).Amount,
                        Category: data.rows.item(i).Category
                    });
                }
            }
            else {
                items.push({
                    Amount: '-',
                    Category: '-'
                });
            }
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getExpenseJournalByTime(start, end, currency) {
        const a = Math.round((new Date(start)).getTime() / 1000);
        const b = Math.round((new Date(end)).getTime() / 1000);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT Date,Category,Name,Description,Amount FROM tblexpenses where Active=1 AND Date between ? and ? GROUP BY Category ORDER BY ID DESC', [a, b]).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    const z = new Date(parseInt(data.rows.item(i).Date) * 1000).toString();
                    const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    items.push({
                        Date: CreateDate,
                        Category: data.rows.item(i).Category,
                        Name: data.rows.item(i).Name,
                        Description: data.rows.item(i).Description,
                        Amount: currency + data.rows.item(i).Amount,
                    });
                }
            }
            else {
                items.push({
                    Date: '-',
                    Category: '-',
                    Name: '-',
                    Description: '-',
                    Amount: '-',
                });
            }
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getExpenseJournalByTimeAndCategory(start, end, category, currency) {
        const a = Math.round((new Date(start)).getTime() / 1000);
        const b = Math.round((new Date(end)).getTime() / 1000);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT Date,Category,Name,Description,Amount FROM tblexpenses where Active=1 AND Category=? AND Date between ? and ? GROUP BY Category ORDER BY ID DESC', [category, a, b]).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    const z = new Date(parseInt(data.rows.item(i).Date) * 1000).toString();
                    const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    items.push({
                        Date: CreateDate,
                        Category: data.rows.item(i).Category,
                        Name: data.rows.item(i).Name,
                        Description: data.rows.item(i).Description,
                        Amount: currency + data.rows.item(i).Amount,
                    });
                }
            }
            else {
                items.push({
                    Date: '-',
                    Category: '-',
                    Name: '-',
                    Description: '-',
                    Amount: '-',
                });
            }
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getExpenseJournal(currency) {
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT Date,Category,Name,Description,Amount FROM tblexpenses where Active=1 GROUP BY Category ORDER BY ID DESC', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    const z = new Date(parseInt(data.rows.item(i).Date) * 1000).toString();
                    const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    items.push({
                        Date: CreateDate,
                        Category: data.rows.item(i).Category,
                        Name: data.rows.item(i).Name,
                        Description: data.rows.item(i).Description,
                        Amount: currency + data.rows.item(i).Amount,
                    });
                }
            }
            else {
                items.push({
                    Date: '-',
                    Category: '-',
                    Name: '-',
                    Description: '-',
                    Amount: '-',
                });
            }
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getExpenseJournalByCategory(category, currency) {
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT Date,Category,Name,Description,Amount FROM tblexpenses where Active=1 AND Category=?  GROUP BY Category ORDER BY ID DESC', [category]).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    const z = new Date(parseInt(data.rows.item(i).Date) * 1000).toString();
                    const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    items.push({
                        Date: CreateDate,
                        Category: data.rows.item(i).Category,
                        Name: data.rows.item(i).Name,
                        Description: data.rows.item(i).Description,
                        Amount: currency + data.rows.item(i).Amount,
                    });
                }
            }
            else {
                items.push({
                    Date: '-',
                    Category: '-',
                    Name: '-',
                    Description: '-',
                    Amount: '-',
                });
            }
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getCustomerAging() {
        const time = new Date();
        let current = new Date();
        const current1 = this.datePipe.transform(current, 'dd MMM yyyy');
        time.setDate(time.getDate() - 15);
        const past15 = this.datePipe.transform(time, 'dd MMM yyyy');
        const a = Math.round((new Date(past15)).getTime() / 1000);
        const b = Math.round((new Date(current1)).getTime() / 1000);
        // alert('current:' + current1 + 'pas30:' + past30);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT clients.Fname,clients.Lname,SUM(CASE WHEN tblledger.IsCredit=0 THEN tblledger.Amount ELSE 0 END) AS Total,SUM(CASE WHEN tblledger.IsCredit=1 THEN tblledger.Amount ELSE 0 END) AS Paid,SUM(CASE WHEN tblledger.IsCredit=0 AND tblledger.Date>=? AND tblledger.Date<?  THEN tblledger.Amount ELSE 0 END) AS Total1,SUM(CASE WHEN tblledger.IsCredit=1 AND tblledger.Date>=? AND tblledger.Date<? THEN tblledger.Amount ELSE 0 END) AS Paid1,SUM(CASE WHEN tblledger.IsCredit=0 AND tblledger.Date<? THEN tblledger.Amount ELSE 0 END) AS Total2,SUM(CASE WHEN tblledger.IsCredit=1 AND tblledger.Date<? THEN tblledger.Amount ELSE 0 END) AS Paid2 FROM clients,tblledger WHERE  clients.Cid=tblledger.CustomerID GROUP BY tblledger.CustomerID', [a, b, a, b, a, a]).then((data1) => {
            let items = [];
            if (data1.rows.length > 0) {
                for (let i = 0; i < data1.rows.length; i++) {
                    // const a = parseInt(data1.rows.item(i).Total) + parseInt(data1.rows.item(i).Paid)
                    // alert('to ' +  a)
                    items.push({
                        Name: data1.rows.item(i).Fname + ' ' + data1.rows.item(i).Lname,
                        Total: data1.rows.item(i).Total,
                        Paid: data1.rows.item(i).Paid,
                        Due: data1.rows.item(i).Total - data1.rows.item(i).Paid,
                        Due1: data1.rows.item(i).Total1 - data1.rows.item(i).Paid1,
                        Due2: data1.rows.item(i).Total2 - data1.rows.item(i).Paid2,
                    });
                }
            }
            else {
                items.push({
                    Name: '-',
                    Total: '-',
                    Paid: '-',
                    Due: '-',
                    Due1: '-',
                    Due2: '-',
                });
            }
            console.log(items);
            return items;
        });
    }
    getSalesByYear(y) {
        const first = new Date(y, 0, 1).setHours(0, 0, 0, 0);
        const firstdateofyear = this.datePipe.transform(first, 'dd MMM yyyy h:mm a');
        const last = new Date(y, 11, 31).setHours(23, 59, 59, 999);
        const lastdateofyear = this.datePipe.transform(last, 'dd MMM yyyy h:mm a');
        const year = this.datePipe.transform(last, 'yyyy');
        const a = Math.round((new Date(firstdateofyear)).getTime() / 1000);
        const b = Math.round((new Date(lastdateofyear)).getTime() / 1000);
        //alert('current:' + firstdateofyear + 'pas30:' + lastdateofyear  + 'year' + year);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT SUM(CASE WHEN IsCredit=0 THEN Amount ELSE 0 END) AS Total,SUM(CASE WHEN IsCredit=1 THEN Amount ELSE 0 END) AS Paid FROM tblledger WHERE Date between ? and ?', [a, b]).then((data1) => {
            let items = [];
            if (data1.rows.length > 0) {
                for (let i = 0; i < data1.rows.length; i++) {
                    if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid === null) {
                        items.push({
                            Total: 0,
                            Paid: 0,
                            Year: year,
                        });
                    }
                    else if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid != null) {
                        items.push({
                            Total: 0,
                            Paid: data1.rows.item(i).Paid,
                            Year: year,
                        });
                    }
                    else if (data1.rows.item(i).Paid === null && data1.rows.item(i).Total != null) {
                        items.push({
                            Total: data1.rows.item(i).Total,
                            Paid: 0,
                            Year: year,
                        });
                    }
                    else {
                        items.push({
                            Total: data1.rows.item(i).Total,
                            Paid: data1.rows.item(i).Paid,
                            Year: year,
                        });
                    }
                    //  items.push({
                    //    Total: data1.rows.item(i).Total,
                    //    Paid: data1.rows.item(i).Paid,
                    //    Year:  year,
                    //   });
                }
            }
            console.log(items);
            return items;
        });
    }
    OverdueInvoices2Pagination(from1) {
        let total = 0;
        const time = new Date();
        // time.setDate(time.getDate() - 15);
        const current = this.datePipe.transform(time, 'dd MMM yyyy');
        const a = Math.round((new Date(current)).getTime() / 1000);
        // alert('current:' + current + ' = ' + a);
        this.database.executeSql('SELECT * From invoices', []).then((data1) => {
            // total = data1.rows.length;
            console.log('data from' + data1.rows.length);
            total = data1.rows.length;
        });
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message,invoices.Status,invoices.Sync,clients.Fname,clients.Shop,clients.City,clients.Lname,clients.BillingAddress,clients.Cell from invoices,clients WHERE invoices.DueDate<? AND invoices.Status=1 AND invoices.Cid=clients.Cid ORDER BY invoices.Iid DESC limit ?, 10', [a, from1]).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    const z = new Date(parseInt(data.rows.item(i).CreateDate) * 1000).toString();
                    const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    const y = new Date(parseInt(data.rows.item(i).DueDate) * 1000).toString();
                    const DueDate = this.datePipe.transform(y, 'dd MMM yyyy');
                    Pos.push({
                        Total1: total,
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Fname: data.rows.item(i).Fname,
                        Shop: data.rows.item(i).Shop,
                        City: data.rows.item(i).City,
                        Lname: data.rows.item(i).Lname,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        Cell: data.rows.item(i).Cell,
                        Status: data.rows.item(i).Status,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    OustandingInvoices2Pagination(from1) {
        let total = 0;
        const time = new Date();
        // time.setDate(time.getDate() - 15);
        const current = this.datePipe.transform(time, 'dd MMM yyyy');
        const a = Math.round((new Date(current)).getTime() / 1000);
        // alert('current:' + current + ' = ' + a);
        this.database.executeSql('SELECT * From invoices', []).then((data1) => {
            // total = data1.rows.length;
            console.log('data from' + data1.rows.length);
            total = data1.rows.length;
        });
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message,invoices.Status,invoices.Sync,clients.Fname,clients.Shop,clients.City,clients.Lname,clients.BillingAddress,clients.Cell from invoices,clients WHERE invoices.DueDate>=? AND invoices.Status=1  AND invoices.Cid=clients.Cid ORDER BY invoices.Iid DESC limit ?, 10', [a, from1]).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    const z = new Date(parseInt(data.rows.item(i).CreateDate) * 1000).toString();
                    const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    const y = new Date(parseInt(data.rows.item(i).DueDate) * 1000).toString();
                    const DueDate = this.datePipe.transform(y, 'dd MMM yyyy');
                    Pos.push({
                        Total1: total,
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Fname: data.rows.item(i).Fname,
                        Shop: data.rows.item(i).Shop,
                        City: data.rows.item(i).City,
                        Lname: data.rows.item(i).Lname,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        Cell: data.rows.item(i).Cell,
                        Status: data.rows.item(i).Status,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getSalesByMonth(year) {
        let all = [];
        const current = new Date();
        const currentmonth = current.getMonth() + 1;
        let first1 = '';
        let last1 = '';
        for (let i = 0; i < currentmonth - 1; i++) {
            const firstdayofmonth = new Date(new Date().getFullYear(), i, 1);
            first1 = this.datePipe.transform(firstdayofmonth, 'dd MMM yyyy');
            const lastdayofmonth = new Date(new Date().getFullYear(), i + 1, 0);
            last1 = this.datePipe.transform(lastdayofmonth, 'dd MMM yyyy');
            const a = Math.round((new Date(first1)).getTime() / 1000);
            const b = Math.round((new Date(last1)).getTime() / 1000);
            console.log('a: ' + a + '\nb :' + b);
            // if (i === currentmonth) {
            // } else {
            // }
            console.log('a: ' + a + '\nb :' + b);
            // alert('a: ' + a + '\nb :' + b);
            let items1 = [];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('SELECT SUM(CASE WHEN IsCredit=0 THEN Amount ELSE 0 END) AS Total,SUM(CASE WHEN IsCredit=1 THEN Amount ELSE 0 END) AS Paid FROM tblledger WHERE Date  between ? and ?', [a, b]).then((data1) => {
                let items = [];
                if (data1.rows.length > 0) {
                    for (let i = 0; i < data1.rows.length; i++) {
                        if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid === null) {
                            all.push({
                                Total: 0,
                                Paid: 0,
                            });
                        }
                        else if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid != null) {
                            all.push({
                                Total: 0,
                                Paid: data1.rows.item(i).Paid,
                            });
                        }
                        else if (data1.rows.item(i).Paid === null && data1.rows.item(i).Total != null) {
                            all.push({
                                Total: data1.rows.item(i).Total,
                                Paid: 0,
                            });
                        }
                        else {
                            all.push({
                                Total: data1.rows.item(i).Total,
                                Paid: data1.rows.item(i).Paid,
                            });
                        }
                    }
                }
                console.log(items);
                // alert('befor:' + items.length)
                return items;
            });
        }
        const firstdayofmonth = new Date(new Date().getFullYear(), currentmonth, 1);
        first1 = this.datePipe.transform(firstdayofmonth, 'dd MMM yyyy');
        const lastdayofmonth = new Date(new Date().getFullYear(), currentmonth + 1, 0);
        last1 = this.datePipe.transform(lastdayofmonth, 'dd MMM yyyy');
        const a = Math.round((new Date(first1)).getTime() / 1000);
        const b = Math.round((new Date(last1)).getTime() / 1000);
        console.log('a: ' + a + '\nb :' + b);
        // alert('a: ' + a + '\nb :' + b);
        let items1 = [];
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT SUM(CASE WHEN IsCredit=0 THEN Amount ELSE 0 END) AS Total,SUM(CASE WHEN IsCredit=1 THEN Amount ELSE 0 END) AS Paid FROM tblledger WHERE Date  between ? and ?', [a, b]).then((data1) => {
            let items = [];
            if (data1.rows.length > 0) {
                for (let i = 0; i < data1.rows.length; i++) {
                    if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid === null) {
                        all.push({
                            Total: 0,
                            Paid: 0,
                        });
                    }
                    else if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid != null) {
                        all.push({
                            Total: 0,
                            Paid: data1.rows.item(i).Paid,
                        });
                    }
                    else if (data1.rows.item(i).Paid === null && data1.rows.item(i).Total != null) {
                        all.push({
                            Total: data1.rows.item(i).Total,
                            Paid: 0,
                        });
                    }
                    else {
                        all.push({
                            Total: data1.rows.item(i).Total,
                            Paid: data1.rows.item(i).Paid,
                        });
                    }
                }
            }
            console.log(all);
            return all;
        });
    }
    getsales(start, end, currency) {
        // alert('stat : ' + start + 'end: ' + end)
        const a = Math.round((new Date(start)).getTime() / 1000);
        const b = Math.round((new Date(end)).getTime() / 1000);
        return this.database.executeSql('SELECT Date,SUM(CASE WHEN IsCredit=0 THEN Amount ELSE 0 END) AS Total,SUM(CASE WHEN IsCredit=1 THEN Amount ELSE 0 END) AS Paid FROM tblledger WHERE Date  between ? and ? ', [a, b]).then((data1) => {
            let items = [];
            if (data1.rows.length > 0) {
                for (let i = 0; i < data1.rows.length; i++) {
                    if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid === null) {
                        items.push({
                            Date: '-',
                            Total: '-',
                            Paid: '-',
                        });
                    }
                    else if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid != null) {
                        const z = new Date(parseInt(data1.rows.item(i).Date) * 1000).toString();
                        const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy');
                        items.push({
                            Date: CreateDate,
                            Total: currency + 0,
                            Paid: currency + data1.rows.item(i).Paid,
                        });
                    }
                    else if (data1.rows.item(i).Paid === null && data1.rows.item(i).Total != null) {
                        const z = new Date(parseInt(data1.rows.item(i).Date) * 1000).toString();
                        const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy');
                        items.push({
                            Date: CreateDate,
                            Total: currency + data1.rows.item(i).Total,
                            Paid: currency + 0,
                        });
                    }
                    else {
                        const z = new Date(parseInt(data1.rows.item(i).Date) * 1000).toString();
                        const CreateDate = this.datePipe.transform(z, 'dd MMM yyyy');
                        items.push({
                            Date: CreateDate,
                            Total: currency + data1.rows.item(i).Total,
                            Paid: currency + data1.rows.item(i).Paid,
                        });
                    }
                }
            }
            else {
                items.push({
                    Date: '-',
                    Total: '-',
                    Paid: '-',
                });
            }
            console.log('thisone: ' + items[0].Paid);
            return items;
        });
    }
    getDashbardFiguers() {
        const time = new Date();
        const current = this.datePipe.transform(time, 'dd MMM yyyy');
        const a = Math.round((new Date(current)).getTime() / 1000);
        // alert('current:' + current + ' = ' + a);
        return this.database.executeSql('Select SUM(CASE WHEN invoices.DueDate>=? THEN invoices.Total ELSE 0 END) AS Outstanding,SUM(CASE WHEN invoices.DueDate<? THEN invoices.Total ELSE 0 END) AS Overdue from invoices WHERE invoices.Status=1 ', [a, a]).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                // alert('id'+ data.rows.item(0).Outstanding + '\no' + data.rows.item(0).Overdue );
                if (data.rows.item(0).Outstanding !== null && data.rows.item(0).Overdue !== null) {
                    for (let i = 0; i < data.rows.length; i++) {
                        Pos.push({
                            Outstanding: data.rows.item(i).Outstanding,
                            Overdue: data.rows.item(i).Overdue,
                        });
                    }
                }
                else {
                    Pos.push({
                        Outstanding: 0,
                        Overdue: 0,
                    });
                }
            }
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    invoiceMarkAsPaid(InvoiceID) {
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('Update invoices SET Status=3,Sync=2 WHERE Iid=?', [InvoiceID])
            .then(data => {
            return 1;
        }, err => {
            console.log('Error: ', err);
            return err;
        });
    }
    getDashbardFiguers1() {
        const time = new Date();
        const Month = time.setDate(time.getDate() - 30);
        const current = this.datePipe.transform(Month, 'dd MMM yyyy');
        const a = Math.round((new Date(current)).getTime() / 1000);
        // alert('current:' + current + ' = ' + a);
        console.log(a);
        return this.database.executeSql('Select SUM(CASE WHEN invoices.CreateDate>=? THEN invoices.Total ELSE 0 END) AS Outstanding,SUM(CASE WHEN invoices.DueDate<? THEN invoices.Total ELSE 0 END) AS Overdue from invoices ', [a, a]).then((data) => {
            let Pos = [];
            if (data.rows.length > 0) {
                alert('id' + data.rows.item(0).Outstanding + '\no' + data.rows.item(0).Overdue);
                if (data.rows.item(0).Outstanding !== null && data.rows.item(0).Overdue !== null) {
                    for (let i = 0; i < data.rows.length; i++) {
                        Pos.push({
                            Outstanding: data.rows.item(i).Outstanding,
                            Overdue: 0,
                        });
                    }
                }
                else {
                    Pos.push({
                        Outstanding: 0,
                        Overdue: 0,
                    });
                }
            }
            console.log(Pos);
            return Pos;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    checKEmail(email) {
        return this.database.executeSql('SELECT * from tblUsers where email=? AND bActive=1', [email]).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                // alert('yes')
                items.push({
                    success: 1,
                    ID: data.rows.item(0).ID,
                });
            }
            else {
                // alert('no')
                items.push({
                    success: 0,
                    ID: 0,
                });
            }
            console.log('le' + data.rows.length);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getUsersFromServer() {
        const url = this.databaseprovider.getURL();
        this.nativeHttp.setDataSerializer("json");
        let nativeCall = this.nativeHttp.post(url, {
            'Name': 'getAllusers',
        }, {
            'Content-Type': 'application/json',
            'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
        });
        Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
            .subscribe(data => {
            console.log('Native data:', data);
            const g = JSON.parse(data.data);
            // alert('respnse = ' + g);
            if (g.success === 1) {
                // alert('success')
                if (typeof g.users !== 'undefined') {
                    console.log('vendors');
                    for (let i = 0; i < 1; i++) {
                        // tslint:disable-next-line: max-line-length
                        const data = [g.users[i].ID, g.users[i].email, g.users[i].name, g.users[i].Active, 1];
                        this.database.executeSql('SELECT * FROM tblvendors', [])
                            .then(data => {
                            console.log('add po');
                        }).then(() => {
                            if (typeof g.users !== 'undefined') {
                                console.log('POS modified');
                                for (let i = 0; i < g.users.length; i++) {
                                    const data = [g.users[i].ID, g.users[i].email, g.users[i].name, g.users[i].Active, 1];
                                    console.log(data);
                                    this.database.executeSql('INSERT INTO  tblUsers (ID,email,name,bActive,Sync) VALUES (?,?,?,?,?)', data)
                                        .then(data => {
                                        console.log('add po modified');
                                    });
                                }
                            }
                        }).then(() => {
                            if (typeof g.acl !== 'undefined') {
                                console.log('POS');
                                for (let i = 0; i < g.acl.length; i++) {
                                    // tslint:disable-next-line: max-line-length
                                    const data = [g.acl[i].ID, g.acl[i].name, g.acl[i].userId, g.acl[i].bValue, 1];
                                    console.log('here7-' + data);
                                    this.database.executeSql('INSERT INTO  tblacl (ID,name,userId,bValue,Sync) VALUES (?,?,?,?,?)', data)
                                        .then(data => {
                                        console.log('add po');
                                    });
                                }
                            }
                        });
                    }
                    return g.users;
                }
                return 1;
            }
            else {
                alert('fail');
                return 0;
            }
            return 1;
        });
        return 1;
    }
    updateChecks(IDS, Sync, Values) {
        // alert('name = ' + IDS[1] + 'iscj = ' + Values[1])
        // for (let i=0; i<IDS.length;i++) {
        // }
        // alert('ID = ' + IDS + 'Sync = ' + Sync + 'Value = ' + Values)
        return this.database.executeSql('UPDATE tblacl Set bValue=?,Sync=? where ID=?', [Values, Sync, IDS]).then((data) => {
            console.log(data);
            return data;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    syncUpdatedAcl() {
        return this.database.executeSql('SELECT * FROM tblacl where Sync=2', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        name: data.rows.item(i).name,
                        bValue: data.rows.item(i).bValue,
                    });
                }
            }
            // alert('active' + items.length)
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updateSyncedAcl(IDs) {
        for (let i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE tblacl Set Sync=1 where ID=?', [IDs[i]]).then((data) => {
                console.log(data);
                return data;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        }
    }
    syncAddedacl() {
        return this.database.executeSql('SELECT * FROM tblacl where Sync=0', []).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        name: data.rows.item(i).name,
                        userId: data.rows.item(i).userId,
                        bValue: data.rows.item(i).bValue,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    updateSyncedacl(IDs) {
        for (let i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  tblacl Set Sync=1 where ID=?', [IDs[i]]).then((data) => {
                console.log(data);
                return data;
            }, err => {
                console.log('Error: ', err);
                return [];
            });
        }
    }
    getAllPagesOfUser(id) {
        return this.database.executeSql('SELECT * FROM tblacl where userId=?', [id]).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        name: data.rows.item(i).name,
                        userId: data.rows.item(i).userId,
                        bValue: data.rows.item(i).bValue,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            // alert('acl = ' + items.length)
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getMenuPages(id, userEmail) {
        let invioces = 0;
        let pos = 0;
        let reports = 0;
        let clients = 0;
        let users = 0;
        let logs = 0;
        let vendors = 0;
        let items1 = 0;
        let expense = 0;
        // if (userEmail === 'adnan@rizwanali.pk') {
        //   users = 1;
        // } 
        if (userEmail.indexOf('@rizwanali.pk') >= 0) {
            users = 1;
            this.databaseprovider.setClients(users);
        }
        return this.database.executeSql('SELECT * FROM tblacl where userId=?', [id]).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        name: data.rows.item(i).name,
                        bValue: data.rows.item(i).bValue,
                    });
                    if (data.rows.item(i).name === 'Client Display') {
                        clients = data.rows.item(i).bValue;
                        // this.databaseprovider.setClients(data.rows.item(i).bValue);
                    }
                    if (data.rows.item(i).name === 'Invoice Display') {
                        invioces = data.rows.item(i).bValue;
                    }
                    if (data.rows.item(i).name === 'PO Display') {
                        pos = data.rows.item(i).bValue;
                    }
                    if (data.rows.item(i).name === 'Item Display') {
                        items1 = data.rows.item(i).bValue;
                        //  this.databaseprovider.setItems(data.rows.item(i).bValue);
                    }
                    if (data.rows.item(i).name === 'Vendor Display') {
                        vendors = data.rows.item(i).bValue;
                    }
                    if (data.rows.item(i).name === 'Log Display') {
                        logs = data.rows.item(i).bValue;
                        this.databaseprovider.setItems(data.rows.item(i).bValue);
                    }
                    if (data.rows.item(i).name === 'Report Display') {
                        reports = data.rows.item(i).bValue;
                    }
                    if (data.rows.item(i).name === 'Expense Display') {
                        expense = data.rows.item(i).bValue;
                    }
                }
            }
            let pages = [
                {
                    title: 'Dashboard',
                    url: '/menu/dashboard',
                    icon: 'clock',
                    bValue: 1
                },
                {
                    title: 'Clients',
                    url: '/menu/clients',
                    icon: 'person-add',
                    bValue: clients
                },
                {
                    title: 'Invoice',
                    url: '/menu/invoice',
                    icon: 'paper',
                    bValue: invioces,
                    childern: [
                        {
                            title: 'Trash',
                            url: '/menu/trash-invoices',
                            icon: 'trash'
                        },
                    ]
                },
                {
                    title: 'Purchased Orders',
                    url: '/menu/purchased-orders',
                    icon: 'cart',
                    bValue: pos,
                    childern: [
                        {
                            title: 'Trash',
                            url: '/menu/trash-purchased-orders',
                            icon: 'trash'
                        },
                    ]
                },
                {
                    title: 'Vendors',
                    url: '/menu/vendors',
                    icon: 'person',
                    bValue: vendors,
                },
                {
                    title: 'Items',
                    url: '/menu/items',
                    icon: 'logo-dropbox',
                    bValue: items1,
                },
                // {
                //   title: 'Users',
                //   url: '/menu/users',
                //   icon: 'person',
                //   bValue: users,
                // },
                // {
                //   title: 'Credit Memos',
                //   url: '/menu/creditmemos',
                //   icon: 'copy',
                //   childern: [
                //     {
                //       title: 'Trash',
                //       url: '/menu/trash-credit-memos',
                //       icon: 'trash'
                //     },
                //   ]
                // },
                {
                    title: 'Expenses',
                    url: '/menu/expenses',
                    icon: 'book',
                    bValue: expense,
                },
                {
                    title: 'Reports',
                    url: '/menu/reports',
                    icon: 'copy',
                    bValue: reports,
                },
                // {
                //   title: 'Reports',
                //   url: '/menu/reports',
                //   icon: 'browsers',
                // },
                {
                    title: 'Logout',
                    // url: '/menu/settings',
                    icon: 'log-out'
                }
            ];
            // let pages = [
            //   {
            //     title: 'Dashboard',
            //     url: '/menu/dashboard',
            //     icon: 'clock',
            //     bValue: 1
            //   },
            //   {
            //     title: 'Vendors',
            //     url: '/menu/vendors',
            //     icon: 'person-add',
            //     bValue: vendors
            //   },
            //   {
            //     title: 'IRFarms Clients',
            //     url: '/menu/clients',
            //     icon: 'person',
            //     bValue: clients
            //   },
            //   {
            //     title: 'Orders',
            //     url: '/menu/invoice',
            //     icon: 'paper',
            //     childern: [
            //       {
            //         title: 'Trash',
            //         url: '/menu/trash-invoices',
            //         icon: 'trash'
            //       },
            //     ],
            //     bValue: orders
            //   },
            //   // {
            //   //   title: 'Users',
            //   //   url: '/menu/users',
            //   //   icon: 'person',
            //   //   bValue: users
            //   // },
            //   {
            //     title: 'System Logs',
            //     url: '/menu/logs',
            //     icon: 'albums',
            //     bValue: logs
            //   },
            //   {
            //     title: 'Expenses/Salaries',
            //     url: '/menu/expenses',
            //     icon: 'book',
            //     bValue: expense
            //   },
            //   {
            //     title: 'Reports',
            //     url: '/menu/reports',
            //     icon: 'copy',
            //     bValue: 1
            //   },
            // ];
            // alert('active' + items.length)
            console.log(items);
            return pages;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getbValue(id, name) {
        return this.database.executeSql('SELECT bValue FROM tblacl where userId=? AND name=?', [id, name]).then((data) => {
            let items = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    items.push({
                        bValue: data.rows.item(i).bValue,
                    });
                }
            }
            // alert('active' + items.length)
            console.log(items);
            return items;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    syncLocalToServer() {
        console.log('local to server');
        this.syncAddedItems().then((data) => {
            if (data.length > 0) {
                const IDs = [];
                for (let i = 0; i < data.length; i++) {
                    IDs[i] = data[i].itemid;
                }
                const url = this.databaseprovider.getURL();
                this.nativeHttp.setDataSerializer("json");
                let nativeCall = this.nativeHttp.post(url, {
                    'Name': 'syncAddedItems',
                    "Items": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                    .subscribe(data => {
                    console.log('Native data:', data);
                    const g = JSON.parse(data.data);
                    if (g.success === 1) {
                        this.updateSyncedItems(IDs).then((data) => {
                        });
                    }
                    else {
                    }
                }, err => {
                    console.log('JS call error-4', err);
                    const error = JSON.parse(err.error);
                    console.log('Native data:', JSON.parse(error));
                });
            }
        });
        this.syncUpdatedItems().then((data) => {
            if (data.length > 0) {
                const IDs = [];
                for (let i = 0; i < data.length; i++) {
                    IDs[i] = data[i].itemid;
                }
                const url = this.databaseprovider.getURL();
                this.nativeHttp.setDataSerializer("json");
                let nativeCall = this.nativeHttp.post(url, {
                    'Name': 'syncUpdatedItems',
                    "Items": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                    .subscribe(data => {
                    console.log('Native data:', data);
                    const g = JSON.parse(data.data);
                    if (g.success === 1) {
                        //alert('success Updated');
                        this.updateSyncedItems(IDs).then((data) => {
                        });
                    }
                    else {
                    }
                }, err => {
                    console.log('JS call error-5', err);
                    const error = JSON.parse(err.error);
                    console.log('Native data:', JSON.parse(error));
                });
            }
        });
        this.syncAddedClients().then((data) => {
            if (data.length > 0) {
                const IDs = [];
                for (let i = 0; i < data.length; i++) {
                    IDs[i] = data[i].Cid;
                }
                const url = this.databaseprovider.getURL();
                this.nativeHttp.setDataSerializer("json");
                let nativeCall = this.nativeHttp.post(url, {
                    'Name': 'syncAddedClients',
                    "Clients": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                    .subscribe(data => {
                    console.log('Native data:', data);
                    const g = JSON.parse(data.data);
                    if (g.success === 1) {
                        this.updateSyncedClients(IDs).then((data) => {
                        });
                    }
                    else {
                    }
                }, err => {
                    console.log('JS call error-6', err);
                    const error = JSON.parse(err.error);
                    console.log('Native data:', JSON.parse(error));
                });
            }
        });
        this.syncUpdatedClients().then((data) => {
            if (data.length > 0) {
                const IDs = [];
                for (let i = 0; i < data.length; i++) {
                    IDs[i] = data[i].Cid;
                }
                const url = this.databaseprovider.getURL();
                this.nativeHttp.setDataSerializer("json");
                let nativeCall = this.nativeHttp.post(url, {
                    'Name': 'syncUpdatedClients',
                    "Clients": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                    .subscribe(data => {
                    console.log('Native data:', data);
                    const g = JSON.parse(data.data);
                    if (g.success === 1) {
                        this.updateSyncedClients(IDs).then((data) => {
                        });
                    }
                    else {
                    }
                }, err => {
                    console.log('JS call error-7', err);
                    const error = JSON.parse(err.error);
                    console.log('Native data:', JSON.parse(error));
                });
            }
        });
        this.syncAddedVendors().then((data) => {
            if (data.length > 0) {
                const IDs = [];
                for (let i = 0; i < data.length; i++) {
                    IDs[i] = data[i].ID;
                }
                const url = this.databaseprovider.getURL();
                this.nativeHttp.setDataSerializer("json");
                let nativeCall = this.nativeHttp.post(url, {
                    'Name': 'syncAddedVendors',
                    "Vendors": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                    .subscribe(data => {
                    console.log('Native data:', data);
                    const g = JSON.parse(data.data);
                    if (g.success === 1) {
                        this.updateSyncedVendors(IDs).then((data) => {
                        });
                    }
                    else {
                    }
                }, err => {
                    console.log('JS call error-8', err);
                    const error = JSON.parse(err.error);
                    console.log('Native data:', JSON.parse(error));
                });
            }
        });
        this.syncUpdatedVendors().then((data) => {
            if (data.length > 0) {
                const IDs = [];
                for (let i = 0; i < data.length; i++) {
                    IDs[i] = data[i].ID;
                }
                const url = this.databaseprovider.getURL();
                this.nativeHttp.setDataSerializer("json");
                let nativeCall = this.nativeHttp.post(url, {
                    'Name': 'syncUpdatedVendors',
                    "Vendors": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                    .subscribe(data => {
                    console.log('Native data:', data);
                    const g = JSON.parse(data.data);
                    if (g.success === 1) {
                        this.updateSyncedVendors(IDs).then((data) => {
                        });
                    }
                    else {
                    }
                }, err => {
                    console.log('JS call error-9', err);
                    const error = JSON.parse(err.error);
                    console.log('Native data:', JSON.parse(error));
                });
            }
        });
        this.syncAddedPOS().then((data) => {
            if (data.length > 0) {
                const IDs = [];
                for (let i = 0; i < data.length; i++) {
                    IDs[i] = data[i].ID;
                }
                const url = this.databaseprovider.getURL();
                ;
                this.nativeHttp.setDataSerializer("json");
                let nativeCall = this.nativeHttp.post(url, {
                    'Name': 'syncAddedPOs',
                    "POS": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                    .subscribe(data => {
                    console.log('Native data:', data);
                    const g = JSON.parse(data.data);
                    if (g.success === 1) {
                        this.updateSyncedPOS(IDs).then((data) => {
                        });
                        this.syncAddedPOsItems().then((data) => {
                            if (data.length > 0) {
                                const IDs = [];
                                for (let i = 0; i < data.length; i++) {
                                    IDs[i] = data[i].ID;
                                }
                                const url = this.databaseprovider.getURL();
                                this.nativeHttp.setDataSerializer("json");
                                let nativeCall = this.nativeHttp.post(url, {
                                    'Name': 'syncAddedPOsItems',
                                    "POSItems": data
                                }, {
                                    'Content-Type': 'application/json',
                                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                });
                                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                                    .subscribe(data => {
                                    console.log('Native data:', data);
                                    const g = JSON.parse(data.data);
                                    if (g.success === 1) {
                                        this.updateSyncedPOSItems(IDs).then((data) => {
                                        });
                                        this.syncAddedLedgerVendor().then((data) => {
                                            if (data.length > 0) {
                                                const IDs = [];
                                                for (let i = 0; i < data.length; i++) {
                                                    IDs[i] = data[i].ID;
                                                }
                                                const url = this.databaseprovider.getURL();
                                                ;
                                                this.nativeHttp.setDataSerializer("json");
                                                let nativeCall = this.nativeHttp.post(url, {
                                                    'Name': 'syncAddedLedgerVendor',
                                                    "Payments": data
                                                }, {
                                                    'Content-Type': 'application/json',
                                                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                                });
                                                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                                                    .subscribe(data => {
                                                    console.log('Native data:', data);
                                                    const g = JSON.parse(data.data);
                                                    if (g.success === 1) {
                                                        this.updateSyncedAddedLedgerVendors(IDs).then((data) => {
                                                        });
                                                    }
                                                    else {
                                                    }
                                                }, err => {
                                                    console.log('JS call error-10', err);
                                                    const error = JSON.parse(err.error);
                                                    console.log('Native data:', JSON.parse(error));
                                                });
                                            }
                                        });
                                    }
                                    else {
                                    }
                                }, err => {
                                    console.log('JS call error-11', err);
                                    const error = JSON.parse(err.error);
                                    console.log('Native data:', JSON.parse(error));
                                });
                            }
                        });
                    }
                    else {
                    }
                }, err => {
                    console.log('JS call error-12', err);
                    const error = JSON.parse(err.error);
                    console.log('Native data:', JSON.parse(error));
                });
            }
        }).then((a) => {
            this.syncAddedInvoices().then((data) => {
                if (data.length > 0) {
                    const IDs = [];
                    for (let i = 0; i < data.length; i++) {
                        IDs[i] = data[i].Iid;
                    }
                    const url = this.databaseprovider.getURL();
                    ;
                    this.nativeHttp.setDataSerializer("json");
                    let nativeCall = this.nativeHttp.post(url, {
                        'Name': 'syncAddedInvoices',
                        "Invoices": data
                    }, {
                        'Content-Type': 'application/json',
                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                    });
                    Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                        .subscribe(data => {
                        console.log('Native data:', data);
                        const g = JSON.parse(data.data);
                        if (g.success === 1) {
                            this.updateSyncedInvoices(IDs).then((data) => {
                            });
                            this.syncAddedInvoicesItems().then((data) => {
                                if (data.length > 0) {
                                    const IDs = [];
                                    for (let i = 0; i < data.length; i++) {
                                        IDs[i] = data[i].Iiid;
                                    }
                                    const url = this.databaseprovider.getURL();
                                    ;
                                    this.nativeHttp.setDataSerializer("json");
                                    let nativeCall = this.nativeHttp.post(url, {
                                        'Name': 'syncAddedInvoicesItems',
                                        "InvoiceItems": data
                                    }, {
                                        'Content-Type': 'application/json',
                                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                    });
                                    Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                                        .subscribe(data => {
                                        console.log('Native data:', data);
                                        const g = JSON.parse(data.data);
                                        if (g.success === 1) {
                                            this.updateSyncedInvoicesItems(IDs).then((data) => {
                                            });
                                            this.syncAddedLedger().then((data) => {
                                                if (data.length > 0) {
                                                    const IDs = [];
                                                    for (let i = 0; i < data.length; i++) {
                                                        IDs[i] = data[i].ID;
                                                    }
                                                    const url = this.databaseprovider.getURL();
                                                    ;
                                                    this.nativeHttp.setDataSerializer("json");
                                                    let nativeCall = this.nativeHttp.post(url, {
                                                        'Name': 'syncAddedLedger',
                                                        "Payments": data
                                                    }, {
                                                        'Content-Type': 'application/json',
                                                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                                    });
                                                    Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                                                        .subscribe(data => {
                                                        console.log('Native data:', data);
                                                        const g = JSON.parse(data.data);
                                                        if (g.success === 1) {
                                                            this.updateSyncedAddedLedger(IDs).then((data) => {
                                                            });
                                                        }
                                                        else {
                                                        }
                                                    }, err => {
                                                        console.log('JS call error-13', err);
                                                        const error = JSON.parse(err.error);
                                                        console.log('Native data:', JSON.parse(error));
                                                    });
                                                }
                                            });
                                        }
                                        else {
                                        }
                                    }, err => {
                                        console.log('JS call error-14', err);
                                        const error = JSON.parse(err.error);
                                        console.log('Native data:', JSON.parse(error));
                                    });
                                }
                            });
                        }
                        else {
                        }
                    }, err => {
                        console.log('JS call error-15', err);
                        const error = JSON.parse(err.error);
                        console.log('Native data:', JSON.parse(error));
                    });
                }
            });
        });
        this.syncAddedLog().then((data8) => {
        }).then((data11) => {
            this.syncAddedUsers().then((data) => {
                if (data.length > 0) {
                    const IDs = [];
                    for (let i = 0; i < data.length; i++) {
                        IDs[i] = data[i].itemid;
                    }
                    const url = this.databaseprovider.getURL();
                    ;
                    this.nativeHttp.setDataSerializer("json");
                    let nativeCall = this.nativeHttp.post(url, {
                        'Name': 'syncAddedUsers',
                        "Items": data
                    }, {
                        'Content-Type': 'application/json',
                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                    });
                    Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                        .subscribe(data => {
                        console.log('Native data:', data);
                        const g = JSON.parse(data.data);
                        if (g.success === 1) {
                            // alert('success');
                            this.updateSyncedUsers(IDs).then((data) => {
                            });
                            this.syncAddedacl().then((data) => {
                                if (data.length > 0) {
                                    const IDs = [];
                                    for (let i = 0; i < data.length; i++) {
                                        IDs[i] = data[i].ID;
                                    }
                                    const url = this.databaseprovider.getURL();
                                    ;
                                    this.nativeHttp.setDataSerializer("json");
                                    let nativeCall = this.nativeHttp.post(url, {
                                        'Name': 'syncAddedacl',
                                        "Items": data
                                    }, {
                                        'Content-Type': 'application/json',
                                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                    });
                                    Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                                        .subscribe(data => {
                                        console.log('Native data:', data);
                                        const g = JSON.parse(data.data);
                                        if (g.success === 1) {
                                            // alert('success');
                                            this.updateSyncedacl(IDs).then((data) => {
                                            });
                                        }
                                        else {
                                            // alert('failed');
                                        }
                                        // this.initializeItems();
                                    }, err => {
                                        console.log('JS call error-16', err);
                                        const error = JSON.parse(err.error);
                                        // alert(error.message);
                                        console.log('Native data:', JSON.parse(error));
                                    });
                                }
                            });
                        }
                        else {
                            // alert('failed');
                        }
                        // this.initializeItems();
                    }, err => {
                        console.log('JS call error-17', err);
                        const error = JSON.parse(err.error);
                        // alert(error.message);
                        console.log('Native data:', JSON.parse(error));
                    });
                }
            });
        }).then(() => {
            this.syncUpdatedAcl().then((data) => {
                if (data.length > 0) {
                    const IDs = [];
                    for (let i = 0; i < data.length; i++) {
                        IDs[i] = data[i].ID;
                    }
                    const url = this.databaseprovider.getURL();
                    if (data.length > 0) {
                        ;
                        this.nativeHttp.setDataSerializer("json");
                        let nativeCall = this.nativeHttp.post(url, {
                            'Name': 'syncUpdatedAcl',
                            "Items": data
                        }, {
                            'Content-Type': 'application/json',
                            'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                        });
                        Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                            .subscribe(data => {
                            console.log('Native data:', data);
                            const g = JSON.parse(data.data);
                            if (g.success === 1) {
                                //  alert('success');
                                this.updateSyncedAcl(IDs).then((data) => {
                                });
                            }
                            else {
                                // alert('failed');
                            }
                            // this.initializeItems();
                        }, err => {
                            console.log('JS call error-18', err);
                            const error = JSON.parse(err.error);
                            //alert(error.message);
                            console.log('Native data:', JSON.parse(error));
                        });
                    }
                }
            });
        }).then(() => {
            this.syncUpdatedUsers().then((data) => {
                if (data.length > 0) {
                    const IDs = [];
                    for (let i = 0; i < data.length; i++) {
                        IDs[i] = data[i].itemid;
                    }
                    const url = this.databaseprovider.getURL();
                    ;
                    this.nativeHttp.setDataSerializer("json");
                    let nativeCall = this.nativeHttp.post(url, {
                        'Name': 'syncUpdatedUsers',
                        "Items": data
                    }, {
                        'Content-Type': 'application/json',
                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                    });
                    Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                        .subscribe(data => {
                        console.log('Native data:', data);
                        const g = JSON.parse(data.data);
                        if (g.success === 1) {
                            //alert('success Updated');
                            this.updateSyncedUsers(IDs).then((data) => {
                            });
                        }
                        else {
                            //  alert('failed');
                        }
                        // this.initializeItems();
                    }, err => {
                        console.log('JS call error-19', err);
                        const error = JSON.parse(err.error);
                        // alert(error.message);
                        console.log('Native data:', JSON.parse(error));
                    });
                }
            });
        }).then((data9) => {
            this.syncUpdatedExpenses().then((data) => {
                if (data.length > 0) {
                    const IDs = [];
                    for (let i = 0; i < data.length; i++) {
                        IDs[i] = data[i].ID;
                    }
                    const url = this.databaseprovider.getURL();
                    this.nativeHttp.setDataSerializer("json");
                    let nativeCall = this.nativeHttp.post(url, {
                        'Name': 'syncDeletedExpenses',
                        "Expenses": data
                    }, {
                        'Content-Type': 'application/json',
                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                    });
                    Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                        .subscribe(data => {
                        console.log('Native data:', data);
                        const g = JSON.parse(data.data);
                        if (g.success === 1) {
                            this.updateSyncedExpenses(IDs);
                        }
                        else {
                        }
                    }, err => {
                        console.log('JS call error-20', err);
                        const error = JSON.parse(err.error);
                        console.log('Native data:', JSON.parse(error));
                    });
                }
            });
        }).then(() => {
            this.syncAddedExpenses().then((data) => {
                if (data.length > 0) {
                    const IDs = [];
                    for (let i = 0; i < data.length; i++) {
                        IDs[i] = data[i].ID;
                    }
                    const url = this.databaseprovider.getURL();
                    this.nativeHttp.setDataSerializer("json");
                    let nativeCall = this.nativeHttp.post(url, {
                        'Name': 'syncAddedExpenses',
                        "Expenses": data
                    }, {
                        'Content-Type': 'application/json',
                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                    });
                    Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
                        .subscribe(data => {
                        console.log('Native data:', data);
                        const g = JSON.parse(data.data);
                        if (g.success === 1) {
                            this.updateSyncedExpenses(IDs);
                        }
                        else {
                        }
                    }, err => {
                        console.log('JS call error-21', err);
                        const error = JSON.parse(err.error);
                        // alert(error.message);
                        console.log('Native data:', JSON.parse(error));
                    });
                }
            });
        });
    }
    getAllCategories() {
        return this.database.executeSql('SELECT * FROM categories where active=1 ORDER BY catid DESC', []).then((data) => {
            let logs = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    logs.push({
                        catid: data.rows.item(i).catid,
                        name: data.rows.item(i).name,
                        active: data.rows.item(i).active,
                    });
                }
            }
            console.log(logs);
            return logs;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    getAllSlides() {
        return this.database.executeSql('SELECT * FROM tblslides where bActive=1 ORDER BY slideNo ASC', []).then((data) => {
            let logs = [];
            if (data.rows.length > 0) {
                for (let i = 0; i < data.rows.length; i++) {
                    logs.push({
                        Id: data.rows.item(i).Id,
                        slideNo: data.rows.item(i).slideNo,
                        slideHeading: data.rows.item(i).slideHeading,
                        slideText: data.rows.item(i).slideText,
                        slideImage: data.rows.item(i).slideImage,
                        bActive: data.rows.item(i).bActive,
                    });
                    //  alert('image = ' + data.rows.item(i).slideImage);
                }
            }
            console.log(logs);
            return logs;
        }, err => {
            console.log('Error: ', err);
            return [];
        });
    }
    syncSlides() {
        const url = this.databaseprovider.getURL();
        this.nativeHttp.setDataSerializer("json");
        // alert('a')
        let nativeCall = this.nativeHttp.post(url, {
            'Name': 'getAllSlides',
        }, {
            'Content-Type': 'application/json',
            'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
        });
        Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(() => { }))
            .subscribe(data => {
            console.log('Native data:', data);
            const g = JSON.parse(data.data);
            if (g.success === 1) {
                if (g.success === 1) {
                    console.log('vendors');
                    for (let i = 0; i < 1; i++) {
                        // tslint:disable-next-line: max-line-length
                        this.database.executeSql('SELECT * FROM tblvendors', [])
                            .then(data => {
                            console.log('add po');
                        }).then(() => {
                            if (typeof g.slides !== 'undefined') {
                                console.log('POS');
                                for (let i = 0; i < g.slides.length; i++) {
                                    // tslint:disable-next-line: max-line-length
                                    const data = [g.slides[i].Id, g.slides[i].slideNo, g.slides[i].slideHeading, g.slides[i].slideText, g.slides[i].slideImage, g.slides[i].bActive];
                                    this.database.executeSql('INSERT INTO tblslides (Id,slideNo,slideHeading,slideText,slideImage,bActive) VALUES (?,?,?,?,?,?)', data)
                                        .then(data => {
                                        console.log('add po');
                                    });
                                }
                            }
                        }).then(() => {
                            this.router.navigate(['slides']);
                        });
                    }
                    return g.users;
                }
                return 1;
            }
            else {
                alert('fail');
                return 0;
            }
            return 1;
        });
    }
};
SyncService.ctorParameters = () => [
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["Platform"] },
    { type: _ionic_native_sqlite_porter_ngx__WEBPACK_IMPORTED_MODULE_2__["SQLitePorter"] },
    { type: _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_4__["SQLite"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"] },
    { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_8__["Storage"] },
    { type: _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_10__["Network"] },
    { type: _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_11__["HTTP"] },
    { type: src_app_services_database_service__WEBPACK_IMPORTED_MODULE_13__["DatabaseService"] },
    { type: _angular_common__WEBPACK_IMPORTED_MODULE_9__["DatePipe"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["LoadingController"] }
];
SyncService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_6__["Platform"],
        _ionic_native_sqlite_porter_ngx__WEBPACK_IMPORTED_MODULE_2__["SQLitePorter"],
        _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_4__["SQLite"],
        _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"],
        _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"],
        _ionic_storage__WEBPACK_IMPORTED_MODULE_8__["Storage"],
        _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_10__["Network"],
        _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_11__["HTTP"],
        src_app_services_database_service__WEBPACK_IMPORTED_MODULE_13__["DatabaseService"],
        _angular_common__WEBPACK_IMPORTED_MODULE_9__["DatePipe"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["LoadingController"]])
], SyncService);



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
const environment = {
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm2015/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(err => console.log(err));


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! C:\wamp64\www\invoice.pk\src\main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main-es2015.js.map