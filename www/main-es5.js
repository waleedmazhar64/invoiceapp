(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./$$_lazy_route_resource lazy recursive":
/*!******************************************************!*\
  !*** ./$$_lazy_route_resource lazy namespace object ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"../additem-expenses/additem-expenses.module": [
		"./src/app/pages/additem-expenses/additem-expenses.module.ts",
		"additem-expenses-additem-expenses-module"
	],
	"../additem-items/additem-items.module": [
		"./src/app/pages/additem-items/additem-items.module.ts",
		"additem-items-additem-items-module"
	],
	"../additem-time/additem-time.module": [
		"./src/app/pages/additem-time/additem-time.module.ts",
		"additem-time-additem-time-module"
	],
	"../clients/clients.module": [
		"./src/app/pages/clients/clients.module.ts",
		"default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755",
		"common",
		"clients-clients-module"
	],
	"../credit-memos/credit-memos.module": [
		"./src/app/pages/credit-memos/credit-memos.module.ts",
		"credit-memos-credit-memos-module"
	],
	"../dashboard/dashboard.module": [
		"./src/app/pages/dashboard/dashboard.module.ts",
		"dashboard-dashboard-module"
	],
	"../expenses/expenses.module": [
		"./src/app/pages/expenses/expenses.module.ts",
		"common",
		"expenses-expenses-module"
	],
	"../invoice/invoice.module": [
		"./src/app/pages/invoice/invoice.module.ts",
		"default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755",
		"default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1",
		"common",
		"invoice-invoice-module"
	],
	"../items/items.module": [
		"./src/app/pages/items/items.module.ts",
		"items-items-module"
	],
	"../purchased-orders/purchased-orders.module": [
		"./src/app/pages/purchased-orders/purchased-orders.module.ts",
		"default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755",
		"default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1",
		"common",
		"purchased-orders-purchased-orders-module"
	],
	"../reports/reports.module": [
		"./src/app/pages/reports/reports.module.ts",
		"reports-reports-module"
	],
	"../settings/settings.module": [
		"./src/app/pages/settings/settings.module.ts",
		"settings-settings-module"
	],
	"../trash-credit-memos/trash-credit-memos.module": [
		"./src/app/pages/trash-credit-memos/trash-credit-memos.module.ts",
		"trash-credit-memos-trash-credit-memos-module"
	],
	"../trash-invoices/trash-invoices.module": [
		"./src/app/pages/trash-invoices/trash-invoices.module.ts",
		"default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755",
		"default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1",
		"trash-invoices-trash-invoices-module"
	],
	"../trash-purchased-orders/trash-purchased-orders.module": [
		"./src/app/pages/trash-purchased-orders/trash-purchased-orders.module.ts",
		"default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755",
		"default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1",
		"common",
		"trash-purchased-orders-trash-purchased-orders-module"
	],
	"../vendors/vendors.module": [
		"./src/app/pages/vendors/vendors.module.ts",
		"common",
		"vendors-vendors-module"
	],
	"./pages/add-client-clients/add-client-clients.module": [
		"./src/app/pages/add-client-clients/add-client-clients.module.ts",
		"common",
		"pages-add-client-clients-add-client-clients-module"
	],
	"./pages/add-client/add-client.module": [
		"./src/app/pages/add-client/add-client.module.ts",
		"default~pages-add-client-add-client-module~pages-client-client-module~pages-menu-addclient-menu-addc~2a6f6930",
		"pages-add-client-add-client-module"
	],
	"./pages/add-item/add-item.module": [
		"./src/app/pages/add-item/add-item.module.ts",
		"pages-add-item-add-item-module"
	],
	"./pages/addcreditmemos/addcreditmemos.module": [
		"./src/app/pages/addcreditmemos/addcreditmemos.module.ts",
		"pages-addcreditmemos-addcreditmemos-module"
	],
	"./pages/addinvoice/addinvoice.module": [
		"./src/app/pages/addinvoice/addinvoice.module.ts",
		"common",
		"pages-addinvoice-addinvoice-module"
	],
	"./pages/additem/additem.module": [
		"./src/app/pages/additem/additem.module.ts",
		"pages-additem-additem-module"
	],
	"./pages/addpurchasedorder/addpurchasedorder.module": [
		"./src/app/pages/addpurchasedorder/addpurchasedorder.module.ts",
		"pages-addpurchasedorder-addpurchasedorder-module"
	],
	"./pages/client/client.module": [
		"./src/app/pages/client/client.module.ts",
		"default~pages-add-client-add-client-module~pages-client-client-module~pages-menu-addclient-menu-addc~2a6f6930",
		"pages-client-client-module"
	],
	"./pages/comment/comment.module": [
		"./src/app/pages/comment/comment.module.ts",
		"pages-comment-comment-module"
	],
	"./pages/credit-memo-info/credit-memo-info.module": [
		"./src/app/pages/credit-memo-info/credit-memo-info.module.ts",
		"common",
		"pages-credit-memo-info-credit-memo-info-module"
	],
	"./pages/dashboard-invoices/dashboard-invoices.module": [
		"./src/app/pages/dashboard-invoices/dashboard-invoices.module.ts",
		"default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755",
		"default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1",
		"pages-dashboard-invoices-dashboard-invoices-module"
	],
	"./pages/dashboard/dashboard.module": [
		"./src/app/pages/dashboard/dashboard.module.ts",
		"dashboard-dashboard-module"
	],
	"./pages/edit-item/edit-item.module": [
		"./src/app/pages/edit-item/edit-item.module.ts",
		"pages-edit-item-edit-item-module"
	],
	"./pages/expenses/editexpense/editexpense.module": [
		"./src/app/pages/expenses/editexpense/editexpense.module.ts",
		"common",
		"pages-expenses-editexpense-editexpense-module"
	],
	"./pages/invoice-info/invoice-info.module": [
		"./src/app/pages/invoice-info/invoice-info.module.ts",
		"common",
		"pages-invoice-info-invoice-info-module"
	],
	"./pages/invoicedetails/invoicedetails.module": [
		"./src/app/pages/invoicedetails/invoicedetails.module.ts",
		"default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755",
		"default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1",
		"common",
		"pages-invoicedetails-invoicedetails-module"
	],
	"./pages/itemamount/itemamount.module": [
		"./src/app/pages/itemamount/itemamount.module.ts",
		"pages-itemamount-itemamount-module"
	],
	"./pages/landing/landing.module": [
		"./src/app/pages/landing/landing.module.ts",
		"pages-landing-landing-module"
	],
	"./pages/login/login.module": [
		"./src/app/pages/login/login.module.ts",
		"pages-login-login-module"
	],
	"./pages/menu-addclient/menu-addclient.module": [
		"./src/app/pages/menu-addclient/menu-addclient.module.ts",
		"default~pages-add-client-add-client-module~pages-client-client-module~pages-menu-addclient-menu-addc~2a6f6930",
		"pages-menu-addclient-menu-addclient-module"
	],
	"./pages/menu-additem/menu-additem.module": [
		"./src/app/pages/menu-additem/menu-additem.module.ts",
		"default~pages-add-client-add-client-module~pages-client-client-module~pages-menu-addclient-menu-addc~2a6f6930",
		"pages-menu-additem-menu-additem-module"
	],
	"./pages/menu-clientdetails/menu-clientdetails.module": [
		"./src/app/pages/menu-clientdetails/menu-clientdetails.module.ts",
		"common",
		"pages-menu-clientdetails-menu-clientdetails-module"
	],
	"./pages/menu-editclient/menu-editclient.module": [
		"./src/app/pages/menu-editclient/menu-editclient.module.ts",
		"default~pages-add-client-add-client-module~pages-client-client-module~pages-menu-addclient-menu-addc~2a6f6930",
		"pages-menu-editclient-menu-editclient-module"
	],
	"./pages/menu-edititem/menu-edititem.module": [
		"./src/app/pages/menu-edititem/menu-edititem.module.ts",
		"default~pages-add-client-add-client-module~pages-client-client-module~pages-menu-addclient-menu-addc~2a6f6930",
		"pages-menu-edititem-menu-edititem-module"
	],
	"./pages/menu-itemdetails/menu-itemdetails.module": [
		"./src/app/pages/menu-itemdetails/menu-itemdetails.module.ts",
		"pages-menu-itemdetails-menu-itemdetails-module"
	],
	"./pages/menu/menu.module": [
		"./src/app/pages/menu/menu.module.ts",
		"pages-menu-menu-module"
	],
	"./pages/new-expense/new-expense.module": [
		"./src/app/pages/new-expense/new-expense.module.ts",
		"common",
		"pages-new-expense-new-expense-module"
	],
	"./pages/notifications/notifications.module": [
		"./src/app/pages/notifications/notifications.module.ts",
		"pages-notifications-notifications-module"
	],
	"./pages/payment-info/payment-info.module": [
		"./src/app/pages/payment-info/payment-info.module.ts",
		"default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf",
		"common",
		"pages-payment-info-payment-info-module"
	],
	"./pages/purchase-order-info/purchase-order-info.module": [
		"./src/app/pages/purchase-order-info/purchase-order-info.module.ts",
		"common",
		"pages-purchase-order-info-purchase-order-info-module"
	],
	"./pages/purchased-orders/podetails/podetails.module": [
		"./src/app/pages/purchased-orders/podetails/podetails.module.ts",
		"default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755",
		"common",
		"pages-purchased-orders-podetails-podetails-module"
	],
	"./pages/settings/defaultcomment/defaultcomment.module": [
		"./src/app/pages/settings/defaultcomment/defaultcomment.module.ts",
		"pages-settings-defaultcomment-defaultcomment-module"
	],
	"./pages/vendors/add/add.module": [
		"./src/app/pages/vendors/add/add.module.ts",
		"default~pages-add-client-add-client-module~pages-client-client-module~pages-menu-addclient-menu-addc~2a6f6930",
		"pages-vendors-add-add-module"
	],
	"./pages/vendors/vendor-edit/vendor-edit.module": [
		"./src/app/pages/vendors/vendor-edit/vendor-edit.module.ts",
		"default~pages-add-client-add-client-module~pages-client-client-module~pages-menu-addclient-menu-addc~2a6f6930",
		"pages-vendors-vendor-edit-vendor-edit-module"
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./$$_lazy_route_resource lazy recursive";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm-es5 lazy ^\.\/.*\.entry\.js$ include: \.entry\.js$ exclude: \.system\.entry\.js$ namespace object ***!
  \*********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./ion-action-sheet-controller_8.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-controller_8.entry.js",
		"common",
		2
	],
	"./ion-action-sheet-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-ios.entry.js",
		"common",
		3
	],
	"./ion-action-sheet-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-md.entry.js",
		"common",
		4
	],
	"./ion-alert-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-alert-ios.entry.js",
		"common",
		5
	],
	"./ion-alert-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-alert-md.entry.js",
		"common",
		6
	],
	"./ion-app_8-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-app_8-ios.entry.js",
		0,
		"common",
		7
	],
	"./ion-app_8-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-app_8-md.entry.js",
		0,
		"common",
		8
	],
	"./ion-avatar_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-ios.entry.js",
		"common",
		9
	],
	"./ion-avatar_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-md.entry.js",
		"common",
		10
	],
	"./ion-back-button-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-back-button-ios.entry.js",
		"common",
		11
	],
	"./ion-back-button-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-back-button-md.entry.js",
		"common",
		12
	],
	"./ion-backdrop-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-backdrop-ios.entry.js",
		13
	],
	"./ion-backdrop-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-backdrop-md.entry.js",
		14
	],
	"./ion-button_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-button_2-ios.entry.js",
		"common",
		15
	],
	"./ion-button_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-button_2-md.entry.js",
		"common",
		16
	],
	"./ion-card_5-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-card_5-ios.entry.js",
		"common",
		17
	],
	"./ion-card_5-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-card_5-md.entry.js",
		"common",
		18
	],
	"./ion-checkbox-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-checkbox-ios.entry.js",
		"common",
		19
	],
	"./ion-checkbox-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-checkbox-md.entry.js",
		"common",
		20
	],
	"./ion-chip-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-chip-ios.entry.js",
		"common",
		21
	],
	"./ion-chip-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-chip-md.entry.js",
		"common",
		22
	],
	"./ion-col_3.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-col_3.entry.js",
		23
	],
	"./ion-datetime_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-ios.entry.js",
		"common",
		24
	],
	"./ion-datetime_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-md.entry.js",
		"common",
		25
	],
	"./ion-fab_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-fab_3-ios.entry.js",
		"common",
		26
	],
	"./ion-fab_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-fab_3-md.entry.js",
		"common",
		27
	],
	"./ion-img.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-img.entry.js",
		28
	],
	"./ion-infinite-scroll_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-ios.entry.js",
		"common",
		29
	],
	"./ion-infinite-scroll_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-md.entry.js",
		"common",
		30
	],
	"./ion-input-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-input-ios.entry.js",
		"common",
		31
	],
	"./ion-input-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-input-md.entry.js",
		"common",
		32
	],
	"./ion-item-option_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-ios.entry.js",
		"common",
		33
	],
	"./ion-item-option_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-md.entry.js",
		"common",
		34
	],
	"./ion-item_8-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item_8-ios.entry.js",
		"common",
		35
	],
	"./ion-item_8-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item_8-md.entry.js",
		"common",
		36
	],
	"./ion-loading-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-loading-ios.entry.js",
		"common",
		37
	],
	"./ion-loading-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-loading-md.entry.js",
		"common",
		38
	],
	"./ion-menu_4-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-menu_4-ios.entry.js",
		"common",
		39
	],
	"./ion-menu_4-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-menu_4-md.entry.js",
		"common",
		40
	],
	"./ion-modal-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-modal-ios.entry.js",
		0,
		"common",
		41
	],
	"./ion-modal-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-modal-md.entry.js",
		0,
		"common",
		42
	],
	"./ion-nav_5.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-nav_5.entry.js",
		0,
		"common",
		43
	],
	"./ion-popover-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-popover-ios.entry.js",
		0,
		"common",
		44
	],
	"./ion-popover-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-popover-md.entry.js",
		0,
		"common",
		45
	],
	"./ion-progress-bar-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-ios.entry.js",
		"common",
		46
	],
	"./ion-progress-bar-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-md.entry.js",
		"common",
		47
	],
	"./ion-radio_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-radio_2-ios.entry.js",
		"common",
		48
	],
	"./ion-radio_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-radio_2-md.entry.js",
		"common",
		49
	],
	"./ion-range-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-range-ios.entry.js",
		"common",
		50
	],
	"./ion-range-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-range-md.entry.js",
		"common",
		51
	],
	"./ion-refresher_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-ios.entry.js",
		"common",
		52
	],
	"./ion-refresher_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-md.entry.js",
		"common",
		53
	],
	"./ion-reorder_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-ios.entry.js",
		"common",
		54
	],
	"./ion-reorder_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-md.entry.js",
		"common",
		55
	],
	"./ion-ripple-effect.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-ripple-effect.entry.js",
		56
	],
	"./ion-route_4.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-route_4.entry.js",
		"common",
		57
	],
	"./ion-searchbar-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-searchbar-ios.entry.js",
		"common",
		58
	],
	"./ion-searchbar-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-searchbar-md.entry.js",
		"common",
		59
	],
	"./ion-segment_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-segment_2-ios.entry.js",
		"common",
		60
	],
	"./ion-segment_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-segment_2-md.entry.js",
		"common",
		61
	],
	"./ion-select_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-select_3-ios.entry.js",
		"common",
		62
	],
	"./ion-select_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-select_3-md.entry.js",
		"common",
		63
	],
	"./ion-slide_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-slide_2-ios.entry.js",
		64
	],
	"./ion-slide_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-slide_2-md.entry.js",
		65
	],
	"./ion-spinner.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-spinner.entry.js",
		"common",
		66
	],
	"./ion-split-pane-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-split-pane-ios.entry.js",
		67
	],
	"./ion-split-pane-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-split-pane-md.entry.js",
		68
	],
	"./ion-tab-bar_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-ios.entry.js",
		"common",
		69
	],
	"./ion-tab-bar_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-md.entry.js",
		"common",
		70
	],
	"./ion-tab_2.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab_2.entry.js",
		1
	],
	"./ion-text.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-text.entry.js",
		"common",
		71
	],
	"./ion-textarea-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-textarea-ios.entry.js",
		"common",
		72
	],
	"./ion-textarea-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-textarea-md.entry.js",
		"common",
		73
	],
	"./ion-toast-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toast-ios.entry.js",
		"common",
		74
	],
	"./ion-toast-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toast-md.entry.js",
		"common",
		75
	],
	"./ion-toggle-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toggle-ios.entry.js",
		"common",
		76
	],
	"./ion-toggle-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toggle-md.entry.js",
		"common",
		77
	],
	"./ion-virtual-scroll.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-virtual-scroll.entry.js",
		78
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-SG": "./node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "./node_modules/moment/locale/en-SG.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/app.component.html":
/*!**************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/app.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-app>\n  <ion-router-outlet></ion-router-outlet>\n</ion-app>\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/pages/addpurchasedorder/addpurchasedorder.page.html":
/*!***********************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/pages/addpurchasedorder/addpurchasedorder.page.html ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n    <ion-toolbar color=\"primary\">\n      <div style=\"width: 100%;\">\n        <ion-toolbar color=\"primary\">\n          <ion-label padding slot=\"start\" (click)=\"back()\">Close</ion-label>\n         \n          <!-- <ion-icon padding  name=\"close\" (click)=\"back()\"></ion-icon> -->\n          <!-- <ion-icon padding  slot=\"end\" name=\"share-alt\" (click)=\"share()\"></ion-icon> -->\n          <ion-label padding slot=\"end\" (click)=\"share()\">Save</ion-label>\n        </ion-toolbar>\n      </div>\n      <ion-grid>\n        <ion-row>\n          <ion-col>\n              <div>\n                  <span style=\"float:right;padding-right: 5px; font-size: 150%;\">Purchase Order(s)</span>\n              </div>\n          </ion-col>\n        </ion-row>\n        \n      </ion-grid>\n    \n      <div>\n        <ion-grid >\n          <ion-row>\n            <ion-col>\n              <ion-label item-start style=\"float:left;padding-left: 5px;\"> Dated: {{order.created}}</ion-label>\n            </ion-col>\n            <ion-col>\n              <ion-select style=\"text-align:right;padding-right: 5px;\" placeholder=\"Select Vendor\" appNoArrow no-padding item-start lines=\"none\" interface=\"popover\" name=\"category\" (ionChange)=\"onChange(selectcategory)\"  [selectedText]=\"selectcategory1\" [(ngModel)]=\"selectcategory\"  >\n                <ion-select-option style=\"text-align:right;padding-right: 5px;\" *ngFor=\"let code of raio\" [value]=\"code.value\">\n                 <span style=\"text-align:right;padding-right: 5px;\">{{code.label}}</span>\n                </ion-select-option>\n                </ion-select>        \n            </ion-col>\n           \n          </ion-row>\n        </ion-grid>\n      </div>\n      \n        <!-- <div>\n            <p  style=\"text-align:left;padding-left: 5px;\">\n              Dated: {{order.created}}\n                <span (click)=\"openAlert()\" style=\"float:right;padding-right: 5px;\">\n                    {{ client}}\n                </span>\n               \n            </p>\n            <p  style=\"text-align:left;padding-left: 5px;\">\n               \n                <span  style=\"float:right;padding-right: 5px;\">\n                    {{order.name}}\n                </span>\n            </p>\n           \n        </div> -->\n      \n      </ion-toolbar>\n     \n  \n  </ion-header>\n  \n  <ion-content>\n      <ion-list>\n       \n          <!-- <ion-item (click)=\"openAlert()\">            \n              <ion-avatar slot=\"start\" >\n                  <img src=\"assets/plus.png\">\n                  \n              </ion-avatar>\n              <ion-label>\n                <h2 text-capitalize>{{ client }}</h2>\n              </ion-label>\n             \n          </ion-item>  -->\n          <ion-item (click)=\"addItem()\" *ngIf=\"tempActiveItems.length === 0\">            \n              <ion-avatar slot=\"start\" >\n                  <img src=\"assets/plus.png\">\n                  \n              </ion-avatar>\n              <ion-label>\n                <h2 text-capitalize>Item</h2>\n              </ion-label>\n          </ion-item> \n         \n          <ion-item >\n              <ion-grid>\n                  <ion-row>\n                    <ion-col size=\"2\">\n                      <ion-item no-padding lines=\"none\" style=\"text-align: right;\">\n                          <p class=\"my-label1\"  style=\"font-weight: bold;\"> Qty\n                          </p>\n                      </ion-item>\n                    </ion-col>\n                    <ion-col size=\"6\">\n                      <ion-item lines=\"none\" style=\"text-align: left;\">\n                        <p class=\"my-label1\"  style=\"font-weight: bold;\"> Item(s)\n                        </p>\n                      </ion-item>\n                    </ion-col>\n                    <!-- <ion-col size=\"3\">\n                      <ion-item lines=\"none\" style=\"text-align: right;\">\n                        <p class=\"my-label1\"  style=\"font-weight: bold;\"> Price(PKR)\n                        </p>\n                      </ion-item>\n                    </ion-col> -->\n                    <ion-col size=\"4\">\n                      <ion-item lines=\"none\"style=\"text-align: right;\">\n                          <p class=\"my-label1\"  style=\"font-weight: bold;\">Total</p>\n                          <p class=\"my-label3\"  style=\"font-weight: bold;\">({{currency}})</p>\n                      </ion-item>\n                    </ion-col>\n                  </ion-row>\n              </ion-grid>\n          </ion-item>\n              \n            <ion-list no-padding>\n                <ion-item-sliding  *ngFor=\"let item of tempActiveItems;index as pos\" >\n                    <!-- <ion-item-options side=\"end\">\n                        <ion-item-option color=\"danger\" (click)=\"removeSelected(pos)\">Delete</ion-item-option>\n                      </ion-item-options> -->\n                <ion-item  >\n                <ion-grid>\n                    <ion-row>\n                      <ion-col size=\"2\" >\n                        <ion-item no-padding lines=\"none\">\n                            <!--<ion-icon (click)=\"quantityDecrement(item)\" name=\"remove-circle\" color=\"danger\"></ion-icon>\n                            <ion-label text-center > {{item.Qty}}\n                            </ion-label>\n                            <ion-icon (click)=\"quantityIncrement(item)\" name=\"add-circle\" color=\"success\"></ion-icon>-->\n                            <ion-input (click)=\"clearVal(item)\" class=\"my-label\" (ionInput)=\"updateItem($event,item)\"  maxlength=\"5\"  type=\"tel\" no-padding style=\"border: none;text-align: right;\" [(ngModel)]=\"item.Qty\"></ion-input> \n                        </ion-item>\n                      </ion-col>\n                      <ion-col size=\"7\">\n                        <!--<ion-item  lines=\"none\">\n                            <ion-label  class=\"my-label\" style=\"text-align: left;\" >{{item.Description}}</ion-label>\n                        </ion-item>-->\n                        <ion-item lines=\"none\"style=\"float: left;\">\n                          <p class=\"my-label\"  >{{item.Description}}<span><ion-input (click)=\"clearVal1(item)\" class=\"my-label\" (ionInput)=\"updateTotal($event,item)\"  maxlength=\"5\"  type=\"tel\" no-padding style=\"border: none;text-align: left;max-width: 100%;\" [(ngModel)]=\"item.Cost\">{{item.Qty}}x</ion-input></span></p>\n                      </ion-item>\n                        \n                      </ion-col>\n                      <!--<ion-col  size=\"3\">\n                        <ion-item no-padding lines=\"none\" >\n                             <ion-label text-center >{{item.Rate}}</ion-label> \n                            <ion-input class=\"my-label\" (ionInput)=\"updateTotal($event,item)\"  maxlength=\"5\"  type=\"tel\" no-padding style=\"border: none;text-align: right;\" [(ngModel)]=\"item.Rate\"></ion-input> \n                        </ion-item>\n                      </ion-col>-->\n                      <ion-col size=\"3\">\n                        <!--<ion-item  lines=\"none\">\n                            <ion-label style=\"text-align:right;float:right;\" class=\"my-label\"  >{{item.Qty * item.Rate}}</ion-label>\n                        </ion-item>-->\n                        <ion-item lines=\"none\"style=\"float: right;\">\n                          <p class=\"my-label\"  >{{item.Qty * item.Cost}}</p>\n                      </ion-item>\n                      </ion-col>\n                    </ion-row>\n                </ion-grid>\n                <!-- <ion-label>1</ion-label>\n                <ion-label>1</ion-label>\n                <ion-label text-center style=\"color:royalblue;\">show less</ion-label>\n                <span style=\"float:right;\" class=\"cancel\">\n                    PKR \n                </span> -->\n\n              </ion-item>\n            </ion-item-sliding>\n            </ion-list>   \n            <ion-button *ngIf=\"selectedItems.length > 0\" (click)=\"addItemafter()\" expand=\"block\" text-capitalize=\"false\" fill=\"outline\" size=\"large\" style=\"width: 80%; margin-left: auto;margin-right: auto;border-radius: 50px; --border-radius: 15px;\" >\n                <ion-icon name=\"add-circle-outline\" slot=\"start\"></ion-icon>\n              Item\n            </ion-button>\n          <ion-item color=\"light\">            \n            \n                      <ion-label>\n                              <h3 text-capitalize style=\"padding-left: 5px;\"  class=\"lightgrey\">Subtotal <ion-icon  name=\"pricetag\"></ion-icon></h3>  \n                       </ion-label>\n                       <ion-label>\n                       <span style=\"float:right;\" color=\"dark\">\n                                  {{subtotal | currency:currency:true:\"1.2\"}}\n                          </span>\n                      </ion-label>\n             \n          </ion-item>    \n          <ion-item color=\"light\" (click)=\"discountPrompt()\">            \n                  <ion-label>\n                          <h3 text-capitalize style=\"padding-left: 5px;\" class=\"lightgrey\">Discount</h3>\n                        </ion-label>\n                        <ion-label>\n                            <span style=\"float:right;\" class=\"cancel\">\n                                {{discount | currency:currency:true:\"1.2\"}}\n                            </span>\n                        </ion-label>\n                 \n           </ion-item>\n           <ion-item color=\"dark\">            \n                  <ion-label>\n                          <h1 text-capitalize style=\"padding-left: 5px;font-size: 135%;\">Total</h1>\n                          <!-- <h5 style=\"font-size: 10px;\">Paid:PKR {{payed}}</h5> -->\n                   </ion-label>\n                   <ion-label>\n                            <span style=\"float:right;\" >\n                              <h1 style=\"font-size: 135%\"> {{subtotal - discount | currency:currency:true:\"1.2\"}}</h1> \n                              <!-- <h6 style=\"font-size: 10px;\">Balance Due:PKR {{duepayment}}</h6>  -->\n                            </span>\n                    </ion-label>\n                 \n           </ion-item>  \n           <ion-button (click)=\"presentPrompt()\" expand=\"block\" text-capitalize=\"false\" fill=\"outline\" size=\"large\" style=\"width: 80%; margin-left: auto;margin-right: auto;border-radius: 50px; --border-radius: 15px;\" >Remarks</ion-button>\n           <!-- <ion-list *ngFor=\"let item of images;index as pos\">\n               <ion-item >\n                  <ion-thumbnail slot=\"start\">\n                      <ion-img [src]=\"item.path\"></ion-img>\n                    </ion-thumbnail>\n                    <ion-label>\n                      Attachment\n                    </ion-label>\n                    <ion-button slot=\"end\" fill=\"clear\" (click)=\"deleteImage(item, pos)\" class=\"ion-md-time\">\n                      <ion-icon slot=\"icon-only\" name=\"trash\"></ion-icon>\n                    </ion-button>\n               </ion-item>\n           </ion-list> -->\n           <!-- <ion-button (click)=\"selectImage()\" expand=\"block\" text-capitalize=\"false\" fill=\"outline\" size=\"large\" style=\"width: 80%; margin-left: auto;margin-right: auto;--border-radius: 15px;\"> <ion-icon slot=\"start\" name=\"attach\"></ion-icon>Attachments</ion-button> -->\n\n</ion-list>\n  </ion-content>\n  "

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");



var routes = [
    { path: '', redirectTo: '/menu/dashboard', pathMatch: 'full' },
    // { path: 'home', loadChildren: () => import('./home/home.module').then( m => m.HomePageModule)},
    { path: 'login', loadChildren: './pages/login/login.module#LoginPageModule' },
    { path: 'menu', loadChildren: './pages/menu/menu.module#MenuPageModule' },
    // { path: 'invoice', loadChildren: './pages/invoice/invoice.module#InvoicePageModule' },
    { path: 'landing', loadChildren: './pages/landing/landing.module#LandingPageModule' },
    { path: 'dashboard', loadChildren: './pages/dashboard/dashboard.module#DashboardPageModule' },
    { path: 'invoice-info', loadChildren: './pages/invoice-info/invoice-info.module#InvoiceInfoPageModule' },
    { path: 'client', loadChildren: './pages/client/client.module#ClientPageModule' },
    { path: 'invoicedetails', loadChildren: './pages/invoicedetails/invoicedetails.module#InvoicedetailsPageModule' },
    { path: 'addinvoice', loadChildren: './pages/addinvoice/addinvoice.module#AddinvoicePageModule' },
    { path: 'add-client', loadChildren: './pages/add-client/add-client.module#AddClientPageModule' },
    { path: 'add-item', loadChildren: './pages/add-item/add-item.module#AddItemPageModule' },
    { path: 'comment', loadChildren: './pages/comment/comment.module#CommentPageModule' },
    { path: 'additem', loadChildren: './pages/additem/additem.module#AdditemPageModule' },
    { path: 'add-client-clients', loadChildren: './pages/add-client-clients/add-client-clients.module#AddClientClientsPageModule' },
    { path: 'itemamount', loadChildren: './pages/itemamount/itemamount.module#ItemamountPageModule' },
    { path: 'edit-item', loadChildren: './pages/edit-item/edit-item.module#EditItemPageModule' },
    { path: 'menu-editclient', loadChildren: './pages/menu-editclient/menu-editclient.module#MenuEditclientPageModule' },
    { path: 'menu-clientdetails', loadChildren: './pages/menu-clientdetails/menu-clientdetails.module#MenuClientdetailsPageModule' },
    { path: 'menu-addclient', loadChildren: './pages/menu-addclient/menu-addclient.module#MenuAddclientPageModule' },
    { path: 'menu-additem', loadChildren: './pages/menu-additem/menu-additem.module#MenuAdditemPageModule' },
    { path: 'menu-edititem', loadChildren: './pages/menu-edititem/menu-edititem.module#MenuEdititemPageModule' },
    { path: 'menu-itemdetails', loadChildren: './pages/menu-itemdetails/menu-itemdetails.module#MenuItemdetailsPageModule' },
    { path: 'new-expense', loadChildren: './pages/new-expense/new-expense.module#NewExpensePageModule' },
    { path: 'payment-info', loadChildren: './pages/payment-info/payment-info.module#PaymentInfoPageModule' },
    // { path: 'trash-purchased-orders', loadChildren: './pages/trash-purchased-orders/trash-purchased-orders.module#TrashPurchasedOrdersPageModule' },
    { path: 'addpurchasedorder', loadChildren: './pages/addpurchasedorder/addpurchasedorder.module#AddpurchasedorderPageModule' },
    { path: 'purchase-order-info', loadChildren: './pages/purchase-order-info/purchase-order-info.module#PurchaseOrderInfoPageModule' },
    { path: 'addcreditmemos', loadChildren: './pages/addcreditmemos/addcreditmemos.module#AddcreditmemosPageModule' },
    { path: 'credit-memo-info', loadChildren: './pages/credit-memo-info/credit-memo-info.module#CreditMemoInfoPageModule' },
    { path: 'notifications', loadChildren: './pages/notifications/notifications.module#NotificationsPageModule' },
    { path: 'dashboard-invoices', loadChildren: './pages/dashboard-invoices/dashboard-invoices.module#DashboardInvoicesPageModule' },
    { path: 'defaultcomment', loadChildren: './pages/settings/defaultcomment/defaultcomment.module#DefaultcommentPageModule' },
    { path: 'editexpense', loadChildren: './pages/expenses/editexpense/editexpense.module#EditexpensePageModule' },
    { path: 'add', loadChildren: './pages/vendors/add/add.module#AddPageModule' },
    { path: 'vendor-edit', loadChildren: './pages/vendors/vendor-edit/vendor-edit.module#VendorEditPageModule' },
    { path: 'podetails', loadChildren: './pages/purchased-orders/podetails/podetails.module#PodetailsPageModule' },
    /*{
      path: 'addvendor',
      loadChildren: () => import('./pages/addpurchasedorder/addvendor/addvendor.module').then( m => m.AddvendorPageModule)
    }*/
    {
        path: 'ledger',
        loadChildren: function () { return Promise.all(/*! import() | pages-ledger-ledger-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("common"), __webpack_require__.e("pages-ledger-ledger-module")]).then(__webpack_require__.bind(null, /*! ./pages/ledger/ledger.module */ "./src/app/pages/ledger/ledger.module.ts")).then(function (m) { return m.LedgerPageModule; }); }
    },
    {
        path: 'payment-info-vendors',
        loadChildren: function () { return Promise.all(/*! import() | pages-payment-info-vendors-payment-info-vendors-module */[__webpack_require__.e("common"), __webpack_require__.e("pages-payment-info-vendors-payment-info-vendors-module")]).then(__webpack_require__.bind(null, /*! ./pages/payment-info-vendors/payment-info-vendors.module */ "./src/app/pages/payment-info-vendors/payment-info-vendors.module.ts")).then(function (m) { return m.PaymentInfoVendorsPageModule; }); }
    },
    {
        path: 'ledgers-vendors',
        loadChildren: function () { return Promise.all(/*! import() | pages-ledgers-vendors-ledgers-vendors-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("common"), __webpack_require__.e("pages-ledgers-vendors-ledgers-vendors-module")]).then(__webpack_require__.bind(null, /*! ./pages/ledgers-vendors/ledgers-vendors.module */ "./src/app/pages/ledgers-vendors/ledgers-vendors.module.ts")).then(function (m) { return m.LedgersVendorsPageModule; }); }
    },
    {
        path: 'trash-invoices',
        loadChildren: function () { return Promise.all(/*! import() | pages-trash-invoices-trash-invoices-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("trash-invoices-trash-invoices-module")]).then(__webpack_require__.bind(null, /*! ./pages/trash-invoices/trash-invoices.module */ "./src/app/pages/trash-invoices/trash-invoices.module.ts")).then(function (m) { return m.TrashInvoicesPageModule; }); }
    },
    {
        path: 'day',
        loadChildren: function () { return Promise.all(/*! import() | pages-reports-day-day-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("common"), __webpack_require__.e("pages-reports-day-day-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/day/day.module */ "./src/app/pages/reports/day/day.module.ts")).then(function (m) { return m.DayPageModule; }); }
    },
    {
        path: 'month',
        loadChildren: function () { return Promise.all(/*! import() | pages-reports-month-month-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("pages-reports-month-month-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/month/month.module */ "./src/app/pages/reports/month/month.module.ts")).then(function (m) { return m.MonthPageModule; }); }
    },
    {
        path: 'customer',
        loadChildren: function () { return Promise.all(/*! import() | pages-reports-customer-customer-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("common"), __webpack_require__.e("pages-reports-customer-customer-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/customer/customer.module */ "./src/app/pages/reports/customer/customer.module.ts")).then(function (m) { return m.CustomerPageModule; }); }
    },
    {
        path: 'item',
        loadChildren: function () { return Promise.all(/*! import() | pages-reports-item-item-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("common"), __webpack_require__.e("pages-reports-item-item-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/item/item.module */ "./src/app/pages/reports/item/item.module.ts")).then(function (m) { return m.ItemPageModule; }); }
    },
    {
        path: 'expensejournal',
        loadChildren: function () { return Promise.all(/*! import() | pages-reports-expensejournal-expensejournal-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("common"), __webpack_require__.e("pages-reports-expensejournal-expensejournal-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/expensejournal/expensejournal.module */ "./src/app/pages/reports/expensejournal/expensejournal.module.ts")).then(function (m) { return m.ExpensejournalPageModule; }); }
    },
    {
        path: 'expensecategory',
        loadChildren: function () { return Promise.all(/*! import() | pages-reports-expensecategory-expensecategory-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("pages-reports-expensecategory-expensecategory-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/expensecategory/expensecategory.module */ "./src/app/pages/reports/expensecategory/expensecategory.module.ts")).then(function (m) { return m.ExpensecategoryPageModule; }); }
    },
    {
        path: 'customeraging',
        loadChildren: function () { return Promise.all(/*! import() | pages-reports-customeraging-customeraging-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("pages-reports-customeraging-customeraging-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/customeraging/customeraging.module */ "./src/app/pages/reports/customeraging/customeraging.module.ts")).then(function (m) { return m.CustomeragingPageModule; }); }
    },
    {
        path: 'year',
        loadChildren: function () { return Promise.all(/*! import() | pages-reports-year-year-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("pages-reports-year-year-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/year/year.module */ "./src/app/pages/reports/year/year.module.ts")).then(function (m) { return m.YearPageModule; }); }
    },
    {
        path: 'quarter',
        loadChildren: function () { return Promise.all(/*! import() | pages-reports-quarter-quarter-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("default~pages-payment-info-payment-info-module~pages-reports-customer-customer-module~pages-reports-~56871daf"), __webpack_require__.e("pages-reports-quarter-quarter-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/quarter/quarter.module */ "./src/app/pages/reports/quarter/quarter.module.ts")).then(function (m) { return m.QuarterPageModule; }); }
    },
    {
        path: 'customerstatement',
        loadChildren: function () { return Promise.all(/*! import() | pages-reports-customerstatement-customerstatement-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("common"), __webpack_require__.e("pages-reports-customerstatement-customerstatement-module")]).then(__webpack_require__.bind(null, /*! ./pages/reports/customerstatement/customerstatement.module */ "./src/app/pages/reports/customerstatement/customerstatement.module.ts")).then(function (m) { return m.CustomerstatementPageModule; }); }
    },
    {
        path: 'outstanding',
        loadChildren: function () { return Promise.all(/*! import() | pages-outstanding-outstanding-module */[__webpack_require__.e("default~clients-clients-module~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-mo~c15c1755"), __webpack_require__.e("default~invoice-invoice-module~pages-dashboard-invoices-dashboard-invoices-module~pages-invoicedetai~a5c848c1"), __webpack_require__.e("pages-outstanding-outstanding-module")]).then(__webpack_require__.bind(null, /*! ./pages/outstanding/outstanding.module */ "./src/app/pages/outstanding/outstanding.module.ts")).then(function (m) { return m.OutstandingPageModule; }); }
    },
    {
        path: 'printer-list-modal',
        loadChildren: function () { return Promise.all(/*! import() | pages-printer-list-modal-printer-list-modal-module */[__webpack_require__.e("common"), __webpack_require__.e("pages-printer-list-modal-printer-list-modal-module")]).then(__webpack_require__.bind(null, /*! ./pages/printer-list-modal/printer-list-modal.module */ "./src/app/pages/printer-list-modal/printer-list-modal.module.ts")).then(function (m) { return m.PrinterListModalPageModule; }); }
    },
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes, { preloadingStrategy: _angular_router__WEBPACK_IMPORTED_MODULE_2__["PreloadAllModules"] })
            ],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.scss":
/*!************************************!*\
  !*** ./src/app/app.component.scss ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic-native/google-plus/ngx */ "./node_modules/@ionic-native/google-plus/ngx/index.js");
/* harmony import */ var _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic-native/network/ngx */ "./node_modules/@ionic-native/network/ngx/index.js");
/* harmony import */ var src_app_services_sync_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/services/sync.service */ "./src/app/services/sync.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");











var AppComponent = /** @class */ (function () {
    function AppComponent(platform, splashScreen, statusBar, storage, router, datePipe, googleplus, network, syncService, location, events, alrtCtrl, nav, ngzone, googlePlus) {
        this.platform = platform;
        this.splashScreen = splashScreen;
        this.statusBar = statusBar;
        this.storage = storage;
        this.router = router;
        this.datePipe = datePipe;
        this.googleplus = googleplus;
        this.network = network;
        this.syncService = syncService;
        this.location = location;
        this.events = events;
        this.alrtCtrl = alrtCtrl;
        this.nav = nav;
        this.ngzone = ngzone;
        this.googlePlus = googlePlus;
        this.initializeApp();
    }
    AppComponent.prototype.initializeApp = function () {
        var _this = this;
        this.platform.ready().then(function () {
            _this.platform.backButton.subscribeWithPriority(0, function () {
                debugger;
                if (_this.routerOutlet && _this.routerOutlet.canGoBack()) {
                    _this.routerOutlet.pop();
                }
                else if (_this.router.url === '/menu/clients') {
                    // or if that doesn't work, try
                    _this.shareALert("Warning", '', 'Are you sure you want to exit app?');
                }
                else {
                    _this.ngzone.run(function () {
                        _this.events.publish('refreshClients', 'saad2', '');
                        _this.router.navigate(['/menu/clients']);
                    });
                }
                if (_this.router.url === '/menu-clientdetails' || _this.router.url === '/invoicedetails' || _this.router.url === '/editexpense') {
                    _this.events.publish('refreshLogs', 'saad2', '');
                }
                if (_this.router.url === '/menu-addclient' || _this.router.url === '/menu-editclient') {
                    _this.events.publish('refreshClients', 'saad2', '');
                    _this.events.publish('refreshClientsOrder', 'saad2', '');
                }
                if (_this.router.url === '/vendor-edit') {
                    _this.events.publish('refreshVendors', 'saad2', '');
                    _this.events.publish('refreshLogs', 'saad2', '');
                }
                // else {
                //   alert('Do you want to exit the app?')
                //   // this.generic.showAlert("Exit", "Do you want to exit the app?", this.onYesHandler, this.onNoHandler, "backPress");
                // }
            });
            _this.storage.set('app', 'adnan');
            _this.statusBar.styleDefault();
            _this.storage.get('ID').then(function (val) {
                if (val !== null) {
                    _this.router.navigate(['/menu/clients']);
                    _this.splashScreen.hide();
                    if (_this.network.type === 'none') {
                        // alert('not connected');
                    }
                    else {
                        _this.syncService.syncLocalToServer();
                        // alert('connected');
                    }
                }
                else {
                    _this.router.navigate(['/menu/dashboard']);
                    _this.splashScreen.hide();
                }
            });
        });
    };
    // checkLogin()
    // {
    //   this.googleplus.trySilentLogin({})
    //  .then(res => {
    //     console.log(res);
    //     }
    // )
    // .catch(err => console.error(err));
    // }
    AppComponent.prototype.shareALert = function (head, sub, msg) {
        var _this = this;
        this.alrtCtrl.create({
            header: head,
            subHeader: sub,
            message: msg,
            cssClass: 'alertSize',
            buttons: [
                {
                    text: 'Exit',
                    cssClass: 'customClass',
                    role: 'cancel',
                    handler: function () {
                        console.log('yes');
                        // this.deleteClient();
                        _this.logout();
                        // navigator['app'].exitApp();
                    }
                },
                {
                    text: 'Cancel',
                    handler: function () {
                        console.log('Confirm Ok');
                    }
                }
            ]
        }).then(function (alert) { return alert.present(); });
    };
    AppComponent.prototype.logout = function () {
        var _this = this;
        this.googlePlus.trySilentLogin({})
            .then(function (res) {
            console.log(res);
            _this.googlePlus.logout()
                .then(function (res) {
                console.log(res);
                _this.acttype = 'You Signed Out from app';
                _this.AddLog();
                _this.userId = '';
                _this.storage.set('ID', null);
                _this.storage.get('ID').then(function (val) {
                    console.log('After logout:' + val);
                });
                navigator['app'].exitApp();
            })
                .catch(function (err) { return console.error(err); });
        })
            .catch(function (err) { return console.error(err); });
    };
    AppComponent.prototype.AddLog = function () {
        var _this = this;
        //this.name = 'Purchased Order';
        var now = new Date().toString();
        var a = this.datePipe.transform(now, 'dd MMM yyyy h:mm a');
        this.lgdate = 'at ' + a;
        this.tblName = '';
        this.tblId = 0;
        this.name = '';
        // this.tblId = this.PO.ID;
        // this.tblId = this.syncService.getUpdatedPOID();
        this.tblName, this.tblId, this.usdId, this.acttype, this.name, this.lgdate;
        this.syncService.addLogs(this.tblName, this.tblId, this.usdId, this.acttype, this.name, this.lgdate).then(function (data) {
            console.log("Log has been added");
            _this.syncService.syncAddedLog();
            //this.GetLogs();
        });
    };
    AppComponent.ctorParameters = function () { return [
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"] },
        { type: _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_3__["SplashScreen"] },
        { type: _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_4__["StatusBar"] },
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_5__["Storage"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"] },
        { type: _angular_common__WEBPACK_IMPORTED_MODULE_10__["DatePipe"] },
        { type: _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_7__["GooglePlus"] },
        { type: _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_8__["Network"] },
        { type: src_app_services_sync_service__WEBPACK_IMPORTED_MODULE_9__["SyncService"] },
        { type: _angular_common__WEBPACK_IMPORTED_MODULE_10__["PlatformLocation"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Events"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["NgZone"] },
        { type: _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_7__["GooglePlus"] }
    ]; };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonRouterOutlet"], { static: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonRouterOutlet"])
    ], AppComponent.prototype, "routerOutlet", void 0);
    AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! raw-loader!./app.component.html */ "./node_modules/raw-loader/index.js!./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.scss */ "./src/app/app.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_3__["SplashScreen"],
            _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_4__["StatusBar"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_5__["Storage"],
            _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"],
            _angular_common__WEBPACK_IMPORTED_MODULE_10__["DatePipe"],
            _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_7__["GooglePlus"],
            _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_8__["Network"],
            src_app_services_sync_service__WEBPACK_IMPORTED_MODULE_9__["SyncService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_10__["PlatformLocation"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Events"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"],
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["NgZone"],
            _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_7__["GooglePlus"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _ionic_native_sqlite_porter_ngx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ionic-native/sqlite-porter/ngx */ "./node_modules/@ionic-native/sqlite-porter/ngx/index.js");
/* harmony import */ var _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ionic-native/sqlite/ngx */ "./node_modules/@ionic-native/sqlite/ngx/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ionic-native/google-plus/ngx */ "./node_modules/@ionic-native/google-plus/ngx/index.js");
/* harmony import */ var _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ionic-native/ionic-webview/ngx */ "./node_modules/@ionic-native/ionic-webview/ngx/index.js");
/* harmony import */ var _ionic_storage___WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ionic/storage/ */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @ionic-native/http/ngx */ "./node_modules/@ionic-native/http/ngx/index.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @ionic-native/network/ngx */ "./node_modules/@ionic-native/network/ngx/index.js");
/* harmony import */ var chartjs_plugin_zoom__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! chartjs-plugin-zoom */ "./node_modules/chartjs-plugin-zoom/dist/chartjs-plugin-zoom.js");
/* harmony import */ var chartjs_plugin_zoom__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(chartjs_plugin_zoom__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var _ionic_native_bluetooth_serial_ngx__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @ionic-native/bluetooth-serial/ngx */ "./node_modules/@ionic-native/bluetooth-serial/ngx/index.js");
/* harmony import */ var _ionic_native_facebook_ngx__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @ionic-native/facebook/ngx */ "./node_modules/@ionic-native/facebook/ngx/index.js");
/* harmony import */ var _pages_addpurchasedorder_addpurchasedorder_page__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./pages/addpurchasedorder/addpurchasedorder.page */ "./src/app/pages/addpurchasedorder/addpurchasedorder.page.ts");













// import { Camera } from '@ionic-native/Camera/ngx';
// import { File } from '@ionic-native/file/ngx';

// import { FilePath } from '@ionic-native/file-path/ngx';

// import { LocalNotifications } from '@ionic-native/local-notifications/ngx';
// import { Contacts } from '@ionic-native/contacts';
// import { Contact, ContactField, ContactName } from '@ionic-native/contacts';

// import { DatePicker } from '@ionic-native/date-picker/ngx';

// import { AndroidFingerprintAuth } from '@ionic-native/android-fingerprint-auth/ngx';
// import { AndroidFingerprintAuth } from '@ionic-native/android-fingerprint-auth';

// import {SocialSharing} from '@ionic-native/social-sharing/ngx';


// import { FileOpener } from '@ionic-native/file-opener/ngx';


var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [_app_component__WEBPACK_IMPORTED_MODULE_7__["AppComponent"]],
            entryComponents: [],
            imports: [_angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["BrowserModule"],
                //  DatePickerModule,
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"].forRoot(), _app_routing_module__WEBPACK_IMPORTED_MODULE_8__["AppRoutingModule"], _angular_common_http__WEBPACK_IMPORTED_MODULE_11__["HttpClientModule"], _ionic_storage___WEBPACK_IMPORTED_MODULE_14__["IonicStorageModule"].forRoot()],
            providers: [
                _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_6__["StatusBar"],
                _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_5__["SplashScreen"],
                { provide: _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouteReuseStrategy"], useClass: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicRouteStrategy"] },
                _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_10__["SQLite"],
                _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_17__["Network"],
                _ionic_native_sqlite_porter_ngx__WEBPACK_IMPORTED_MODULE_9__["SQLitePorter"],
                _ionic_native_google_plus_ngx__WEBPACK_IMPORTED_MODULE_12__["GooglePlus"],
                _ionic_native_bluetooth_serial_ngx__WEBPACK_IMPORTED_MODULE_19__["BluetoothSerial"],
                _ionic_native_facebook_ngx__WEBPACK_IMPORTED_MODULE_20__["Facebook"],
                // FingerprintAIO,
                // AndroidFingerprintAuth,
                // FingerprintAIO,
                // Camera,
                // File,
                _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_13__["WebView"],
                // FilePath,
                // LocalNotifications,
                // Contacts,
                _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_15__["HTTP"],
                // DatePicker,
                _angular_common__WEBPACK_IMPORTED_MODULE_16__["DatePipe"],
                // CallNumber,
                _pages_addpurchasedorder_addpurchasedorder_page__WEBPACK_IMPORTED_MODULE_21__["AddpurchasedorderPage"],
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_7__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/pages/addpurchasedorder/addpurchasedorder.page.scss":
/*!*********************************************************************!*\
  !*** ./src/app/pages/addpurchasedorder/addpurchasedorder.page.scss ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".my-label {\n  font-size: 85%;\n}\n\n.my-label1 {\n  font-size: 80%;\n}\n\n.my-label3 {\n  font-size: 65%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWRkcHVyY2hhc2Vkb3JkZXIvQzpcXHdhbXA2NFxcd3d3XFxpbnZvaWNlLnBrL3NyY1xcYXBwXFxwYWdlc1xcYWRkcHVyY2hhc2Vkb3JkZXJcXGFkZHB1cmNoYXNlZG9yZGVyLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvYWRkcHVyY2hhc2Vkb3JkZXIvYWRkcHVyY2hhc2Vkb3JkZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksY0FBQTtBQ0NKOztBRENFO0VBQ0UsY0FBQTtBQ0VKOztBREFFO0VBQ0UsY0FBQTtBQ0dKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYWRkcHVyY2hhc2Vkb3JkZXIvYWRkcHVyY2hhc2Vkb3JkZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm15LWxhYmVsIHtcclxuICAgIGZvbnQtc2l6ZTogODUlO1xyXG4gIH1cclxuICAubXktbGFiZWwxIHtcclxuICAgIGZvbnQtc2l6ZTogODAlO1xyXG4gIH0gXHJcbiAgLm15LWxhYmVsMyB7XHJcbiAgICBmb250LXNpemU6IDY1JTtcclxuICB9XHJcbiAgXHJcbiIsIi5teS1sYWJlbCB7XG4gIGZvbnQtc2l6ZTogODUlO1xufVxuXG4ubXktbGFiZWwxIHtcbiAgZm9udC1zaXplOiA4MCU7XG59XG5cbi5teS1sYWJlbDMge1xuICBmb250LXNpemU6IDY1JTtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/pages/addpurchasedorder/addpurchasedorder.page.ts":
/*!*******************************************************************!*\
  !*** ./src/app/pages/addpurchasedorder/addpurchasedorder.page.ts ***!
  \*******************************************************************/
/*! exports provided: AddpurchasedorderPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddpurchasedorderPage", function() { return AddpurchasedorderPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_native_file_path_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/file-path/ngx */ "./node_modules/@ionic-native/file-path/ngx/index.js");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
/* harmony import */ var _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/ionic-webview/ngx */ "./node_modules/@ionic-native/ionic-webview/ngx/index.js");
/* harmony import */ var _ionic_native_Camera_ngx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic-native/Camera/ngx */ "./node_modules/@ionic-native/Camera/ngx/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var src_app_services_database_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/services/database.service */ "./src/app/services/database.service.ts");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ionic-native/http/ngx */ "./node_modules/@ionic-native/http/ngx/index.js");
/* harmony import */ var src_app_services_sync_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! src/app/services/sync.service */ "./src/app/services/sync.service.ts");
/* harmony import */ var _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @ionic-native/network/ngx */ "./node_modules/@ionic-native/network/ngx/index.js");


















// import { type } from '';
var STORAGE_KEY = 'po_images';
var AddpurchasedorderPage = /** @class */ (function () {
    function AddpurchasedorderPage(location, alrtCtrl, router, toastController, storage, loadingController, ref, filePath, datePipe, events, file, webview, actionSheetController, camera, plt, http, databaseprovider, nativeHttp, alertCtrl, syncService, network, nav) {
        var _this = this;
        this.location = location;
        this.alrtCtrl = alrtCtrl;
        this.router = router;
        this.toastController = toastController;
        this.storage = storage;
        this.loadingController = loadingController;
        this.ref = ref;
        this.filePath = filePath;
        this.datePipe = datePipe;
        this.events = events;
        this.file = file;
        this.webview = webview;
        this.actionSheetController = actionSheetController;
        this.camera = camera;
        this.plt = plt;
        this.http = http;
        this.databaseprovider = databaseprovider;
        this.nativeHttp = nativeHttp;
        this.alertCtrl = alertCtrl;
        this.syncService = syncService;
        this.network = network;
        this.nav = nav;
        this.order = {
            created: '',
            name: 'PO1',
            terms: 'Issued'
        };
        this.message = '';
        this.client = 'Select Vendor';
        this.email = '';
        this.add1 = '';
        this.add2 = '';
        this.add3 = '';
        this.shippingTo = '';
        this.sAdd1 = '';
        this.sAdd2 = '';
        this.sAdd3 = '';
        this.selectedItems = [];
        this.subtotal = 0;
        this.discount = 0;
        this.total = 0;
        this.payed = 0;
        this.duepayment = 0;
        this.selectedVendorSync = 0;
        this.time = new Date();
        this.currentDate = new Date().toString();
        this.info = '';
        this.data = [
        // {
        //   no: '1',
        //   date: '10/28/2019',
        //  amount: '10.00'
        //  }
        ];
        this.selectcategory = 'Select Vendor';
        this.vendors = [];
        this.activeVendors = [];
        this.tempActiveVendors = [];
        this.raio = [];
        this.selectedVendorID = '';
        this.selectedVendorName = '';
        this.items = [];
        this.activeItems = [];
        this.tempActiveItems = [
            {
                itemid: '',
                AccountId: '',
                Description: '',
                Rate: 0,
                Cost: 0,
                Active: '',
                Qty: 0,
                Sync: 0,
            }
        ];
        this.currency = '';
        this.storage.get('userId').then(function (val) {
            _this.usdId = val;
            console.log(_this.usdId);
        });
        storage.get('currency').then(function (val) {
            if (val !== null) {
                _this.currency = val.toString();
                debugger;
            }
        });
        debugger;
        this.url = this.router.url;
        this.order.created = this.datePipe.transform(this.currentDate, 'dd MMM yyyy');
        var a = 'menu' + this.router.url;
        // this.getAllClients();
        this.getAllVendors();
        debugger;
        router.events.subscribe(function (event) {
            if (event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_3__["NavigationEnd"]) {
                _this.ngOnInit();
                // this.clearAll();
            }
        });
        if (this.router.getCurrentNavigation().extras.state) {
            this.message = this.router.getCurrentNavigation().extras.state.user;
        }
        else {
            this.message = '';
        }
        if (this.router.getCurrentNavigation().extras.state) {
            this.client = this.router.getCurrentNavigation().extras.state.name;
        }
        if (this.router.getCurrentNavigation().extras.state) {
            if (typeof this.router.getCurrentNavigation().extras.state.meta_data !== 'undefined') {
                debugger;
                this.data = this.router.getCurrentNavigation().extras.state.meta_data;
                this.payed = this.router.getCurrentNavigation().extras.state.payed;
                this.duepayment = this.router.getCurrentNavigation().extras.state.duepayment;
                if (this.network.type === 'none') {
                }
                else {
                    debugger;
                    this.syncAddedVendors();
                    this.syncAddedItems();
                }
            }
        }
        debugger;
    }
    AddpurchasedorderPage.prototype.ngOnDestroy = function () {
    };
    AddpurchasedorderPage.prototype.ngOnInit = function () {
        debugger;
        //this.getAllItems();
        //this.tempActiveItems = this.databaseprovider.getActiveItemsList();
        debugger;
        if (this.router.getCurrentNavigation().extras.state) {
            if (typeof this.router.getCurrentNavigation().extras.state.ID !== 'undefined') {
                // this.getAllVendors();
                // this.getAllItemsLocal();
                this.selectedVendorID = this.router.getCurrentNavigation().extras.state.ID;
                this.selectedVendorName = this.router.getCurrentNavigation().extras.state.Name;
                if (this.selectedVendorName !== '') {
                    this.client = this.router.getCurrentNavigation().extras.state.Name;
                }
                this.info = this.router.getCurrentNavigation().extras.state.info;
                // this.activeItems =  this.router.getCurrentNavigation().extras.state.items;
                //this.initializeActiveItems();
            }
        }
    };
    AddpurchasedorderPage.prototype.orderInfo = function () {
        debugger;
        var navigationExtras = {
            state: {
                // user: this.received
                order: this.order
            }
        };
        this.router.navigate(['purchase-order-info'], navigationExtras);
    };
    AddpurchasedorderPage.prototype.clearVal = function (item) {
        if (item.Qty == 0) {
            item.Qty = " ";
        }
    };
    AddpurchasedorderPage.prototype.clearVal1 = function (item) {
        if (item.Rate == 0) {
            item.Rate = " ";
        }
    };
    AddpurchasedorderPage.prototype.back = function () {
        // this.router.navigate(['invoicedetails']);
        // this.location.back();
        this.showALert('', '', 'Save this purchase order?');
    };
    AddpurchasedorderPage.prototype.showALert = function (head, sub, msg) {
        var _this = this;
        this.alrtCtrl.create({
            header: head,
            subHeader: sub,
            message: msg,
            cssClass: 'alertSize',
            buttons: [
                {
                    text: 'Exit',
                    cssClass: 'customClass',
                    role: 'cancel',
                    handler: function () {
                        //  this.location.back();
                        _this.clearAll();
                        _this.router.navigate(['menu/purchased-orders']);
                        console.log('Confirm Cancel');
                        _this.clearAll();
                        debugger;
                    }
                },
                {
                    text: 'Save',
                    handler: function () {
                        console.log('Confirm Ok');
                        if (_this.selectedVendorName !== '' && _this.selectedVendorName.length > 0 && _this.subtotal > 0) {
                            //this.savePO();
                            _this.savePOLocaldb();
                        }
                        else {
                            if (_this.selectedVendorName === '' || _this.selectedVendorName.length === 0) {
                                alert('Kindly select Vendor');
                            }
                            else {
                                alert('The price for the item(s) can not be 0');
                            }
                        }
                    }
                }
            ]
        }).then(function (alert) { return alert.present(); });
    };
    AddpurchasedorderPage.prototype.share = function () {
        var msg = 'Save <br/><br/> Preview <br/><br/> Email <br/><br/> Share <br/><br/> Add Credits <br/><br/> Print ';
        // this.shareALert('','','');
        this.saveALert('', '', 'Are you sure you want to save?');
    };
    AddpurchasedorderPage.prototype.shareALert = function (head, sub, msg) {
        var _this = this;
        this.alrtCtrl.create({
            header: head,
            subHeader: sub,
            message: msg,
            cssClass: 'changeAvatar',
            buttons: [
                {
                    text: 'Save',
                    cssClass: 'alert-button-inner',
                    handler: function () {
                        console.log('Confirm Cancel');
                        if (_this.selectedVendorName !== '' && _this.selectedVendorName.length > 0 && _this.subtotal > 0) {
                            // this.savePO();
                            _this.savePOLocaldb();
                        }
                        else {
                            if (_this.selectedVendorName === '' || _this.selectedVendorName.length === 0) {
                                alert('Kindly select Vendor');
                            }
                            else {
                                alert('The price for the item(s) can not be 0');
                            }
                        }
                    }
                },
                {
                    text: 'Preview',
                    cssClass: 'alert-button-inner',
                    handler: function () {
                        console.log('Confirm Cancel');
                    }
                },
                {
                    text: 'Email',
                    cssClass: 'alert-button-inner',
                    handler: function () {
                        console.log('Confirm Cancel');
                    }
                },
                {
                    text: 'Share',
                    cssClass: 'alert-button-inner',
                    handler: function () {
                        console.log('Confirm Cancel');
                    }
                },
                {
                    text: 'Cancel',
                    cssClass: 'cancel',
                    handler: function () {
                        console.log('Confirm Cancel');
                    }
                },
            ]
        }).then(function (alert) { return alert.present(); });
    };
    AddpurchasedorderPage.prototype.addClient = function () {
        this.databaseprovider.saveActiveItemsList(this.tempActiveItems);
        var navigationExtras = {
            state: {
                ID: this.selectedVendorID,
                Name: this.selectedVendorName,
                info: this.info,
                items: this.tempActiveItems
            }
        };
        this.router.navigate(['addvendor'], navigationExtras);
    };
    AddpurchasedorderPage.prototype.addItem = function () {
        // const navigationExtras: NavigationExtras = {
        //   state: {
        //     url: this.url
        //   }
        // };
        // this.router.navigate(['add-item/additem-items'], navigationExtras);
        this.alrtCtrl.create({
            header: 'Alert',
            subHeader: '',
            message: 'Please add your item(s) to continue',
            cssClass: 'alertSize',
            buttons: [
                {
                    text: 'OK',
                    cssClass: 'cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                }
            ]
        }).then(function (alert) { return alert.present(); });
    };
    AddpurchasedorderPage.prototype.comment = function () {
        var navigationExtras = {
            state: {
                user: this.message,
                url: this.url
            }
        };
        this.router.navigate(['comment'], navigationExtras);
        //  this.router.navigate(['comment']);
    };
    AddpurchasedorderPage.prototype.addItemafter = function () {
        this.databaseprovider.saveArray(this.selectedItems);
        this.router.navigate(['add-item/additem-items']);
    };
    AddpurchasedorderPage.prototype.editItem = function (item, pos) {
        console.log(pos);
        this.url = this.router.url;
        var navigationExtras = {
            state: {
                // user: this.received
                edititem: item,
                position: pos,
                url: this.url
            }
        };
        this.router.navigate(['edit-item'], navigationExtras);
    };
    AddpurchasedorderPage.prototype.clearAll = function () {
        this.discount = 0.00;
        this.subtotal = 0.00;
        this.total = 0.00;
        this.message = '';
        this.client = 'Vendor';
        this.tempActiveItems = [];
        this.databaseprovider.setItemUrl('');
    };
    AddpurchasedorderPage.prototype.removeSelected = function (pos) {
        debugger;
        this.selectedItems.splice(pos, 1);
        debugger;
    };
    AddpurchasedorderPage.prototype.openAlert = function () {
        var _this = this;
        debugger;
        if (this.raio.length > 0) {
            debugger;
            this.alrtCtrl.create({
                header: 'Vendors',
                inputs: this.raio,
                buttons: [
                    {
                        text: 'Cancel',
                        role: 'cancel',
                        handler: function () {
                            console.log('Cancel clicked');
                        }
                    },
                    {
                        text: 'OK',
                        handler: function (data) {
                            console.log('selected' + data);
                            var fields = data.split(',');
                            _this.selectedVendorName = fields[0];
                            _this.client = _this.selectedVendorName;
                            _this.selectedVendorID = fields[1];
                            _this.selectedVendorSync = parseInt(fields[2]);
                            debugger;
                        }
                    }
                ]
            }).then(function (alert) { return alert.present(); });
        }
        else {
            debugger;
            this.emptyAlert('Alert', '', 'Please add your vendor(s) to continue');
        }
    };
    AddpurchasedorderPage.prototype.getAllClients = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var loading, url, nativeCall;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create()];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        url = this.databaseprovider.getURL();
                        this.nativeHttp.setDataSerializer("json");
                        nativeCall = this.nativeHttp.post(url, {
                            'Name': 'getAllClients',
                            'AccountId': '113008225657937776461'
                        }, {
                            'Content-Type': 'application/json',
                            'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                        });
                        Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(function () { return loading.dismiss; }))
                            .subscribe(function (data) {
                            loading.dismiss();
                            console.log('Native data:', data);
                            var g = JSON.parse(data.data);
                            _this.vendors = g.vendors;
                            console.log(_this.vendors[0]);
                            _this.sortClients();
                            _this.activeVendors = [];
                            for (var i = 0; i < _this.vendors.length; i++) {
                                if (_this.vendors[i].bActive === '1') {
                                    _this.activeVendors.push(_this.vendors[i]);
                                    var a = {
                                        type: 'radio',
                                        label: _this.vendors[i].Name,
                                        value: _this.vendors[i].Name + ',' + _this.vendors[i].ID
                                    };
                                    _this.raio.push(a);
                                }
                            }
                            debugger;
                            //  this.selectActive();
                            // debugger;
                            // this.initializeItems();
                            _this.initializeactiveVendors();
                            _this.databaseprovider.setupdatevendors(0);
                            _this.getAllItems();
                        }, function (err) {
                            console.log('JS call error', err);
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    AddpurchasedorderPage.prototype.sortClients = function () {
        debugger;
        this.vendors = this.vendors.sort(function (a, b) {
            if (a.Name < b.Name) {
                return -1;
            }
            if (a.Name > b.Name) {
                return 1;
            }
            return 0;
        });
    };
    AddpurchasedorderPage.prototype.initializeactiveVendors = function () {
        this.tempActiveVendors = this.activeVendors;
    };
    AddpurchasedorderPage.prototype.getAllItems = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var loading, url, nativeCall;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create()];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        url = this.databaseprovider.getURL();
                        this.nativeHttp.setDataSerializer("json");
                        nativeCall = this.nativeHttp.post(url, {
                            'Name': 'getAllItem',
                            'AccountId': '113008225657937776461'
                        }, {
                            'Content-Type': 'application/json',
                            'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                        });
                        Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(function () { return loading.dismiss; }))
                            .subscribe(function (data) {
                            loading.dismiss();
                            console.log('Native data:', data);
                            var g = JSON.parse(data.data);
                            _this.items = g.items;
                            // console.log(this.clients[0]);
                            _this.sortItems();
                            //this.inactiveItems = [];
                            _this.activeItems = [];
                            for (var i = 0; i < _this.items.length; i++) {
                                if (_this.items[i].Active === '1') {
                                    _this.items[i]['Qty'] = 0;
                                    _this.activeItems.push(_this.items[i]);
                                }
                            }
                            // this.initializeItems();
                            _this.initializeActiveItems();
                            _this.databaseprovider.setupdateitems(0);
                            debugger;
                        }, function (err) {
                            console.log('JS call error', err);
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    AddpurchasedorderPage.prototype.sortItems = function () {
        debugger;
        this.items = this.items.sort(function (a, b) {
            if (a.Description < b.Description) {
                return -1;
            }
            if (a.Description > b.Description) {
                return 1;
            }
            return 0;
        });
    };
    AddpurchasedorderPage.prototype.initializeActiveItems = function () {
        this.tempActiveItems = this.activeItems;
        debugger;
    };
    AddpurchasedorderPage.prototype.quantityIncrement = function (item) {
        item.Qty = item.Qty + 1;
        this.subtotal = this.subtotal + (1 * item.Rate);
        this.total = this.subtotal - this.discount;
        debugger;
    };
    AddpurchasedorderPage.prototype.quantityDecrement = function (item) {
        if (item.Qty > 0) {
            this.subtotal = this.subtotal - (1 * item.Rate);
            this.total = this.subtotal - this.discount;
            item.Qty = item.Qty - 1;
        }
        debugger;
    };
    AddpurchasedorderPage.prototype.change = function () {
    };
    AddpurchasedorderPage.prototype.discountPrompt = function () {
        var _this = this;
        debugger;
        if (this.subtotal > 0) {
            this.alertCtrl.create({
                header: 'Discount',
                inputs: [
                    {
                        name: 'Discount',
                        placeholder: this.discount.toString(),
                        value: this.discount,
                        type: 'number'
                    }
                ],
                buttons: [
                    {
                        text: 'Cancel',
                        role: 'cancel',
                        handler: function (data) {
                            console.log('Cancel clicked');
                        }
                    },
                    {
                        text: 'Submit',
                        handler: function (data) {
                            console.log(data);
                            if (data.Discount === '') {
                                _this.discount = 0;
                            }
                            else {
                                _this.discount = data.Discount;
                            }
                        }
                    }
                ]
            }).then(function (alert) { return alert.present(); });
        }
        else {
        }
    };
    AddpurchasedorderPage.prototype.savePO = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var loading, itemsArray, i, a, url, nativeCall;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create()];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        this.order.created;
                        this.selectedVendorID;
                        this.tempActiveItems;
                        this.discount;
                        this.total;
                        this.message;
                        itemsArray = [];
                        for (i = 0; i < this.tempActiveItems.length; i++) {
                            a = {
                                Id: parseInt(this.tempActiveItems[i].itemid),
                                Qty: this.tempActiveItems[i].Qty,
                                CostPrice: this.tempActiveItems[i].Rate
                            };
                            itemsArray.push(a);
                        }
                        itemsArray;
                        debugger;
                        this.nativeHttp.setDataSerializer("json");
                        url = this.databaseprovider.getURL();
                        nativeCall = this.nativeHttp.post(url + '/addPurchasedOrder.php', {
                            "VendorID": this.selectedVendorID,
                            "Date": this.order.created,
                            "ReceivedBy": "rizwanali",
                            "Total": this.total,
                            "Remarks": this.message,
                            "Discount": this.discount,
                            "Items": itemsArray
                        }, {
                            'Content-Type': 'application/json',
                            'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                        });
                        Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(function () { return loading.dismiss; }))
                            .subscribe(function (data) {
                            loading.dismiss();
                            console.log('Native data:', data);
                            var g = JSON.parse(data.data);
                            if (g.success === 1) {
                                _this.databaseprovider.setupdatePOS(1);
                                _this.router.navigate(['/menu/purchased-orders']);
                            }
                            // this.databaseprovider.setupdateitems(0);
                        }, function (err) {
                            console.log('JS call error', err);
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    AddpurchasedorderPage.prototype.presentPrompt = function () {
        var _this = this;
        this.alertCtrl.create({
            header: 'Message',
            inputs: [
                {
                    name: 'Message',
                    placeholder: this.message,
                    value: this.message
                }
            ],
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function (data) {
                        console.log('Cancel clicked');
                    }
                },
                {
                    text: 'Submit',
                    handler: function (data) {
                        console.log(data);
                        _this.message = data.Message;
                    }
                }
            ]
        }).then(function (alert) { return alert.present(); });
    };
    AddpurchasedorderPage.prototype.updateTotal = function (searchbar, item) {
        debugger;
        var x = item.Cost * item.Qty;
        this.subtotal = this.subtotal - x;
        var q = searchbar.srcElement.value;
        var b = q * item.Qty;
        this.subtotal = this.subtotal + b;
        this.total = this.subtotal - this.discount;
    };
    AddpurchasedorderPage.prototype.updateItem = function (searchbar, item) {
        var x = item.Cost * item.Qty;
        this.subtotal = this.subtotal - x;
        var q = searchbar.srcElement.value;
        var b = q * item.Cost;
        this.subtotal = this.subtotal + b;
        this.total = this.subtotal - this.discount;
    };
    AddpurchasedorderPage.prototype.savePOLocaldb = function () {
        var _this = this;
        var itemsArray = [];
        for (var i = 0; i < this.tempActiveItems.length; i++) {
            if (this.tempActiveItems[i].Sync === 1) {
                this.tempActiveItems[i].Sync = 2;
            }
            var a_1 = {
                Id: parseInt(this.tempActiveItems[i].itemid),
                Qty: this.tempActiveItems[i].Qty,
                CostPrice: this.tempActiveItems[i].Cost,
                Sync: this.tempActiveItems[i].Sync
            };
            itemsArray.push(a_1);
        }
        debugger;
        if (this.selectedVendorSync === 1) {
            this.selectedVendorSync = 2;
        }
        this.selectedVendorSync;
        debugger;
        var now = new Date().toString();
        var a = this.datePipe.transform(now, 'dd MMM yyyy h:mm a');
        // alert('vendorID = ' + this.selectedVendorID)
        // tslint:disable-next-line: max-line-length
        this.syncService.addPO(this.selectedVendorID, this.selectedVendorSync, a, 'rizwanali', this.subtotal - this.discount, this.message, this.discount, itemsArray)
            .then(function (data) {
            debugger;
            data;
            _this.tblId = data;
            _this.databaseprovider.setupdatePOS(1);
            _this.databaseprovider.setupdatevendors(1);
            //  this.router.navigate(['/menu/purchased-orders']);
            _this.nav.navigateRoot('/menu/purchased-orders');
            _this.AddLog();
            if (_this.network.type === 'none') {
            }
            else {
                debugger;
                _this.syncAddedPOs();
            }
        });
    };
    AddpurchasedorderPage.prototype.getAllVendors = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var loading;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create()];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        this.syncService.getAllActiveVendors().then(function (data) {
                            _this.vendors = data;
                            _this.sortClients();
                            _this.activeVendors = [];
                            for (var i = 0; i < _this.vendors.length; i++) {
                                if (_this.vendors[i].bActive === 1) {
                                    _this.activeVendors.push(_this.vendors[i]);
                                    var a = {
                                        type: 'radio',
                                        label: _this.vendors[i].Name,
                                        value: _this.vendors[i].Name + ',' + _this.vendors[i].ID + ',' + _this.vendors[i].Sync
                                    };
                                    _this.raio.push(a);
                                }
                            }
                            _this.initializeactiveVendors();
                            _this.databaseprovider.setupdatevendors(0);
                            loading.dismiss();
                            _this.getAllItemsLocal();
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    AddpurchasedorderPage.prototype.AddLog = function () {
        var _this = this;
        if (this.usdId === 1) {
            this.acttype = 'You  added a new';
        }
        else {
            this.acttype = 'You added a new';
        }
        this.name = 'Purchased Order';
        var now = new Date().toString();
        var a = this.datePipe.transform(now, 'dd MMM yyyy h:mm a');
        this.lgdate = 'at ' + a;
        this.tblName = 'tblpurchasedorder';
        this.tblName, this.tblId, this.usdId, this.acttype, this.name, this.lgdate;
        debugger;
        this.syncService.addLogs(this.tblName, this.tblId, this.usdId, this.acttype, this.name, this.lgdate).then(function (data) {
            console.log("Log has been added");
            _this.syncService.syncAddedLog();
            //this.GetLogs();
        });
    };
    AddpurchasedorderPage.prototype.getAllItemsLocal = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var loading;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create()];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        this.syncService.getAllActiveItems().then(function (data) {
                            _this.items = data;
                            // this.sortItems();
                            _this.activeItems = [];
                            for (var i = 0; i < _this.items.length; i++) {
                                if (_this.items[i].Active === 1) {
                                    _this.items[i]['Qty'] = 0;
                                    _this.activeItems.push(_this.items[i]);
                                }
                            }
                            // this.initializeItems();
                            _this.initializeActiveItems();
                            _this.databaseprovider.setupdateitems(0);
                            loading.dismiss();
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    AddpurchasedorderPage.prototype.syncAddedVendors = function () {
        var _this = this;
        this.syncService.syncAddedVendors().then(function (data) {
            if (data.length > 0) {
                var IDs_1 = [];
                for (var i = 0; i < data.length; i++) {
                    IDs_1[i] = data[i].ID;
                }
                var url = _this.databaseprovider.getURL();
                debugger;
                _this.nativeHttp.setDataSerializer("json");
                var nativeCall = _this.nativeHttp.post(url, {
                    'Name': 'syncAddedVendors',
                    "Vendors": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(function () { }))
                    .subscribe(function (data) {
                    console.log('Native data:', data);
                    var g = JSON.parse(data.data);
                    if (g.success === 1) {
                        // alert('success');
                        _this.syncService.updateSyncedVendors(IDs_1).then(function (data) {
                        });
                    }
                    else {
                        // alert('failed');
                    }
                    // this.initializeItems();
                }, function (err) {
                    console.log('JS call error', err);
                    var error = JSON.parse(err.error);
                    // alert(error.message);
                    console.log('Native data:', JSON.parse(error));
                });
                debugger;
            }
        });
    };
    AddpurchasedorderPage.prototype.syncAddedItems = function () {
        var _this = this;
        this.syncService.syncAddedItems().then(function (data) {
            if (data.length > 0) {
                var IDs_2 = [];
                for (var i = 0; i < data.length; i++) {
                    IDs_2[i] = data[i].itemid;
                }
                var url = _this.databaseprovider.getURL();
                debugger;
                _this.nativeHttp.setDataSerializer("json");
                var nativeCall = _this.nativeHttp.post(url, {
                    'Name': 'syncAddedItems',
                    "Items": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(function () { }))
                    .subscribe(function (data) {
                    console.log('Native data:', data);
                    var g = JSON.parse(data.data);
                    if (g.success === 1) {
                        // alert('success');
                        _this.syncService.updateSyncedItems(IDs_2).then(function (data) {
                        });
                    }
                    else {
                        // alert('failed');
                    }
                    // this.initializeItems();
                }, function (err) {
                    console.log('JS call error', err);
                    var error = JSON.parse(err.error);
                    // alert(error.message);
                    console.log('Native data:', JSON.parse(error));
                });
            }
            debugger;
        });
    };
    AddpurchasedorderPage.prototype.syncAddedPOs = function () {
        var _this = this;
        this.syncService.syncAddedPOS().then(function (data) {
            if (data.length > 0) {
                var IDs_3 = [];
                for (var i = 0; i < data.length; i++) {
                    IDs_3[i] = data[i].ID;
                }
                var url = _this.databaseprovider.getURL();
                debugger;
                _this.nativeHttp.setDataSerializer("json");
                var nativeCall = _this.nativeHttp.post(url, {
                    'Name': 'syncAddedPOs',
                    "POS": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(function () { }))
                    .subscribe(function (data) {
                    console.log('Native data:', data);
                    var g = JSON.parse(data.data);
                    if (g.success === 1) {
                        // alert('success');
                        _this.syncService.updateSyncedPOS(IDs_3).then(function (data) {
                        });
                        _this.syncService.syncAddedPOsItems().then(function (data) {
                            if (data.length > 0) {
                                var IDs_4 = [];
                                for (var i = 0; i < data.length; i++) {
                                    IDs_4[i] = data[i].ID;
                                }
                                var url_1 = _this.databaseprovider.getURL();
                                debugger;
                                _this.nativeHttp.setDataSerializer("json");
                                var nativeCall_1 = _this.nativeHttp.post(url_1, {
                                    'Name': 'syncAddedPOsItems',
                                    "POSItems": data
                                }, {
                                    'Content-Type': 'application/json',
                                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                });
                                Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall_1).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(function () { }))
                                    .subscribe(function (data) {
                                    console.log('Native data:', data);
                                    var g = JSON.parse(data.data);
                                    if (g.success === 1) {
                                        //alert('success');
                                        _this.syncService.updateSyncedPOSItems(IDs_4).then(function (data) {
                                        });
                                    }
                                    else {
                                        //alert('failed');
                                    }
                                    // this.initializeItems();
                                }, function (err) {
                                    console.log('JS call error', err);
                                    var error = JSON.parse(err.error);
                                    // alert(error.message);
                                    console.log('Native data:', JSON.parse(error));
                                });
                                debugger;
                            }
                        }).then(function (data4) {
                            _this.syncService.syncUpdatedItems().then(function (data) {
                                if (data.length > 0) {
                                    var IDs_5 = [];
                                    for (var i = 0; i < data.length; i++) {
                                        IDs_5[i] = data[i].itemid;
                                    }
                                    var url_2 = _this.databaseprovider.getURL();
                                    debugger;
                                    _this.nativeHttp.setDataSerializer("json");
                                    var nativeCall_2 = _this.nativeHttp.post(url_2, {
                                        'Name': 'syncUpdatedItems',
                                        "Items": data
                                    }, {
                                        'Content-Type': 'application/json',
                                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                    });
                                    Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall_2).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(function () { }))
                                        .subscribe(function (data) {
                                        console.log('Native data:', data);
                                        var g = JSON.parse(data.data);
                                        if (g.success === 1) {
                                            //alert('success Updated');
                                            _this.syncService.updateSyncedItems(IDs_5).then(function (data) {
                                            });
                                        }
                                        else {
                                            //  alert('failed');
                                        }
                                        // this.initializeItems();
                                    }, function (err) {
                                        console.log('JS call error', err);
                                        var error = JSON.parse(err.error);
                                        // alert(error.message);
                                        console.log('Native data:', JSON.parse(error));
                                    });
                                }
                                debugger;
                            }).then(function () {
                                _this.syncService.syncUpdatedVendors().then(function (data) {
                                    if (data.length > 0) {
                                        var IDs_6 = [];
                                        for (var i = 0; i < data.length; i++) {
                                            IDs_6[i] = data[i].ID;
                                        }
                                        var url_3 = _this.databaseprovider.getURL();
                                        debugger;
                                        _this.nativeHttp.setDataSerializer("json");
                                        var nativeCall_3 = _this.nativeHttp.post(url_3, {
                                            'Name': 'syncUpdatedVendors',
                                            "Vendors": data
                                        }, {
                                            'Content-Type': 'application/json',
                                            'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                        });
                                        Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall_3).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(function () { }))
                                            .subscribe(function (data) {
                                            console.log('Native data:', data);
                                            var g = JSON.parse(data.data);
                                            if (g.success === 1) {
                                                // alert('success');
                                                _this.syncService.updateSyncedVendors(IDs_6).then(function (data) {
                                                });
                                            }
                                            else {
                                                // alert('failed');
                                            }
                                            // this.initializeItems();
                                        }, function (err) {
                                            console.log('JS call error', err);
                                            var error = JSON.parse(err.error);
                                            // alert(error.message);
                                            console.log('Native data:', JSON.parse(error));
                                        });
                                        debugger;
                                    }
                                });
                            }).then(function () {
                                _this.syncService.syncAddedLedgerVendor().then(function (data) {
                                    if (data.length > 0) {
                                        var IDs_7 = [];
                                        for (var i = 0; i < data.length; i++) {
                                            IDs_7[i] = data[i].ID;
                                        }
                                        var url_4 = _this.databaseprovider.getURL();
                                        debugger;
                                        _this.nativeHttp.setDataSerializer("json");
                                        var nativeCall_4 = _this.nativeHttp.post(url_4, {
                                            'Name': 'syncAddedLedgerVendor',
                                            "Payments": data
                                        }, {
                                            'Content-Type': 'application/json',
                                            'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                        });
                                        Object(rxjs__WEBPACK_IMPORTED_MODULE_13__["from"])(nativeCall_4).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["finalize"])(function () { }))
                                            .subscribe(function (data) {
                                            console.log('Native data:', data);
                                            var g = JSON.parse(data.data);
                                            if (g.success === 1) {
                                                // alert('success');
                                                _this.syncService.updateSyncedAddedLedgerVendors(IDs_7).then(function (data) {
                                                });
                                            }
                                            else {
                                                // alert('failed');
                                            }
                                            // this.initializeItems();
                                        }, function (err) {
                                            console.log('JS call error', err);
                                            var error = JSON.parse(err.error);
                                            // alert(error.message);
                                            console.log('Native data:', JSON.parse(error));
                                        });
                                        debugger;
                                    }
                                });
                            });
                        });
                    }
                    else {
                        // alert('failed');
                    }
                    // this.initializeItems();
                }, function (err) {
                    console.log('JS call error', err);
                    var error = JSON.parse(err.error);
                    // alert(error.message);
                    console.log('Native data:', JSON.parse(error));
                });
                debugger;
            }
        });
    };
    AddpurchasedorderPage.prototype.emptyAlert = function (head, sub, msg) {
        this.alrtCtrl.create({
            header: head,
            subHeader: sub,
            message: msg,
            cssClass: 'alertSize',
            buttons: [
                {
                    text: 'OK',
                    cssClass: 'cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                }
            ]
        }).then(function (alert) { return alert.present(); });
    };
    AddpurchasedorderPage.prototype.update = function (searchbar, pos) {
        debugger;
        var tempSubtotal = 0;
        var q = parseInt(searchbar.srcElement.value);
        // tslint:disable-next-line: prefer-for-of
        for (var i = 0; i < this.tempActiveItems.length; i++) {
            if (i === pos) {
                tempSubtotal = tempSubtotal + (this.tempActiveItems[i].Rate * q);
            }
            else {
                tempSubtotal = tempSubtotal + (this.tempActiveItems[i].Rate * this.tempActiveItems[i].Qty);
            }
        }
        debugger;
        this.subtotal = tempSubtotal;
    };
    AddpurchasedorderPage.prototype.saveALert = function (head, sub, msg) {
        var _this = this;
        this.alrtCtrl.create({
            header: head,
            subHeader: sub,
            message: msg,
            cssClass: 'alertSize',
            buttons: [
                {
                    text: 'Cancel',
                    cssClass: 'customClass',
                    role: 'cancel',
                    handler: function () {
                        //  this.location.back();
                    }
                },
                {
                    text: 'Save',
                    handler: function () {
                        console.log('Confirm Ok');
                        if (_this.selectedVendorName !== '' && _this.selectedVendorName.length > 0 && _this.subtotal > 0) {
                            //this.savePO();
                            _this.savePOLocaldb();
                        }
                        else {
                            if (_this.selectedVendorName === '' || _this.selectedVendorName.length === 0) {
                                alert('Kindly select Vendor');
                            }
                            else {
                                alert('The price for the item(s) can not be 0');
                            }
                        }
                    }
                }
            ]
        }).then(function (alert) { return alert.present(); });
    };
    AddpurchasedorderPage.prototype.onChange = function (selected) {
        var fields = selected.split(',');
        this.selectedVendorName = fields[0];
        this.client = this.selectedVendorName;
        this.selectedVendorID = fields[1];
        this.selectedVendorSync = parseInt(fields[2]);
    };
    AddpurchasedorderPage.ctorParameters = function () { return [
        { type: _angular_common__WEBPACK_IMPORTED_MODULE_12__["Location"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"] },
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_11__["Storage"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["LoadingController"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"] },
        { type: _ionic_native_file_path_ngx__WEBPACK_IMPORTED_MODULE_4__["FilePath"] },
        { type: _angular_common__WEBPACK_IMPORTED_MODULE_12__["DatePipe"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Events"] },
        { type: _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_5__["File"] },
        { type: _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_6__["WebView"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ActionSheetController"] },
        { type: _ionic_native_Camera_ngx__WEBPACK_IMPORTED_MODULE_7__["Camera"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"] },
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_8__["HttpClient"] },
        { type: src_app_services_database_service__WEBPACK_IMPORTED_MODULE_10__["DatabaseService"] },
        { type: _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_14__["HTTP"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"] },
        { type: src_app_services_sync_service__WEBPACK_IMPORTED_MODULE_15__["SyncService"] },
        { type: _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_16__["Network"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"] }
    ]; };
    AddpurchasedorderPage = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-addpurchasedorder',
            template: __webpack_require__(/*! raw-loader!./addpurchasedorder.page.html */ "./node_modules/raw-loader/index.js!./src/app/pages/addpurchasedorder/addpurchasedorder.page.html"),
            styles: [__webpack_require__(/*! ./addpurchasedorder.page.scss */ "./src/app/pages/addpurchasedorder/addpurchasedorder.page.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common__WEBPACK_IMPORTED_MODULE_12__["Location"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_11__["Storage"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["LoadingController"],
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"],
            _ionic_native_file_path_ngx__WEBPACK_IMPORTED_MODULE_4__["FilePath"],
            _angular_common__WEBPACK_IMPORTED_MODULE_12__["DatePipe"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Events"],
            _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_5__["File"],
            _ionic_native_ionic_webview_ngx__WEBPACK_IMPORTED_MODULE_6__["WebView"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ActionSheetController"],
            _ionic_native_Camera_ngx__WEBPACK_IMPORTED_MODULE_7__["Camera"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_8__["HttpClient"],
            src_app_services_database_service__WEBPACK_IMPORTED_MODULE_10__["DatabaseService"],
            _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_14__["HTTP"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            src_app_services_sync_service__WEBPACK_IMPORTED_MODULE_15__["SyncService"],
            _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_16__["Network"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"]])
    ], AddpurchasedorderPage);
    return AddpurchasedorderPage;
}());



/***/ }),

/***/ "./src/app/services/database.service.ts":
/*!**********************************************!*\
  !*** ./src/app/services/database.service.ts ***!
  \**********************************************/
/*! exports provided: DatabaseService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DatabaseService", function() { return DatabaseService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_native_sqlite_porter_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/sqlite-porter/ngx */ "./node_modules/@ionic-native/sqlite-porter/ngx/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/sqlite/ngx */ "./node_modules/@ionic-native/sqlite/ngx/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");







var EXCEL_TYPE = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';
var EXCEL_EXTENSION = '.xlsx';
var DatabaseService = /** @class */ (function () {
    function DatabaseService(plt, sqlitePorter, sqlite, http) {
        var _this = this;
        this.plt = plt;
        this.sqlitePorter = sqlitePorter;
        this.sqlite = sqlite;
        this.http = http;
        this.dbReady = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"](false);
        this.developers = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"]([]);
        this.selectedItems = [];
        this.addInvoiceIems = [];
        this.clientvalue = 0;
        this.itemsvalue = 0;
        this.vendorsvalue = 0;
        this.expensesvalue = 0;
        this.clientLegdervalue = 0;
        this.vendorLedgervalue = 0;
        this.pos = 0;
        this.inviocevalue = 0;
        this.landing = 0;
        this.logsnav = 0;
        this.logsvalue = 0;
        this.salesbydayvalue = 1;
        this.showUsers = 0;
        this.showClients = 0;
        this.showItems = 0;
        this.from = 0;
        // url = 'http://192.168.10.6';
        // url = 'http://demoopm.tk';
        // url = 'http://navdalm-001-site30.ctempurl.com/haiderapp';
        //  url = 'https://www.softisans.com/APIFiles/Invoice/mobile-api.php'; // rizApp db // invoice.pk
        this.url = 'https://www.softisans.com/APIFiles/AdnanInvoice/mobile-api.php'; // adnanv1 db
        // url = 'http://tinyinvoice.invoice.pk/settings/All.php'; // tinyinvoice
        this.invoiceDetailItems = [];
        this.activeItemsList = [];
        this.plt.ready().then(function () {
            _this.sqlite.create({
                name: '16.db',
                location: 'default',
            })
                .then(function (db) {
                _this.database = db;
                _this.database;
                db.executeSql('CREATE TABLE IF NOT EXISTS accounts(`email` TEXT, `passcode` TEXT, `companyName` TEXT, `mysql` TEXT, `linkage` TEXT,`logup` INTEGER,unique (email, passcode))', [])
                    .then(function () { return console.log('Executed SQL'); })
                    .catch(function (e) { return console.log(e); });
                db.executeSql('CREATE TABLE IF NOT EXISTS info(`userid` TEXT, `companyName` TEXT,`linkage` TEXT,FOREIGN KEY(userid) REFERENCES accounts(passcode))', [])
                    .then(function () { return console.log('Executed SQL'); })
                    .catch(function (e) { return console.log(e); });
                db.executeSql('CREATE TABLE IF NOT EXISTS client(`userid` TEXT, `name` TEXT,`email` TEXT,`phone` INTEGER,`address` TEXT,`deleivry` TEXT,`date_added` TEXT,`date_modified` TEXT,`added_by` TEXT,`modified_by` TEXT)', [])
                    .then(function () { return console.log('Executed SQL'); })
                    .catch(function (e) { return console.log(e); });
                db.executeSql('CREATE TABLE IF NOT EXISTS comdata(`logo` TEXT, `trader` TEXT)', [])
                    .then(function () { return console.log('Executed SQL'); })
                    .catch(function (e) { return console.log(e); });
            })
                .catch(function (e) { return console.log(e); });
        });
    }
    DatabaseService.prototype.addinfo = function (userid, companyName, linkage) {
        var data = [userid, companyName, linkage];
        return this.database.executeSql("INSERT INTO  info (userid, companyName,linkage) VALUES (?,?,?)", data).then(function (data) {
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    DatabaseService.prototype.addcompanyData = function () {
        var _this = this;
        var data = ['/assets/134.png', 'Adnan Traders'];
        return this.database.executeSql('INSERT INTO product (logo, trader) VALUES (?, ?)', data).then(function (data) {
            _this.getAllAccountData();
        });
    };
    DatabaseService.prototype.addaccount = function (email, passcode) {
        var data = [email, passcode, 'Adnan Traders', '0', '/assets/134.png', '0'];
        return this.database.executeSql("INSERT INTO  accounts (email, passcode,companyName,mysql,linkage,logup) VALUES (?, ?,?,?,?,?)", data).then(function (data) {
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    DatabaseService.prototype.getAllAccount = function () {
        debugger;
        return this.database.executeSql("SELECT * FROM accounts", []).then(function (data) {
            var developers = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    console.log(developers);
                    developers.push({
                        email: data.rows.item(i).email,
                        passcode: data.rows.item(i).passcode,
                        companyName: data.rows.item(i).companyName,
                        mysql: data.rows.item(i).mysql,
                        linkage: data.rows.item(i).linkage,
                        logup: data.rows.item(i).logup,
                    });
                }
            }
            return developers;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    DatabaseService.prototype.getAccounts = function () {
        //const mysql = 0;
        return this.database.executeSql("SELECT * FROM accounts where mysql= 0", []).then(function (data) {
            var developers = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    console.log(developers);
                    developers.push({
                        email: data.rows.item(i).email,
                        passcode: data.rows.item(i).passcode,
                        companyName: data.rows.item(i).companyName,
                        mysql: data.rows.item(i).mysql,
                        linkage: data.rows.item(i).linkage,
                        logup: data.rows.item(i).logup,
                    });
                }
            }
            return developers;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    DatabaseService.prototype.updateAccounts = function () {
        var mysql = 1;
        return this.database.executeSql('UPDATE accounts SET mysql=?', [mysql]).then(function (data) {
            //  console.log(data);
        });
    };
    DatabaseService.prototype.getAllInfo = function () {
        return this.database.executeSql("SELECT * FROM info", []).then(function (data) {
            var developers = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    console.log(developers);
                    developers.push({
                        userid: data.rows.item(i).userid,
                        companyName: data.rows.item(i).companyName,
                        linkage: data.rows.item(i).linkage,
                    });
                }
            }
            return developers;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    DatabaseService.prototype.getAccount = function (passcode) {
        return this.database.executeSql('SELECT * FROM accounts  WHERE passcode = ?', [passcode]).then(function (data) {
            return {
                email: data.rows.item(0).email,
                passcode: data.rows.item(0).passcode,
                companyName: data.rows.item(0).companyName,
                mysql: data.rows.item(0).mysql,
                linkage: data.rows.item(0).linkage,
                logup: data.rows.item(0).logup,
            };
        });
    };
    DatabaseService.prototype.getAllAccountData = function () {
        debugger;
        return this.database.executeSql("SELECT * FROM comdata", []).then(function (data) {
            var developers = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    console.log(developers);
                    developers.push({
                        email: data.rows.item(i).email,
                        passcode: data.rows.item(i).passcode,
                        companyName: data.rows.item(i).companyName,
                        mysql: data.rows.item(i).mysql,
                        linkage: data.rows.item(i).linkage,
                        logup: data.rows.item(i).logup,
                    });
                }
            }
            return developers;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    DatabaseService.prototype.getLogAccount = function (logup) {
        return this.database.executeSql('SELECT COUNT(*) FROM accounts WHERE  logup = ?', [logup]).then(function (data) {
            if (data.rows.length == 0) {
                console.log("Search Failed");
            }
            else {
                console.log("Data Found");
            }
        });
    };
    DatabaseService.prototype.getAccountUpdate = function (passcode, companyName, linkage) {
        return this.database.executeSql('UPDATE accounts SET companyName=?,linkage=? WHERE passcode=?', [companyName, linkage, passcode]).then(function (data) {
            console.log(data);
        });
    };
    DatabaseService.prototype.getLogUpdate = function (passcode, isLoggedIn) {
        return this.database.executeSql('UPDATE accounts SET logup=? WHERE passcode=?', [isLoggedIn, passcode]).then(function (data) {
            console.log(data);
        });
    };
    DatabaseService.prototype.addClient = function (userid, name, email, phone, address, deleivry, date_added, date_modified, added_by, modified_by) {
        var data = [userid, name, email, phone, address, deleivry, date_added, date_modified, added_by, modified_by];
        return this.database.executeSql("INSERT INTO client (userid, name,email,phone,address,deleivry,date_added,date_modified,added_by,modified_by) VALUES (?,?,?,?,?,?,?,?,?,?)", data).then(function (data) {
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    DatabaseService.prototype.getAllClient = function () {
        return this.database.executeSql("SELECT * FROM client", []).then(function (data) {
            var developers = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    console.log(developers);
                    developers.push({
                        userid: data.rows.item(i).userid,
                        name: data.rows.item(i).name,
                        email: data.rows.item(i).email,
                        phone: data.rows.item(i).phone,
                        address: data.rows.item(i).address,
                        deleivry: data.rows.item(i).deleivry,
                        date_added: data.rows.item(i).date_added,
                        date_modified: data.rows.item(i).date_modified,
                        added_by: data.rows.item(i).added_by,
                        modified_by: data.rows.item(i).modified_by,
                    });
                }
            }
            return developers;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    DatabaseService.prototype.getDatabaseState = function () {
        return this.dbReady.asObservable();
    };
    // public exportAsExcelFile(json: any[], excelFileName: string): void {
    //        const worksheet: XLSX.WorkSheet = XLSX.utils.json_to_sheet(json);
    //        const workbook: XLSX.WorkBook = { Sheets: { data: worksheet }, SheetNames: ['data'] };
    //        const excelBuffer: any = XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });
    //        this.saveAsExcelFile(excelBuffer, excelFileName);
    //      }
    //      private saveAsExcelFile(buffer: any, fileName: string): void {
    //         const data: Blob = new Blob([buffer], {type: EXCEL_TYPE});
    //         FileSaver.saveAs(data, fileName + '_export_' + new  Date().getTime() + EXCEL_EXTENSION);
    //      }
    DatabaseService.prototype.pushItem = function (item) {
        debugger;
        var index = this.selectedItems.findIndex(function (x) { return x.name === item.name; });
        if (index !== -1) {
            // tslint:disable-next-line: radix
            var a = parseInt(this.selectedItems[index].menu_order) + 1;
            if (a === 1) {
                a = 2;
            }
            //this.selectedItems[index].qty = '' + a + '';
            this.selectedItems[index].menu_order = a;
        }
        else {
            item.menu_order = 1;
            this.selectedItems.push(item);
        }
    };
    DatabaseService.prototype.getSeletedItems = function () {
        debugger;
        return this.selectedItems;
    };
    DatabaseService.prototype.removeSelectedItem = function (pos) {
        this.selectedItems.splice(pos, 1);
    };
    DatabaseService.prototype.deleteAllSelectedItems = function () {
        this.selectedItems = [];
    };
    DatabaseService.prototype.saveArray = function (invoiceIems) {
        this.addInvoiceIems = invoiceIems;
        debugger;
    };
    DatabaseService.prototype.getArray = function () {
        return this.addInvoiceIems;
    };
    DatabaseService.prototype.setupdateclients = function (value) {
        this.clientvalue = value;
    };
    DatabaseService.prototype.getupdateclients = function () {
        return this.clientvalue;
    };
    DatabaseService.prototype.setupdatevendors = function (value) {
        this.vendorsvalue = value;
    };
    DatabaseService.prototype.getupdatevendors = function () {
        return this.vendorsvalue;
    };
    DatabaseService.prototype.setupdatePOS = function (value) {
        debugger;
        this.pos = value;
    };
    DatabaseService.prototype.getupdatePOS = function () {
        return this.pos;
    };
    DatabaseService.prototype.setupdateitems = function (value) {
        this.itemsvalue = value;
    };
    DatabaseService.prototype.getupdateitems = function () {
        return this.itemsvalue;
    };
    DatabaseService.prototype.setupdateexpenses = function (value) {
        this.expensesvalue = value;
    };
    DatabaseService.prototype.getupdateexpenses = function () {
        return this.expensesvalue;
    };
    DatabaseService.prototype.setupdateinvoice = function (value) {
        this.inviocevalue = value;
    };
    DatabaseService.prototype.getupdateinvoice = function () {
        return this.inviocevalue;
    };
    DatabaseService.prototype.setupdateclientLeger = function (value) {
        this.clientLegdervalue = value;
    };
    DatabaseService.prototype.getupdateclientLedger = function () {
        return this.clientLegdervalue;
    };
    DatabaseService.prototype.setupdatevendorLeger = function (value) {
        this.vendorLedgervalue = value;
    };
    DatabaseService.prototype.getupdatevendorLedger = function () {
        return this.vendorLedgervalue;
    };
    DatabaseService.prototype.setItemUrl = function (url) {
        this.itemUrl = url;
    };
    DatabaseService.prototype.getItemUrl = function () {
        return this.itemUrl;
    };
    DatabaseService.prototype.getURL = function () {
        return this.url;
    };
    DatabaseService.prototype.saveActiveItemsList = function (items) {
        this.activeItemsList = items;
    };
    DatabaseService.prototype.getActiveItemsList = function () {
        return this.activeItemsList;
    };
    DatabaseService.prototype.setLanding = function (value) {
        this.landing = value;
    };
    DatabaseService.prototype.getLanding = function () {
        console.log('landing:', this.landing);
        return this.landing;
    };
    DatabaseService.prototype.setLogsnav = function (value) {
        this.logsnav = value;
    };
    DatabaseService.prototype.getLogsnav = function () {
        return this.logsnav;
    };
    DatabaseService.prototype.setlogs = function (value) {
        this.logsvalue = value;
    };
    DatabaseService.prototype.getlogs = function () {
        return this.logsvalue;
    };
    DatabaseService.prototype.getSalesByDayValue = function () {
        return this.salesbydayvalue;
    };
    DatabaseService.prototype.setSalesByDayValue = function (value) {
        this.salesbydayvalue = value;
    };
    DatabaseService.prototype.setUsers = function (val) {
        this.showUsers = val;
    };
    DatabaseService.prototype.getShowUsers = function () {
        return this.showUsers;
    };
    DatabaseService.prototype.setFrom = function (value) {
        this.from = value;
    };
    DatabaseService.prototype.getFrom = function () {
        return this.from;
    };
    DatabaseService.prototype.setClients = function (val) {
        this.showClients = val;
    };
    DatabaseService.prototype.setItems = function (val) {
        this.showItems = val;
    };
    DatabaseService.ctorParameters = function () { return [
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"] },
        { type: _ionic_native_sqlite_porter_ngx__WEBPACK_IMPORTED_MODULE_3__["SQLitePorter"] },
        { type: _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_5__["SQLite"] },
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"] }
    ]; };
    DatabaseService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"], _ionic_native_sqlite_porter_ngx__WEBPACK_IMPORTED_MODULE_3__["SQLitePorter"], _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_5__["SQLite"], _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"]])
    ], DatabaseService);
    return DatabaseService;
}());



/***/ }),

/***/ "./src/app/services/sync.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/sync.service.ts ***!
  \******************************************/
/*! exports provided: SyncService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SyncService", function() { return SyncService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_native_sqlite_porter_ngx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic-native/sqlite-porter/ngx */ "./node_modules/@ionic-native/sqlite-porter/ngx/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/sqlite/ngx */ "./node_modules/@ionic-native/sqlite/ngx/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ionic-native/network/ngx */ "./node_modules/@ionic-native/network/ngx/index.js");
/* harmony import */ var _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ionic-native/http/ngx */ "./node_modules/@ionic-native/http/ngx/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var src_app_services_database_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! src/app/services/database.service */ "./src/app/services/database.service.ts");















var SyncService = /** @class */ (function () {
    function SyncService(plt, sqlitePorter, sqlite, http, router, storage, network, nativeHttp, databaseprovider, datePipe, loadingController) {
        var _this = this;
        this.plt = plt;
        this.sqlitePorter = sqlitePorter;
        this.sqlite = sqlite;
        this.http = http;
        this.router = router;
        this.storage = storage;
        this.network = network;
        this.nativeHttp = nativeHttp;
        this.databaseprovider = databaseprovider;
        this.datePipe = datePipe;
        this.loadingController = loadingController;
        this.dbReady = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](false);
        this.developers = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"]([]);
        this.updatedPOID = '';
        this.updatedIid = '';
        this.executed = 0;
        this.storage.get('userId').then(function (val) {
            _this.usdId = val;
            console.log(_this.usdId);
        });
        this.plt.ready().then(function () {
            _this.sqlite.create({
                name: '79.db',
                location: 'default',
            })
                .then(function (db) {
                _this.database = db;
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS items(`itemid` INTEGER PRIMARY KEY AUTOINCREMENT, `AccountId` VARCHAR, `Description` VARCHAR, `Rate` INTEGER, `Cost` INTEGER,`Instock` INTEGER,`Active` INTEGER,`Sync` INTEGER)', [])
                    .then(function () { return console.log('Executed Sync items'); })
                    .catch(function (e) { return console.log(e); });
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS clients(`Cid` INTEGER PRIMARY KEY AUTOINCREMENT, `AccountId` VARCHAR, `Fname` VARCHAR, `Lname` VARCHAR, `Shop` VARCHAR,`BillingAddress` VARCHAR,`City` VARCHAR,`Cell` VARCHAR,`Active` INTEGER,`Balance` INTEGER,`Sync` INTEGER)', [])
                    .then(function () { return console.log('Executed Sync Clients'); })
                    .catch(function (e) { return console.log(e); });
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS tblvendors(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `Name` VARCHAR, `Address` VARCHAR, `Phone` VARCHAR, `Email` VARCHAR,`bActive` INTEGER,`Balance` INTEGER,`Sync` INTEGER)', [])
                    .then(function () {
                    return console.log('Executed Sync Vendors');
                })
                    .catch(function (e) { return console.log(e); });
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS tblpurchasedorder(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `VendorID` INTEGER, `Date` VARCHAR, `ReceivedBy` VARCHAR, `Total` INTEGER,`Remarks` VARCHAR,`Discount` INTEGER,`Active` INTEGER,`Sync` INTEGER)', [])
                    .then(function () { return console.log('Executed Sync tblpurchasedorder'); })
                    .catch(function (e) { return console.log(e); });
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS tblpodetail(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `Poid` INTEGER, `ItemID` INTEGER, `Qty` INTEGER, `CostPrice` INTEGER,`Sync` INTEGER)', [])
                    .then(function () { return console.log('Executed Sync tblpodetail'); })
                    .catch(function (e) { return console.log(e); });
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS invoices(`Iid` INTEGER PRIMARY KEY AUTOINCREMENT, `AccountId` VARCHAR, `Cid` INTEGER, `Name` VARCHAR, `CreateDate` VARCHAR,`Terms` VARCHAR,`DueDate` VARCHAR,`Subtotal` INTEGER,`Discount` INTEGER,`Total` INTEGER,`Message` VARCHAR,`Status` VARCHAR,`Sync` INTEGER)', [])
                    .then(function () { return console.log('Executed Sync Invoices'); })
                    .catch(function (e) { return console.log(e); });
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS invoiceitems(`Iiid` INTEGER PRIMARY KEY AUTOINCREMENT, `Iid` INTEGER, `Itemid` INTEGER, `Qty` INTEGER, `CostPrice` INTEGER,`Sync` INTEGER)', [])
                    .then(function () { return console.log('Executed Sync invoiceitems'); })
                    .catch(function (e) { return console.log(e); });
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS tblledger(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `InvoiceID` INTEGER, `Date` VARCHAR, `Amount` INTEGER, `CustomerID` VARCHAR,`IsCredit` INTEGER, `Duedate` Date, `ByUserId` VARCHAR, `Remarks` VARCHAR,`Sync` INTEGER)', [])
                    .then(function () { return console.log('Executed Sync tblledger'); })
                    .catch(function (e) { return console.log(e); });
                // tslint:disable-next-line: max-line-length
                db.executeSql('DROP TABLE IF EXISTS tblUsers;')
                    .then(function () { return console.log('Executed Sync tblledger'); })
                    .catch(function (e) { return console.log(e); });
                db.executeSql('CREATE TABLE IF NOT EXISTS tblUsers(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `email` VARCHAR, `name` VARCHAR, `bActive` INTEGER,`Sync` INTEGER)', [])
                    .then(function () { return console.log('Executed Sync tblledger'); })
                    .catch(function (e) { return console.log(e); });
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS categories(`catid` INTEGER PRIMARY KEY AUTOINCREMENT, `name` VARCHAR, `active` INTEGER)', [])
                    .then(function () { return console.log('Executed Sync tblledger'); })
                    .catch(function (e) { return console.log(e); });
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS tblslides(`Id` INTEGER PRIMARY KEY AUTOINCREMENT, `slideNo` INTEGER, `slideHeading` VARCHAR, `slideText` VARCHAR, `slideImage` VARCHAR, `bActive` INTEGER)', [])
                    .then(function () { return console.log('Executed Sync tblledger'); })
                    .catch(function (e) { return console.log(e); });
                // tslint:disable-next-line: max-line-length
                db.executeSql('DROP TABLE IF EXISTS tblacl;')
                    .then(function () { return console.log('Executed Sync tblledger'); })
                    .catch(function (e) { return console.log(e); });
                db.executeSql('CREATE TABLE IF NOT EXISTS tblacl(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `name` VARCHAR, `userId` VARCHAR, `bValue` INTEGER,`Sync` INTEGER)', [])
                    .then(function () { return console.log('Executed Sync tblledger'); })
                    .catch(function (e) { return console.log(e); });
                db.executeSql('CREATE TABLE IF NOT EXISTS tblledgervendor(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `POID` INTEGER, `Date` VARCHAR, `Amount` INTEGER, `VendorID` VARCHAR,`IsCredit` INTEGER, `Duedate` Date, `ByUserId` VARCHAR, `Remarks` VARCHAR,`Sync` INTEGER)', [])
                    .then(function () { return console.log('Executed Sync tblledger'); })
                    .catch(function (e) { return console.log(e); });
                db.executeSql('CREATE TABLE IF NOT EXISTS POdel(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `POid` INTEGER)', [])
                    .then(function () { return console.log('Executed Sync POdel'); })
                    .catch(function (e) { return console.log(e); });
                db.executeSql('CREATE TABLE IF NOT EXISTS ledgerdel(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `Oid` INTEGER)', [])
                    .then(function () { return console.log('Executed Sync ledgerdel'); })
                    .catch(function (e) { return console.log(e); });
                db.executeSql('CREATE TABLE IF NOT EXISTS Invoicedel(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `Iid` INTEGER)', [])
                    .then(function () { return console.log('Executed Sync Invoicedel'); })
                    .catch(function (e) { return console.log(e); });
                db.executeSql('CREATE TABLE IF NOT EXISTS tblLogs(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `tableName` TEXT,`tableId` INTEGER,`userId` INTEGER,`actionType` TEXT,name TEXT,`dated` TEXT,`Sync` INTEGER)', [])
                    .then(function () { return console.log('Executed Sync tbllog'); })
                    .catch(function (e) { return console.log(e); });
                // tslint:disable-next-line: max-line-length
                db.executeSql('CREATE TABLE IF NOT EXISTS tblexpenses(`ID` INTEGER PRIMARY KEY AUTOINCREMENT, `AccountId` VARCHAR, `Name` VARCHAR, `Date` VARCHAR,`Amount` INTEGER, `Category` VARCHAR,`Description` VARCHAR,`Active` INTEGER,`Sync` INTEGER)', [])
                    .then(function () { return console.log('Executed Sync items'); })
                    .catch(function (e) { return console.log(e); });
                if (_this.network.type === 'none') {
                }
                else {
                    _this.serverSync();
                }
            })
                .catch(function (e) { return console.log(e); });
        });
    }
    SyncService.prototype.additem = function (Description, Rate, Cost) {
        var data = ['113008225657937776461', Description, Rate, Cost, 0, 1, 0];
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO  items (AccountId, Description,Rate,Cost,Instock,Active,Sync) VALUES (?,?,?,?,?,?,?)', data)
            .then(function (data) {
            console.log('successfully Created item');
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.getAllLogs = function () {
        return this.database.executeSql('SELECT * FROM tblLogs ORDER BY ID DESC', []).then(function (data) {
            var logs = [];
            ;
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    logs.push({
                        ID: data.rows.item(i).ID,
                        tableName: data.rows.item(i).tableName,
                        tableId: data.rows.item(i).tableId,
                        userId: data.rows.item(i).userId,
                        actionType: data.rows.item(i).actionType,
                        name: data.rows.item(i).name,
                        dated: data.rows.item(i).dated,
                    });
                }
            }
            ;
            console.log(logs);
            return logs;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getLogsPagination = function (from1) {
        // alert('from1' + from1);
        var total = 0;
        this.database.executeSql('SELECT * From tblLogs', []).then(function (data1) {
            // total = data1.rows.length;
            console.log('data from' + data1.rows.length);
            total = data1.rows.length;
        });
        return this.database.executeSql('SELECT * FROM tblLogs ORDER BY ID DESC limit ?, 10', [from1]).then(function (data) {
            var logs = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    logs.push({
                        Total: total,
                        ID: data.rows.item(i).ID,
                        tableName: data.rows.item(i).tableName,
                        tableId: data.rows.item(i).tableId,
                        userId: data.rows.item(i).userId,
                        actionType: data.rows.item(i).actionType,
                        name: data.rows.item(i).name,
                        dated: data.rows.item(i).dated,
                    });
                }
            }
            ;
            console.log(logs);
            return logs;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getAllItems = function () {
        return this.database.executeSql('SELECT * FROM items', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        itemid: data.rows.item(i).itemid,
                        AccountId: data.rows.item(i).AccountId,
                        Description: data.rows.item(i).Description,
                        Rate: data.rows.item(i).Rate,
                        Cost: data.rows.item(i).Cost,
                        Instock: data.rows.item(i).Instock,
                        Active: data.rows.item(i).Active,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getAllActiveItems = function () {
        return this.database.executeSql('SELECT * FROM items where Active=1 ORDER BY itemid', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        itemid: data.rows.item(i).itemid,
                        AccountId: data.rows.item(i).AccountId,
                        Description: data.rows.item(i).Description,
                        Rate: data.rows.item(i).Rate,
                        Cost: data.rows.item(i).Cost,
                        Instock: data.rows.item(i).Instock,
                        Active: data.rows.item(i).Active,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updateItem = function (Description, Rate, Cost, itemid, Sync) {
        return this.database.executeSql('UPDATE items SET Description=?,Rate=?,Cost=?,Sync=? WHERE itemid=?', [Description, Rate, Cost, Sync, itemid]).then(function (data) {
            console.log(data);
            return 1;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.deleteItem = function (itemid, Sync) {
        ;
        return this.database.executeSql('UPDATE items SET Active=0,Sync=? WHERE itemid=?', [Sync, itemid]).then(function (data) {
            console.log(data);
            return 1;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.activateItem = function (itemid, Sync) {
        ;
        return this.database.executeSql('UPDATE items SET Active=1,Sync=? WHERE itemid=?', [Sync, itemid]).then(function (data) {
            console.log(data);
            return 1;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.addclient = function (Fname, Lname, Shop, BillingAddress, City, Cell) {
        var data = ['113008225657937776461', Fname, Lname, Shop, BillingAddress, City, Cell, 1, 0, 0];
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO  clients (AccountId,Fname,Lname,Shop,BillingAddress,City,Cell,Active,Balance,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', data)
            .then(function (data) {
            console.log('successfully Created item');
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.addLogs = function (tableName, tableId, userId, actionType, name, dated) {
        var data = [tableName, tableId, userId, actionType, name, dated, 0];
        return this.database.executeSql('INSERT INTO  tblLogs (tableName,tableId,userId,actionType,name,dated,Sync) VALUES (?,?,?,?,?,?,?)', data)
            .then(function (data) {
            console.log('successfully Created Log');
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.getClientsonspot = function () {
        return this.database.executeSql('SELECT * FROM clients ORDER BY Cid DESC LIMIT 0, 1', []).then(function (data) {
            var clients = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    clients.push({
                        Cid: data.rows.item(i).Cid,
                        AccountId: data.rows.item(i).AccountId,
                        Fname: data.rows.item(i).Fname,
                        Lname: data.rows.item(i).Lname,
                        Shop: data.rows.item(i).Shop,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        City: data.rows.item(i).City,
                        Cell: data.rows.item(i).Cell,
                        Active: data.rows.item(i).Active,
                        Balance: data.rows.item(i).Balance,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(clients);
            return clients;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getAllClients = function () {
        return this.database.executeSql('SELECT * FROM clients where Active!=2', []).then(function (data) {
            var clients = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    clients.push({
                        Cid: data.rows.item(i).Cid,
                        AccountId: data.rows.item(i).AccountId,
                        Fname: data.rows.item(i).Fname,
                        Lname: data.rows.item(i).Lname,
                        Shop: data.rows.item(i).Shop,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        City: data.rows.item(i).City,
                        Cell: data.rows.item(i).Cell,
                        Active: data.rows.item(i).Active,
                        Balance: data.rows.item(i).Balance,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(clients);
            return clients;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getAllActiveClients = function () {
        return this.database.executeSql('SELECT * FROM clients where Active=1', []).then(function (data) {
            var clients = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    clients.push({
                        Cid: data.rows.item(i).Cid,
                        AccountId: data.rows.item(i).AccountId,
                        Fname: data.rows.item(i).Fname,
                        Lname: data.rows.item(i).Lname,
                        Shop: data.rows.item(i).Shop,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        City: data.rows.item(i).City,
                        Cell: data.rows.item(i).Cell,
                        Active: data.rows.item(i).Active,
                        Balance: data.rows.item(i).Balance,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(clients);
            return clients;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updateClient = function (Fname, Lname, Shop, BillingAddress, City, Cell, Cid, Balance, Sync) {
        return this.database.executeSql('UPDATE clients SET Fname=?,Lname=?,Shop=?,BillingAddress=?,City=?,Cell=?,Balance=?,Sync=? WHERE Cid=?', [Fname, Lname, Shop, BillingAddress, City, Cell, Balance, Sync, Cid]).then(function (data) {
            console.log(data);
            return 1;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.updateClientBalance = function (Cid, Balance) {
        return this.database.executeSql('UPDATE clients SET Balance=Balance+? WHERE Cid=?', [Balance, Cid]).then(function (data) {
            console.log(data);
            ;
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.deleteClient = function (Cid, Sync) {
        return this.database.executeSql('UPDATE clients SET Active=2,Sync=? WHERE Cid=?', [Sync, Cid]).then(function (data) {
            console.log(data);
            return 1;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.activateClient = function (Cid, Sync) {
        ;
        return this.database.executeSql('UPDATE clients SET Active=1,Sync=? WHERE Cid=?', [Sync, Cid]).then(function (data) {
            console.log(data);
            return 1;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.addvendor = function (Name, Address, Phone, Email) {
        var data = [Name, Address, Phone, Email, 1, 0, 0];
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO  tblvendors (Name,Address,Phone,Email,bActive,Balance,Sync) VALUES (?,?,?,?,?,?,?)', data)
            .then(function (data) {
            console.log('successfully Created item');
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.getAllVendors = function () {
        return this.database.executeSql('SELECT * FROM tblvendors', []).then(function (data) {
            var vedndors = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    vedndors.push({
                        ID: data.rows.item(i).ID,
                        Name: data.rows.item(i).Name,
                        Address: data.rows.item(i).Address,
                        Phone: data.rows.item(i).Phone,
                        Email: data.rows.item(i).Email,
                        bActive: data.rows.item(i).bActive,
                        Balance: data.rows.item(i).Balance,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            console.log(vedndors);
            return vedndors;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getVendorssonspot = function () {
        return this.database.executeSql('SELECT * FROM tblvendors ORDER BY ID DESC LIMIT 0, 1', []).then(function (data) {
            var vedndors = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    vedndors.push({
                        ID: data.rows.item(i).ID,
                        Name: data.rows.item(i).Name,
                        Address: data.rows.item(i).Address,
                        Phone: data.rows.item(i).Phone,
                        Email: data.rows.item(i).Email,
                        bActive: data.rows.item(i).bActive,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(vedndors);
            return vedndors;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getAllActiveVendors = function () {
        return this.database.executeSql('SELECT * FROM tblvendors where bActive=1', []).then(function (data) {
            var vedndors = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    vedndors.push({
                        ID: data.rows.item(i).ID,
                        Name: data.rows.item(i).Name,
                        Address: data.rows.item(i).Address,
                        Phone: data.rows.item(i).Phone,
                        Email: data.rows.item(i).Email,
                        bActive: data.rows.item(i).bActive,
                        Balance: data.rows.item(i).Balance,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(vedndors);
            return vedndors;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updateVendor = function (Name, Address, Phone, Email, ID, Balance, Sync) {
        return this.database.executeSql('UPDATE tblvendors SET Name=?,Address=?,Phone=?,Email=?,Balance=?,Sync=? WHERE ID=?', [Name, Address, Phone, Email, Balance, Sync, ID]).then(function (data) {
            console.log(data);
            return 1;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.deleteVendor = function (ID, Sync) {
        ;
        return this.database.executeSql('UPDATE tblvendors SET bActive=0,Sync=? WHERE ID=?', [Sync, ID]).then(function (data) {
            console.log(data);
            return 1;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.activateVendor = function (ID, Sync) {
        return this.database.executeSql('UPDATE tblvendors SET bActive=1,Sync=? WHERE ID=?', [Sync, ID]).then(function (data) {
            console.log(data);
            return 1;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.addPO = function (VendorID, VendorSync, date, ReceivedBy, Total, Remarks, Discount, Items) {
        var _this = this;
        var data = [VendorID, date, ReceivedBy, Total, Remarks, Discount, 1, 0];
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO  tblpurchasedorder (VendorID,Date,ReceivedBy,Total,Remarks,Discount,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
            .then(function (data) {
            console.log('successfully Created item');
            console.log(data.insertId);
            var rid = data.insertId;
            for (var i = 0; i < Items.length; i++) {
                var Id = Items[i].Id;
                var Qty = Items[i].Qty;
                var CostPrice = Items[i].CostPrice;
                var Sync = Items[i].Sync;
                var data1 = [rid, Id, Qty, CostPrice, 0];
                _this.database.executeSql('INSERT INTO  tblpodetail (Poid,ItemID,Qty,CostPrice,Sync) VALUES (?,?,?,?,?)', data1)
                    .then(function (data) {
                    console.log('successfully Add item');
                    return data;
                }, function (err) {
                    console.log('Error: ', err);
                    return err;
                });
                _this.database.executeSql('UPDATE items SET Instock=Instock+?,Sync=? where itemid=?', [Qty, Sync, Id])
                    .then(function (data) {
                    console.log('successfully Updated stock');
                    return data;
                }, function (err) {
                    console.log('Error: ', err);
                    return err;
                });
            }
            _this.database.executeSql('INSERT INTO  tblledgervendor (POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [rid, date, Total, VendorID, 0, null, 'rizwanali', Remarks, 0])
                .then(function (data) {
                console.log('successfully Added Ledger');
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            _this.database.executeSql('UPDATE tblvendors SET Balance=Balance+?,Sync=? WHERE ID=?', [Total, VendorSync, VendorID]).then(function (data) {
                console.log('vendorsBalnace' + data);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            return rid;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.getAllPOs = function () {
        return this.database.executeSql('Select tblpurchasedorder.ID,tblpurchasedorder.VendorID,tblpurchasedorder.Date,tblpurchasedorder.ReceivedBy,tblpurchasedorder.Total,tblpurchasedorder.Remarks,tblpurchasedorder.Discount,tblpurchasedorder.Active,tblpurchasedorder.Sync,tblvendors.Name,tblvendors.Address,tblvendors.Phone,tblvendors.Email,tblvendors.bActive from tblpurchasedorder,tblvendors WHERE tblpurchasedorder.VendorID=tblvendors.ID', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        ID: data.rows.item(i).ID,
                        VendorID: data.rows.item(i).VendorID,
                        Date: data.rows.item(i).Date,
                        ReceivedBy: data.rows.item(i).ReceivedBy,
                        Total: data.rows.item(i).Total,
                        Remarks: data.rows.item(i).Remarks,
                        Discount: data.rows.item(i).Discount,
                        Active: data.rows.item(i).Discount,
                        Sync: data.rows.item(i).Sync,
                        Name: data.rows.item(i).Name
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getPOItems = function (Poid) {
        return this.database.executeSql('Select items.Description,items.Sync,tblpodetail.ItemID As Id,tblpodetail.Qty,tblpodetail.CostPrice from items,tblpodetail WHERE tblpodetail.Poid=? AND items.itemid=tblpodetail.ItemID ORDER BY items.itemid', [Poid]).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        Description: data.rows.item(i).Description,
                        Sync: data.rows.item(i).Sync,
                        Id: data.rows.item(i).Id,
                        Qty: data.rows.item(i).Qty,
                        CostPrice: data.rows.item(i).CostPrice,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updatePO = function (PoId, VendorID, date, ReceivedBy, Total, Remarks, Discount, Items, vendorBalance) {
        var _this = this;
        this.database.executeSql('UPDATE tblvendors SET Balance=Balance+? WHERE ID=?', [vendorBalance, VendorID]).then(function (data) {
            console.log(data);
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
        this.database.executeSql('INSERT INTO POdel (POid)  VALUES (?)', [PoId])
            .then(function (data) {
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
        this.database.executeSql('DELETE from tblledgervendor where POID=?', [PoId])
            .then(function (data) {
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
        return this.database.executeSql('DELETE from tblpodetail where Poid=?', [PoId])
            .then(function (data) {
            console.log('successfully deleted POitems');
            _this.database.executeSql('DELETE from tblpurchasedorder where ID=?', [PoId])
                .then(function (data) {
                console.log('successfully deleted PO');
                var data1 = [VendorID, date, ReceivedBy, Total, Remarks, Discount, 1, 0];
                // tslint:disable-next-line: max-line-length
                _this.database.executeSql('INSERT INTO  tblpurchasedorder (VendorID,Date,ReceivedBy,Total,Remarks,Discount,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data1)
                    .then(function (data) {
                    console.log('successfully Created item');
                    console.log(data.insertId);
                    var rid = data.insertId;
                    console.log('rid:', data.insertId);
                    _this.updatedPOID = data.insertId;
                    _this.database.executeSql('UPDATE tblLogs SET tableId=? where tableName=? AND  tableId=?', [_this.updatedPOID, 'tblpurchasedorder', PoId])
                        .then(function (data) {
                        _this.AddLogUpdatedPO();
                    }, function (err) {
                        console.log('Error: ', err);
                        return err;
                    });
                    for (var i = 0; i < Items.length; i++) {
                        var Id = Items[i].Id;
                        var Qty = Items[i].Qty;
                        var CostPrice = Items[i].CostPrice;
                        var Stock = Items[i].Stock;
                        var Sync = Items[i].Sync;
                        var data2 = [rid, Id, Qty, CostPrice, 0];
                        _this.database.executeSql('INSERT INTO  tblpodetail (Poid,ItemID,Qty,CostPrice,Sync) VALUES (?,?,?,?,?)', data2)
                            .then(function (data) {
                            console.log('successfully Add item');
                            return data;
                        }, function (err) {
                            console.log('Error: ', err);
                            return err;
                        });
                        // this.AddLogUpdatedPO();
                        // if (Stock > 0) {
                        _this.database.executeSql('UPDATE items SET Instock=Instock+?,Sync=? where itemid=?', [Stock, Sync, Id])
                            .then(function (data) {
                            console.log('successfully Updated stock');
                            return data;
                        }, function (err) {
                            console.log('Error: ', err);
                            return err;
                        });
                        // }
                    }
                    _this.database.executeSql('INSERT INTO  tblledgervendor (POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [rid, date, Total, VendorID, 0, null, 'rizwanali', Remarks, 0])
                        .then(function (data) {
                        console.log('successfully Added Ledger');
                        return data;
                    }, function (err) {
                        console.log('Error: ', err);
                        return err;
                    });
                    return rid;
                }, function (err) {
                    console.log('Error: ', err);
                    return err;
                });
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.addInvoice = function (AccountId, Cid, CustomerSync, Name, CreateDate, Terms, DueDate, Items, Subtotal, Discount, Total, Message, Status) {
        var _this = this;
        var a = Math.round((new Date(CreateDate)).getTime() / 1000);
        var b = Math.round((new Date(DueDate)).getTime() / 1000);
        var data = [AccountId, Cid, Name, a, Terms, b, Subtotal, Discount, Total, Message, 1, 0];
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO  invoices (AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?)', data)
            .then(function (data) {
            console.log('successfully Created invoice');
            console.log(data.insertId);
            var Iid = data.insertId;
            for (var i = 0; i < Items.length; i++) {
                var Id = Items[i].Id;
                var Qty = Items[i].Qty;
                var CostPrice = Items[i].CostPrice;
                var Sync = Items[i].Sync;
                var data1 = [Iid, Id, Qty, CostPrice, 0];
                _this.database.executeSql('INSERT INTO  invoiceitems (Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?)', data1)
                    .then(function (data) {
                    console.log('successfully Add item');
                    return data;
                }, function (err) {
                    console.log('Error: ', err);
                    return err;
                });
                _this.database.executeSql('UPDATE items SET Instock=Instock-?,Sync=? where itemid=?', [Qty, Sync, Id])
                    .then(function (data) {
                    console.log('successfully Updated stock');
                    return data;
                }, function (err) {
                    console.log('Error: ', err);
                    return err;
                });
            }
            //clients not sync after adding
            _this.database.executeSql('UPDATE clients SET Balance=Balance+?,Sync=? WHERE Cid=?', [Total, CustomerSync, Cid]).then(function (data) {
                console.log(data);
                ;
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            //const date1 = this.datePipe.transform(CreateDate, 'dd MMM yyyy');
            //alert('da'+date1);
            _this.database.executeSql('INSERT INTO  tblledger (InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [Iid, a, Total, Cid, 0, b, 'rizwanali', Message, 0])
                .then(function (data) {
                console.log('successfully Added Ledger');
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            return Iid;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.getAllInvoices = function () {
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message,invoices.Status,invoices.Sync,clients.Fname,clients.Shop,clients.City,clients.Lname,clients.BillingAddress from invoices,clients WHERE invoices.Cid=clients.Cid', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: data.rows.item(i).CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: data.rows.item(i).DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Fname: data.rows.item(i).Fname,
                        Shop: data.rows.item(i).Shop,
                        City: data.rows.item(i).City,
                        Lname: data.rows.item(i).Lname,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        Status: data.rows.item(i).Status,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getAllInvoices2 = function () {
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message,invoices.Status,invoices.Sync,clients.Fname,clients.Shop,clients.City,clients.Lname,clients.BillingAddress,clients.Cell from invoices,clients WHERE invoices.Status=1 AND invoices.Cid=clients.Cid ORDER BY invoices.Iid DESC', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: data.rows.item(i).CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: data.rows.item(i).DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Fname: data.rows.item(i).Fname,
                        Shop: data.rows.item(i).Shop,
                        City: data.rows.item(i).City,
                        Lname: data.rows.item(i).Lname,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        Cell: data.rows.item(i).Cell,
                        Status: data.rows.item(i).Status,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.addUser = function (Email, Name) {
        var _this = this;
        var data = [Email, Name, 1, 0];
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO tblUsers(email,name,bActive,Sync) VALUES (?,?,?,?)', data)
            .then(function (data2) {
            var Iid = data2.insertId;
            console.log('successfully Created item');
            var data1 = ['Client Display', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data1)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data22 = ['Client Add', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data22)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data3 = ['Client Details', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data3)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data4 = ['Client Edit', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data4)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            // const data5 = [ 'Client Add', Iid, 1, 0];
            // // tslint:disable-next-line: max-line-length
            // this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data5)
            // .then(data3 => {
            //   console.log('successfully Created item');
            //   return data3;
            // }, err => {
            //   console.log('Error: ', err);
            //   return err;
            // });
            var data6 = ['Item Display', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data6)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data7 = ['Item Add', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data7)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data8 = ['Item Details', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data8)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data9 = ['Item Edit', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data9)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data10 = ['Vendor Display', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data10)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data11 = ['Vendor Add', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data11)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data12 = ['Vendor Details', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data12)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data13 = ['Vendor Edit', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data13)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data14 = ['Expense Display', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data14)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data21 = ['Expense Add', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data21)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data15 = ['Expense Details', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data15)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data16 = ['Expense Edit', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data16)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data17 = ['Invoice Display', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data17)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data18 = ['Invoice Add', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data18)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data19 = ['Invoice Details', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data19)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data26 = ['PO Display', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data26)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data24 = ['PO Add', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data24)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data25 = ['PO Details', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data25)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            // const data20 = [ 'Order Edit', Iid, 0, 0];
            // // tslint:disable-next-line: max-line-length
            // this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data20)
            // .then(data3 => {
            //   console.log('successfully Created item');
            //   return data3;
            // }, err => {
            //   console.log('Error: ', err);
            //   return err;
            // });
            var data23 = ['Log Display', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data23)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            var data27 = ['Report Display', Iid, 0, 0];
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data27)
                .then(function (data3) {
                console.log('successfully Created item');
                return data3;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            // const data24 = [ 'User Display', Iid, 0, 0];
            // // tslint:disable-next-line: max-line-length
            // this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data24)
            // .then(data3 => {
            //   console.log('successfully Created item');
            //   return data3;
            // }, err => {
            //   console.log('Error: ', err);
            //   return err;
            // });
            // const data26 = [ 'User Add', Iid, 0, 0];
            // // tslint:disable-next-line: max-line-length
            // this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data26)
            // .then(data3 => {
            //   console.log('successfully Created item');
            //   return data3;
            // }, err => {
            //   console.log('Error: ', err);
            //   return err;
            // });
            // const data25 = [ 'User Add', Iid, 0, 0];
            // // tslint:disable-next-line: max-line-length
            // this.database.executeSql('INSERT INTO tblacl(name,userId,bValue,Sync) VALUES (?,?,?,?)', data25)
            // .then(data3 => {
            //   console.log('successfully Created item');
            //   return data3;
            // }, err => {
            //   console.log('Error: ', err);
            //   return err;
            // });
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.updateUser = function (ID, Name, Email, Sync) {
        // alert('ID = ' + ID + 'name = ' + Name + 'email = ' + Email + 'Sync = ' + Sync )
        return this.database.executeSql('UPDATE tblUsers SET email=?,name=?,Sync=? WHERE ID=?', [Email, Name, Sync, ID]).then(function (data) {
            console.log(data);
            return 1;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.deleteUser = function (ID, Sync) {
        return this.database.executeSql('UPDATE tblUsers SET bActive=0,Sync=? WHERE ID=?', [Sync, ID]).then(function (data) {
            console.log(data);
            return 1;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.activateUser = function (ID, Sync) {
        ;
        return this.database.executeSql('UPDATE tblUsers SET bActive=1,Sync=? WHERE ID=?', [Sync, ID]).then(function (data) {
            console.log(data);
            return 1;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.syncAddedUsers = function () {
        return this.database.executeSql('SELECT * FROM tblUsers where Sync=0', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        email: data.rows.item(i).email,
                        name: data.rows.item(i).name,
                        bActive: data.rows.item(i).bActive,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getUser = function (id, url) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var loading;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create()];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        this.database.executeSql('SELECT * FROM tblUsers WHERE ID=?', [id]).then(function (data) {
                            var items = [];
                            if (data.rows.length > 0) {
                                for (var i = 0; i < data.rows.length; i++) {
                                    items.push({
                                        ID: data.rows.item(i).ID,
                                        email: data.rows.item(i).email,
                                        name: data.rows.item(i).name,
                                        bActive: data.rows.item(i).bActive,
                                        Sync: data.rows.item(i).Sync,
                                    });
                                }
                            }
                            console.log(items);
                            var navigationExtras = {
                                state: {
                                    edititem: items[0],
                                    url: url
                                }
                            };
                            _this.router.navigate(['userdetails'], navigationExtras);
                            loading.dismiss();
                            //return items;
                        }, function (err) {
                            console.log('Error: ', err);
                            return [];
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    SyncService.prototype.getAllUser = function () {
        return this.database.executeSql('SELECT * FROM tblUsers where email!=?', ['test@rizwanali.pk']).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        email: data.rows.item(i).email,
                        name: data.rows.item(i).name,
                        bActive: data.rows.item(i).bActive,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            // alert('active' + items.length)
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getUserssonspot = function () {
        return this.database.executeSql('SELECT * FROM tblUsers ORDER BY ID DESC LIMIT 0, 1', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updateSyncedUsers = function (IDs) {
        for (var i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  tblUsers Set Sync=1 where ID=?', [IDs[i]]).then(function (data) {
                console.log(data);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return [];
            });
        }
    };
    SyncService.prototype.syncUpdatedUsers = function () {
        return this.database.executeSql('SELECT * FROM tblUsers where Sync=2', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        email: data.rows.item(i).email,
                        name: data.rows.item(i).name,
                        bActive: data.rows.item(i).bActive,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getInvoices2Pagination = function (from1) {
        var _this = this;
        // alert('y')
        var total = 0;
        this.database.executeSql('SELECT * From invoices', []).then(function (data1) {
            // total = data1.rows.length;
            console.log('data from' + data1.rows.length);
            total = data1.rows.length;
            total = data1.rows.length;
            //  alert('s' +  data1.rows.length)
        });
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message,invoices.Status,invoices.Sync,clients.Fname,clients.Shop,clients.City,clients.Lname,clients.BillingAddress,clients.Cell,clients.Sync AS clientSync from invoices,clients WHERE invoices.Status!=0 AND invoices.Cid=clients.Cid ORDER BY invoices.Iid DESC limit ?, 10', [from1]).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    var z = new Date(parseInt(data.rows.item(i).CreateDate) * 1000).toString();
                    var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    var y = new Date(parseInt(data.rows.item(i).DueDate) * 1000).toString();
                    var DueDate = _this.datePipe.transform(y, 'dd MMM yyyy');
                    Pos.push({
                        Total1: total,
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        clientSync: data.rows.item(i).clientSync,
                        CreateDate: CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Fname: data.rows.item(i).Fname,
                        Shop: data.rows.item(i).Shop,
                        City: data.rows.item(i).City,
                        Lname: data.rows.item(i).Lname,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        Cell: data.rows.item(i).Cell,
                        Status: data.rows.item(i).Status,
                        Sync: data.rows.item(i).Sync,
                    });
                }
                // alert('data.rows.length' + data.rows.item(0).Iid);
            }
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.syncUpdatedOrder = function () {
        return this.database.executeSql('SELECT * From invoices where Sync=2', []).then(function (data) {
            var Pos = [];
            // alert('syncupdatedorder ' + data.rows.length)
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: data.rows.item(i).CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: data.rows.item(i).DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Status: data.rows.item(i).Status,
                    });
                }
            }
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.syncUpdatedInvoicesItems = function () {
        return this.database.executeSql('Select * from invoiceitems where Sync=2', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iiid: data.rows.item(i).Iiid,
                        Iid: data.rows.item(i).Iid,
                        Itemid: data.rows.item(i).Itemid,
                        Qty: data.rows.item(i).Qty,
                        CostPrice: data.rows.item(i).CostPrice,
                    });
                }
            }
            ;
            // alert('invoiceitems  =  ' + Pos.length)
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.syncDeletedLedger = function () {
        return this.database.executeSql('SELECT * FROM ledgerdel', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        Oid: data.rows.item(i).Oid,
                    });
                }
            }
            ;
            // alert('Deleted OID ' + items.length)
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updatedSyncedDeletedLedger = function (IDs) {
        for (var i = 0; i < IDs.length; i++) {
            return this.database.executeSql('Delete from ledgerdel where Oid=?', [IDs[i]]).then(function (data) {
                console.log(data);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return [];
            });
        }
    };
    SyncService.prototype.getAllInvoices3 = function () {
        var _this = this;
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message,invoices.Status,invoices.Sync,clients.Fname,clients.Shop,clients.City,clients.Lname,clients.BillingAddress from invoices,clients WHERE invoices.Status=0 AND invoices.Cid=clients.Cid ORDER BY invoices.Iid DESC', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    var z = new Date(parseInt(data.rows.item(i).CreateDate) * 1000).toString();
                    var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    var y = new Date(parseInt(data.rows.item(i).DueDate) * 1000).toString();
                    var DueDate = _this.datePipe.transform(y, 'dd MMM yyyy');
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Fname: data.rows.item(i).Fname,
                        Shop: data.rows.item(i).Shop,
                        City: data.rows.item(i).City,
                        Lname: data.rows.item(i).Lname,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        Status: data.rows.item(i).Status,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getAllInvoices1 = function (ID) {
        return this.database.executeSql('Select *From invoices  where Iid=?', [ID]).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: data.rows.item(i).CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: data.rows.item(i).DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Fname: data.rows.item(i).Fname,
                        Shop: data.rows.item(i).Shop,
                        City: data.rows.item(i).City,
                        Lname: data.rows.item(i).Lname,
                        BillingAddress: data.rows.item(i).BillingAddress
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getInvoiceItems = function (Iid) {
        return this.database.executeSql('Select invoiceitems.Iiid,items.Description,items.Instock,items.Sync,invoiceitems.ItemID As Id,invoiceitems.Qty,invoiceitems.CostPrice from items,invoiceitems WHERE invoiceitems.Iid=? AND items.itemid=invoiceitems.Itemid ORDER BY items.itemid', [Iid]).then(function (data) {
            var items = [];
            var Instock = 0;
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Instock = data.rows.item(i).Instock + data.rows.item(i).Qty;
                    items.push({
                        Iiid: data.rows.item(i).Iiid,
                        Description: data.rows.item(i).Description,
                        Instock: Instock,
                        Sync: data.rows.item(i).Sync,
                        Id: data.rows.item(i).Id,
                        Qty: data.rows.item(i).Qty,
                        CostPrice: data.rows.item(i).CostPrice
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getInvoiceCred = function (Iid) {
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message from invoices  WHERE invoices.Iid=? ', [Iid]).then(function (data) {
            var items = [];
            ;
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: data.rows.item(i).CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: data.rows.item(i).DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.deleteBalance = function (Iid) {
        var _this = this;
        ;
        return this.getInvoiceCred(Iid).then(function (Items) {
            for (var i = 0; i <= Items.length; i++) {
                _this.database.executeSql('UPDATE clients SET Balance=Balance-? where Cid=?', [Items[i].Total, Items[i].Cid])
                    .then(function (data) {
                    console.log('successfully Updated Balance');
                    return data;
                }, function (err) {
                    console.log('Error: ', err);
                    return err;
                });
            }
        });
    };
    SyncService.prototype.getCustomerbalance = function (CustomerID) {
        var items = [];
        var result = {
            Amount: 0,
            TotalDebit: 0,
            TotalCredit: 0
        };
        this.database.executeSql('SELECT Amount  FROM tblledger where CustomerID=? AND IsCredit=1 ORDER BY Date DESC limit 1', [CustomerID])
            .then(function (data) {
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    if (data.rows.item(i).Amount === null) {
                        result.Amount = 0;
                    }
                    else {
                        result.Amount = data.rows.item(i).Amount;
                    }
                }
            }
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
        this.database.executeSql('SELECT SUM(Amount) AS TotalDebit FROM tblledger where CustomerID=? AND IsCredit=0', [CustomerID])
            .then(function (data1) {
            if (data1.rows.length > 0) {
                for (var i = 0; i < data1.rows.length; i++) {
                    result.TotalDebit = data1.rows.item(i).TotalDebit;
                }
            }
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
        return this.database.executeSql('SELECT SUM(Amount) AS TotalCredit FROM tblledger where CustomerID=? AND IsCredit=1', [CustomerID])
            .then(function (data2) {
            if (data2.rows.length > 0) {
                for (var i = 0; i < data2.rows.length; i++) {
                    if (data2.rows.item(i).TotalCredit === null) {
                        result.TotalCredit = 0;
                    }
                    else {
                        result.TotalCredit = data2.rows.item(i).TotalCredit;
                    }
                }
            }
            return result;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.updateInvoice = function (invoiceId, AccountId, Cid, Name, CreateDate, Terms, DueDate, Items, Subtotal, Discount, Total, Message, Status, CustomerBalance) {
        var _this = this;
        this.database.executeSql('UPDATE clients SET Balance=Balance+? WHERE Cid=?', [CustomerBalance, Cid]).then(function (data) {
            console.log(data);
            ;
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
        this.database.executeSql('INSERT INTO Invoicedel (Iid)  VALUES (?)', [invoiceId])
            .then(function (data) {
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
        this.database.executeSql('DELETE from tblledger where InvoiceID=?', [invoiceId])
            .then(function (data) {
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
        return this.database.executeSql('DELETE from invoiceitems where Iid=?', [invoiceId])
            .then(function (data) {
            console.log('successfully deleted Invoiceitems');
            _this.database.executeSql('DELETE from invoices where Iid=?', [invoiceId])
                .then(function (data1) {
                console.log('successfully deleted Invoice');
                var data7 = [AccountId, Cid, Name, CreateDate, Terms, DueDate, Subtotal, Discount, Total, Message, Status, 0];
                // tslint:disable-next-line: max-line-length
                return _this.database.executeSql('INSERT INTO  invoices (AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?)', data7)
                    .then(function (data2) {
                    console.log('successfully Created invoice');
                    console.log(data2.insertId);
                    var Iid = data2.insertId;
                    _this.updatedIid = data2.insertId;
                    _this.database.executeSql('UPDATE tblLogs SET tableId=? where tableName=? AND  tableId=?', [_this.updatedIid, 'invoices', invoiceId])
                        .then(function (data) {
                        _this.AddLogUpdatedInvoice();
                    }, function (err) {
                        console.log('Error: ', err);
                        return err;
                    });
                    for (var i = 0; i < Items.length; i++) {
                        var Id = Items[i].Id;
                        var Qty = Items[i].Qty;
                        var CostPrice = Items[i].CostPrice;
                        var stock = Items[i].stock;
                        var Sync = Items[i].Sync;
                        var data3 = [Iid, Id, Qty, CostPrice, 0];
                        _this.database.executeSql('INSERT INTO  invoiceitems (Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?)', data3)
                            .then(function (data4) {
                            console.log('successfully Add item');
                            return data4;
                        }, function (err) {
                            console.log('Error: ', err);
                            return err;
                        });
                        _this.database.executeSql('UPDATE items SET Instock=Instock-?,Sync=? where itemid=?', [stock, Sync, Id])
                            .then(function (data5) {
                            console.log('successfully Updated stock');
                            return data5;
                        }, function (err) {
                            console.log('Error: ', err);
                            return err;
                        });
                    }
                    // this.AddLogUpdatedInvoice();
                    _this.database.executeSql('INSERT INTO  tblledger (InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks) VALUES (?,?,?,?,?,?,?,?)', [Iid, CreateDate, Total, Cid, 0, DueDate, 'rizwanali', Message])
                        .then(function (data6) {
                        console.log('successfully Updated Ledger');
                        return data6;
                    }, function (err) {
                        console.log('Error: ', err);
                        return err;
                    });
                }, function (err) {
                    console.log('Error: ', err);
                    return err;
                });
            }, function (err) {
                console.log('Error:1 ', err);
                return err;
            });
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.updateOrder = function (invoiceId, AccountId, Cid, Name, CreateDate, Terms, DueDate, Items, Subtotal, Discount, Total, Message, Status, CustomerBalance, clientSync, invoiceSync) {
        var _this = this;
        var a = Math.round((new Date(CreateDate)).getTime() / 1000);
        var b = Math.round((new Date(DueDate)).getTime() / 1000);
        this.database.executeSql('UPDATE clients SET Balance=Balance+?,Sync=? WHERE Cid=?', [CustomerBalance, clientSync, Cid]).then(function (data) {
            console.log(data);
            ;
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
        // this.database.executeSql('UPDATE tblvendors SET Balance=Balance+?,Sync=? WHERE ID=?',[CustomerBalance, VendorSync, VendorID]).then(data => {
        //   console.log(data);
        //   return data;
        // }, err => {
        //   console.log('Error: ', err);
        //   return err;
        // });
        // this.database.executeSql('INSERT INTO Invoicedel (Iid)  VALUES (?)', [invoiceId])
        //  .then(data => {
        //  }, err => {
        //    console.log('Error: ', err);
        //    return err;
        //  });
        this.database.executeSql('DELETE from tblledger where InvoiceID=?', [invoiceId])
            .then(function (data) {
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
        // this.database.executeSql('DELETE from tblledgervendor where POID=?', [invoiceId])
        //  .then(data => {
        //  }, err => {
        //    console.log('Error: ', err);
        //    return err;
        //  });
        this.database.executeSql('INSERT INTO ledgerdel (Oid) VALUES (?)', [invoiceId])
            .then(function (data) {
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
        return this.database.executeSql('DELETE from invoiceitems where Iid=?', [invoiceId])
            .then(function (data) {
            // alert('successfully deleted Invoiceitems');
            console.log('successfully deleted Invoiceitems');
            _this.database.executeSql('DELETE from invoices where Iid=?', [invoiceId])
                .then(function (data1) {
                // alert('successfully deleted Invoice');
                // alert('invoiceSync = ' + invoiceSync)
                console.log('successfully deleted Invoice');
                var data7 = [invoiceId, AccountId, Cid, Name, a, Terms, b, Subtotal, Discount, Total, Message, Status, invoiceSync];
                // tslint:disable-next-line: max-line-length
                return _this.database.executeSql('INSERT INTO  invoices (Iid,AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)', data7)
                    .then(function (data2) {
                    // alert('successfully Created invoice');
                    console.log('successfully Created invoice');
                    console.log(data2.insertId);
                    var Iid = data2.insertId;
                    _this.updatedIid = data2.insertId;
                    _this.database.executeSql('UPDATE tblLogs SET tableId=? where tableName=? AND  tableId=?', [invoiceId, 'invoices', invoiceId])
                        .then(function (data) {
                        _this.AddLogUpdatedInvoice();
                    }, function (err) {
                        console.log('Error: ', err);
                        return err;
                    });
                    for (var i = 0; i < Items.length; i++) {
                        var Iiid = Items[i].Iiid;
                        var Id = Items[i].Id;
                        var Qty = Items[i].Qty;
                        var CostPrice = Items[i].CostPrice;
                        var stock = Items[i].stock;
                        var Sync = Items[i].Sync;
                        var data3 = [Iiid, invoiceId, Id, Qty, CostPrice, Sync];
                        _this.database.executeSql('INSERT INTO  invoiceitems (Iiid,Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data3)
                            .then(function (data4) {
                            console.log('successfully Add item');
                            return data4;
                        }, function (err) {
                            console.log('Error: ', err);
                            return err;
                        });
                        _this.database.executeSql('UPDATE items SET Instock=Instock-?,Sync=? where itemid=?', [stock, Sync, Id])
                            .then(function (data5) {
                            console.log('successfully Updated stock');
                            return data5;
                        }, function (err) {
                            console.log('Error: ', err);
                            return err;
                        });
                    }
                    // this.AddLogUpdatedInvoice();
                    _this.database.executeSql('INSERT INTO  tblledger (InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [invoiceId, a, Total, Cid, 0, b, 'rizwanali', Message, 0])
                        .then(function (data6) {
                        // alert('successfully Added client Ledger')
                        console.log('successfully Updated Ledger');
                        return data6;
                    }, function (err) {
                        console.log('Error: ', err);
                        return err;
                    });
                    // this.database.executeSql('INSERT INTO  tblledgervendor (POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [invoiceId, CreateDate, Total, VendorID, 0, null, 'rizwanali', Message, 0])
                    // .then(data => {
                    //  // alert('successfully Updated venfor ledger')
                    //   console.log('successfully Added Ledger');
                    //   return data;
                    // }, err => {
                    //   console.log('Error: ', err);
                    //   return err;
                    // });
                }, function (err) {
                    console.log('Error: ', err);
                    return err;
                });
            }, function (err) {
                console.log('Error:1 ', err);
                return err;
            });
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.updateInvoicePayment = function (invoiceId, AccountId, Cid, Name, CreateDate, Terms, DueDate, Items, Subtotal, Discount, Total, PaidDate, Paid, Message, Status) {
        var _this = this;
        return this.database.executeSql('DELETE from invoiceitems where Iid=?', [invoiceId])
            .then(function (data) {
            console.log('successfully deleted Invoiceitems');
            _this.database.executeSql('DELETE from invoices where Iid=?', [invoiceId])
                .then(function (data1) {
                console.log('successfully deleted Invoice');
                var data7 = [AccountId, Cid, Name, CreateDate, Terms, DueDate, Subtotal, Discount, Total, Message, 0];
                // tslint:disable-next-line: max-line-length
                return _this.database.executeSql('INSERT INTO  invoices (AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?)', data7)
                    .then(function (data2) {
                    console.log('successfully Created invoice');
                    console.log(data2.insertId);
                    var Iid = data2.insertId;
                    for (var i = 0; i < Items.length; i++) {
                        var Id = Items[i].Id;
                        var Qty = Items[i].Qty;
                        var CostPrice = Items[i].CostPrice;
                        var stock = Items[i].stock;
                        var data3_1 = [Iid, Id, Qty, CostPrice, 0];
                        _this.database.executeSql('INSERT INTO  invoiceitems (Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?)', data3_1)
                            .then(function (data4) {
                            console.log('successfully Add item');
                            return data4;
                        }, function (err) {
                            console.log('Error: ', err);
                            return err;
                        });
                        _this.database.executeSql('UPDATE items SET Instock=Instock-? where itemid=?', [stock, Id])
                            .then(function (data5) {
                            console.log('successfully Updated stock');
                            return data5;
                        }, function (err) {
                            console.log('Error: ', err);
                            return err;
                        });
                    }
                    //  this.database.executeSql('INSERT INTO  tblledger (InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks) VALUES (?,?,?,?,?,?,?,?)', [Iid, CreateDate, Total, Cid, 0, DueDate, 'rizwanali', Message])
                    //  .then(data6 => {
                    //    console.log('successfully Updated Ledger');
                    //    return data6;
                    //  }, err => {
                    //    console.log('Error: ', err);
                    //    return err;
                    //  });
                    var data3 = [Iid, PaidDate, Paid, Cid, 1, null, 'rizeanali', null, 0];
                    //  const data3 = [ Iid, PaidDate, Paid, Cid, 1, PaidDate, 'rizeanali', null, 0];
                    _this.database.executeSql('INSERT INTO  tblledger(InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data3)
                        .then(function (data4) {
                        console.log('successfully Add Payment');
                        return data4;
                    }, function (err) {
                        console.log('Error: ', err);
                        return err;
                    });
                }, function (err) {
                    console.log('Error: ', err);
                    return err;
                });
            }, function (err) {
                console.log('Error:1 ', err);
                return err;
            });
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.syncAddedItems = function () {
        var _this = this;
        return this.database.executeSql('SELECT * FROM items where Sync=0', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        itemid: data.rows.item(i).itemid,
                        AccountId: data.rows.item(i).AccountId,
                        Description: data.rows.item(i).Description,
                        Rate: data.rows.item(i).Rate,
                        Cost: data.rows.item(i).Cost,
                        Instock: data.rows.item(i).Instock,
                        Active: data.rows.item(i).Active,
                    });
                    _this.database.executeSql('UPDATE  items Set Sync=1 where itemid=?', [data.rows.item(i).itemid]).then(function (data) {
                        console.log('y' + data);
                        return data;
                    }, function (err) {
                        console.log('Error: ', err);
                        return [];
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.syncUpdatedItems = function () {
        return this.database.executeSql('SELECT * FROM items where Sync=2', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        itemid: data.rows.item(i).itemid,
                        Description: data.rows.item(i).Description,
                        Rate: data.rows.item(i).Rate,
                        Cost: data.rows.item(i).Cost,
                        Instock: data.rows.item(i).Instock,
                        Active: data.rows.item(i).Active,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getItemssonspot = function () {
        return this.database.executeSql('SELECT * FROM items ORDER BY itemid DESC LIMIT 0, 1', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        itemid: data.rows.item(i).itemid,
                        Description: data.rows.item(i).Description,
                        Rate: data.rows.item(i).Rate,
                        Cost: data.rows.item(i).Cost,
                        Instock: data.rows.item(i).Instock,
                        Active: data.rows.item(i).Active,
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updateSyncedItems = function (IDs) {
        for (var i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  items Set Sync=1 where itemid=?', [IDs[i]]).then(function (data) {
                console.log(data);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return [];
            });
        }
    };
    SyncService.prototype.syncAddedClients = function () {
        return this.database.executeSql('SELECT * FROM clients where Sync=0', []).then(function (data) {
            var clients = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    clients.push({
                        Cid: data.rows.item(i).Cid,
                        AccountId: data.rows.item(i).AccountId,
                        Fname: data.rows.item(i).Fname,
                        Lname: data.rows.item(i).Lname,
                        Shop: data.rows.item(i).Shop,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        City: data.rows.item(i).City,
                        Cell: data.rows.item(i).Cell,
                        Balance: data.rows.item(i).Balance,
                        Active: data.rows.item(i).Active,
                    });
                }
            }
            ;
            console.log(clients);
            return clients;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.syncUpdatedClients = function () {
        return this.database.executeSql('SELECT * FROM clients where Sync=2', []).then(function (data) {
            var clients = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    clients.push({
                        Cid: data.rows.item(i).Cid,
                        Fname: data.rows.item(i).Fname,
                        Lname: data.rows.item(i).Lname,
                        Shop: data.rows.item(i).Shop,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        City: data.rows.item(i).City,
                        Cell: data.rows.item(i).Cell,
                        Balance: data.rows.item(i).Balance,
                        Active: data.rows.item(i).Active,
                    });
                }
            }
            ;
            console.log(clients);
            return clients;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updateSyncedClients = function (IDs) {
        for (var i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  clients Set Sync=1 where Cid=?', [IDs[i]]).then(function (data) {
                console.log(data);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return [];
            });
        }
    };
    SyncService.prototype.syncAddedVendors = function () {
        var _this = this;
        return this.database.executeSql('SELECT * FROM tblvendors where Sync=0', []).then(function (data) {
            var vedndors = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    vedndors.push({
                        ID: data.rows.item(i).ID,
                        Name: data.rows.item(i).Name,
                        Address: data.rows.item(i).Address,
                        Phone: data.rows.item(i).Phone,
                        Email: data.rows.item(i).Email,
                        bActive: data.rows.item(i).bActive,
                        Balance: data.rows.item(i).Balance,
                    });
                    _this.database.executeSql('UPDATE  tblvendors Set Sync=1 where ID=?', [data.rows.item(i).ID]).then(function (data) {
                        console.log(data);
                        return data;
                    }, function (err) {
                        console.log('Error: ', err);
                        return [];
                    });
                }
            }
            ;
            console.log(vedndors);
            return vedndors;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.syncUpdatedVendors = function () {
        return this.database.executeSql('SELECT * FROM tblvendors where Sync=2', []).then(function (data) {
            var vedndors = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    vedndors.push({
                        ID: data.rows.item(i).ID,
                        Name: data.rows.item(i).Name,
                        Address: data.rows.item(i).Address,
                        Phone: data.rows.item(i).Phone,
                        Email: data.rows.item(i).Email,
                        bActive: data.rows.item(i).bActive,
                        Balance: data.rows.item(i).Balance,
                    });
                }
            }
            ;
            console.log(vedndors);
            return vedndors;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updateSyncedVendors = function (IDs) {
        for (var i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  tblvendors Set Sync=1 where ID=?', [IDs[i]]).then(function (data) {
                console.log(data);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return [];
            });
        }
    };
    SyncService.prototype.syncAddedPOS = function () {
        return this.database.executeSql('Select * from tblpurchasedorder where Sync=0', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        ID: data.rows.item(i).ID,
                        VendorID: data.rows.item(i).VendorID,
                        Date: data.rows.item(i).Date,
                        ReceivedBy: data.rows.item(i).ReceivedBy,
                        Total: data.rows.item(i).Total,
                        Remarks: data.rows.item(i).Remarks,
                        Discount: data.rows.item(i).Discount,
                        Active: data.rows.item(i).Active,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updateSyncedPOS = function (IDs) {
        for (var i = 0; i < IDs.length; i++) { //'UPDATE tblpurchasedorder SET Active=0,Sync=2 where ID=?,UPDATE  tblpurchasedorder SET Sync=1 where ID=?
            return this.database.executeSql('UPDATE tblpurchasedorder SET Sync=1 where ID=?', [IDs[i]])
                .then(function (data) {
                console.log('successfully Updated stock');
            }, function (err) {
                console.log('Error: ', err);
                return [];
            });
        }
    };
    SyncService.prototype.syncAddedPOsItems = function () {
        return this.database.executeSql('Select * from tblpodetail where Sync=0', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        ID: data.rows.item(i).ID,
                        Poid: data.rows.item(i).Poid,
                        ItemID: data.rows.item(i).ItemID,
                        Qty: data.rows.item(i).Qty,
                        CostPrice: data.rows.item(i).CostPrice,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updateSyncedPOSItems = function (IDs) {
        for (var i = 0; i < IDs.length; i++) { //'UPDATE tblpurchasedorder SET Active=0,Sync=2 where ID=?
            return this.database.executeSql('UPDATE  tblpodetail Set Sync=1 where ID=?', [IDs[i]]).then(function (data) {
                console.log(data);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return [];
            });
        }
    };
    SyncService.prototype.syncAddedInvoices = function () {
        return this.database.executeSql('Select * from invoices WHERE Sync=0', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: data.rows.item(i).CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: data.rows.item(i).DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Status: data.rows.item(i).Status,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.syncMarkAsPaidInvoices = function () {
        return this.database.executeSql('Select * from invoices WHERE Sync=2', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: data.rows.item(i).CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: data.rows.item(i).DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Status: data.rows.item(i).Status,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updateSyncedInvoices = function (IDs) {
        for (var i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  invoices Set Sync=1 where Iid=?', [IDs[i]]).then(function (data) {
                console.log(data);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return [];
            });
        }
    };
    SyncService.prototype.syncAddedInvoicesItems = function () {
        return this.database.executeSql('Select * from invoiceitems where Sync=0', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iiid: data.rows.item(i).Iiid,
                        Iid: data.rows.item(i).Iid,
                        Itemid: data.rows.item(i).Itemid,
                        Qty: data.rows.item(i).Qty,
                        CostPrice: data.rows.item(i).CostPrice,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updateSyncedInvoicesItems = function (IDs) {
        for (var i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  invoiceitems Set Sync=1 where Iiid=?', [IDs[i]]).then(function (data) {
                console.log(data);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return [];
            });
        }
    };
    SyncService.prototype.syncAddedLedger = function () {
        return this.database.executeSql('Select * from tblledger WHERE Sync=0', []).then(function (data) {
            var ledger = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    ledger.push({
                        ID: data.rows.item(i).ID,
                        InvoiceID: data.rows.item(i).InvoiceID,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        CustomerID: data.rows.item(i).CustomerID,
                        IsCredit: data.rows.item(i).IsCredit,
                        //DueDate: data.rows.item(i).DueDate,
                        DueDate: data.rows.item(i).Date,
                        ByUserId: data.rows.item(i).ByUserId,
                        Remarks: data.rows.item(i).Remarks,
                    });
                }
            }
            ;
            // alert('addedledger = ' + ledger.length)
            console.log('check this = ' + ledger[0]);
            return ledger;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.syncUpdatedLedger = function () {
        return this.database.executeSql('Select * from tblledger WHERE Sync=2', []).then(function (data) {
            var ledger = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    ledger.push({
                        ID: data.rows.item(i).ID,
                        InvoiceID: data.rows.item(i).InvoiceID,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        CustomerID: data.rows.item(i).CustomerID,
                        IsCredit: data.rows.item(i).IsCredit,
                        //DueDate: data.rows.item(i).DueDate,
                        DueDate: data.rows.item(i).Date,
                        ByUserId: data.rows.item(i).ByUserId,
                        Remarks: data.rows.item(i).Remarks,
                    });
                }
            }
            ;
            console.log(ledger);
            return ledger;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.syncAddedLedgerVendor = function () {
        return this.database.executeSql('Select * from tblledgervendor WHERE Sync=0', []).then(function (data) {
            var ledger = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    ledger.push({
                        ID: data.rows.item(i).ID,
                        POID: data.rows.item(i).POID,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        VendorID: data.rows.item(i).VendorID,
                        IsCredit: data.rows.item(i).IsCredit,
                        //DueDate: data.rows.item(i).DueDate,
                        DueDate: data.rows.item(i).Date,
                        ByUserId: data.rows.item(i).ByUserId,
                        Remarks: data.rows.item(i).Remarks,
                    });
                }
            }
            ;
            console.log(ledger);
            return ledger;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.syncUpdatedLedgerVendor = function () {
        return this.database.executeSql('Select * from tblledgervendor WHERE Sync=2', []).then(function (data) {
            var ledger = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    ledger.push({
                        ID: data.rows.item(i).ID,
                        POID: data.rows.item(i).POID,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        VendorID: data.rows.item(i).VendorID,
                        IsCredit: data.rows.item(i).IsCredit,
                        //DueDate: data.rows.item(i).DueDate,
                        DueDate: data.rows.item(i).Date,
                        ByUserId: data.rows.item(i).ByUserId,
                        Remarks: data.rows.item(i).Remarks,
                    });
                }
            }
            ;
            // alert('syncAddedLedgerVendor ' + ledger.length)
            console.log(ledger);
            return ledger;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updateSyncedAddedLedger = function (IDs) {
        for (var i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  tblledger Set Sync=1 where ID=?', [IDs[i]]).then(function (data) {
                console.log(data);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return [];
            });
        }
    };
    SyncService.prototype.updateSyncedAddedLedgerVendors = function (IDs) {
        for (var i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  tblledgervendors Set Sync=1 where ID=?', [IDs[i]]).then(function (data) {
                console.log(data);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return [];
            });
        }
    };
    SyncService.prototype.getAlldelPOS = function () {
        return this.database.executeSql('Select * from POdel', []).then(function (data) {
            console.log(data);
            var POIDs = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    POIDs.push({
                        ID: data.rows.item(i).POid,
                    });
                }
            }
            return POIDs;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.updatedelsPOS = function () {
        return this.database.executeSql('DELETE from  POdel', []).then(function (data) {
            console.log(data);
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getAlldelInvoices = function () {
        return this.database.executeSql('Select * from Invoicedel', []).then(function (data) {
            console.log(data);
            var POIDs = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    POIDs.push({
                        ID: data.rows.item(i).Iid,
                    });
                }
            }
            return POIDs;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.updatedelsInvoices = function () {
        return this.database.executeSql('DELETE from  Invoicedel', []).then(function (data) {
            console.log(data);
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getItem = function (id, url) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var loading;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create()];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        this.database.executeSql('SELECT * FROM items WHERE itemid=?', [id]).then(function (data) {
                            var items = [];
                            if (data.rows.length > 0) {
                                for (var i = 0; i < data.rows.length; i++) {
                                    items.push({
                                        itemid: data.rows.item(i).itemid,
                                        AccountId: data.rows.item(i).AccountId,
                                        Description: data.rows.item(i).Description,
                                        Rate: data.rows.item(i).Rate,
                                        Cost: data.rows.item(i).Cost,
                                        Instock: data.rows.item(i).Instock,
                                        Active: data.rows.item(i).Active,
                                        Sync: data.rows.item(i).Sync,
                                    });
                                }
                            }
                            ;
                            console.log(items);
                            var navigationExtras = {
                                state: {
                                    edititem: items[0],
                                    url: url
                                }
                            };
                            _this.router.navigate(['menu-itemdetails'], navigationExtras);
                            loading.dismiss();
                            //return items;
                        }, function (err) {
                            console.log('Error: ', err);
                            return [];
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    SyncService.prototype.getClient = function (id, url) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var loading;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create()];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/, this.database.executeSql('SELECT * FROM clients where Cid=?', [id]).then(function (data) {
                                var clients = [];
                                if (data.rows.length > 0) {
                                    for (var i = 0; i < data.rows.length; i++) {
                                        clients.push({
                                            Cid: data.rows.item(i).Cid,
                                            AccountId: data.rows.item(i).AccountId,
                                            Fname: data.rows.item(i).Fname,
                                            Lname: data.rows.item(i).Lname,
                                            Shop: data.rows.item(i).Shop,
                                            BillingAddress: data.rows.item(i).BillingAddress,
                                            City: data.rows.item(i).City,
                                            Cell: data.rows.item(i).Cell,
                                            Active: data.rows.item(i).Active,
                                            Balance: data.rows.item(i).Balance,
                                            Sync: data.rows.item(i).Sync,
                                        });
                                    }
                                }
                                ;
                                console.log(clients);
                                var navigationExtras = {
                                    state: {
                                        editclient: clients[0],
                                        url: url
                                    }
                                };
                                _this.router.navigate(['menu-clientdetails'], navigationExtras);
                                loading.dismiss();
                                return clients;
                            }, function (err) {
                                console.log('Error: ', err);
                                return [];
                            })];
                }
            });
        });
    };
    SyncService.prototype.getVendor = function (id) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var loading;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create()];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        this.database.executeSql('SELECT * FROM tblvendors where ID=?', [id]).then(function (data) {
                            var vedndors = [];
                            if (data.rows.length > 0) {
                                for (var i = 0; i < data.rows.length; i++) {
                                    vedndors.push({
                                        ID: data.rows.item(i).ID,
                                        Name: data.rows.item(i).Name,
                                        Address: data.rows.item(i).Address,
                                        Phone: data.rows.item(i).Phone,
                                        Email: data.rows.item(i).Email,
                                        bActive: data.rows.item(i).bActive,
                                        Balance: data.rows.item(i).Balance,
                                        Sync: data.rows.item(i).Sync,
                                    });
                                }
                            }
                            ;
                            console.log(vedndors);
                            var navigationExtras = {
                                state: {
                                    editvendor: vedndors[0]
                                }
                            };
                            _this.router.navigate(['vendor-edit'], navigationExtras);
                            loading.dismiss();
                            // return vedndors;
                        }, function (err) {
                            console.log('Error: ', err);
                            // return [];
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    SyncService.prototype.getClientLedger = function (ID) {
        return this.database.executeSql('SELECT * FROM tblledger where CustomerID=? ORDER BY ID DESC', [ID]).then(function (data) {
            var ledger = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    var ClientID = ledger.push({
                        ID: data.rows.item(i).ID,
                        InvoiceID: data.rows.item(i).InvoiceID,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        IsCredit: data.rows.item(i).IsCredit,
                        Remarks: data.rows.item(i).Remarks,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(ledger);
            return ledger;
        }, function (err) {
            console.log('Error: ', err);
            // return [];
        });
    };
    SyncService.prototype.getAllClientLedger = function () {
        return this.database.executeSql('SELECT * FROM tblledger  ', []).then(function (data) {
            var ledger = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    ledger.push({
                        InvoiceID: data.rows.item(i).InvoiceID,
                        DueDate: data.rows.item(i).DueDate,
                        CustomerID: data.rows.item(i).CustomerID,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        IsCredit: data.rows.item(i).IsCredit,
                        Remarks: data.rows.item(i).Remarks,
                    });
                }
            }
            ;
            console.log(ledger);
            return ledger;
        }, function (err) {
            console.log('Error: ', err);
            // return [];
        });
    };
    SyncService.prototype.getVendorLedger = function (ID) {
        return this.database.executeSql('SELECT * FROM tblledgervendor where VendorID=? ORDER BY ID DESC', [ID]).then(function (data) {
            var ledger = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    ledger.push({
                        ID: data.rows.item(i).ID,
                        POID: data.rows.item(i).POID,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        IsCredit: data.rows.item(i).IsCredit,
                        Remarks: data.rows.item(i).Remarks,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(ledger);
            return ledger;
        }, function (err) {
            console.log('Error: ', err);
            // return [];
        });
    };
    SyncService.prototype.getAllVendorLedger = function () {
        debugger;
        return this.database.executeSql('SELECT * FROM tblledgervendor', []).then(function (data) {
            var ledger = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    ledger.push({
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        IsCredit: data.rows.item(i).IsCredit,
                        Remarks: data.rows.item(i).Remarks,
                    });
                }
            }
            ;
            console.log(ledger);
            return ledger;
        }, function (err) {
            console.log('Error: ', err);
            // return [];
        });
    };
    SyncService.prototype.addPayment = function (CustomerID, CustomerSync, date, Amount, Remarks) {
        var _this = this;
        var a = Math.round((new Date(date)).getTime() / 1000);
        // const date1 = '20191230';
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO  tblledger(InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [null, a, Amount, CustomerID, 1, null, 'rizwanali', Remarks, 0]).then(function (data) {
            // this.router.navigate(['/menu/clients']);
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('UPDATE clients SET Balance=Balance-?,Sync=? WHERE Cid=?', [Amount, CustomerSync, CustomerID]).then(function (data) {
                console.log(data);
                ;
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            return data;
        }, function (err) {
            return err;
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.editPayment = function (CustomerID, CustomerSync, date, Amount, Remarks, ledgerID, OldAmount, LedgerSync) {
        var _this = this;
        var a = Math.round((new Date(date)).getTime() / 1000);
        // alert('old = '+ OldAmount + '\nNew = ' + Amount)
        this.database.executeSql('UPDATE clients SET Balance=Balance+? WHERE Cid=?', [OldAmount, CustomerID]).then(function (data) {
            //  alert('ys')
        });
        // alert('LedgerSync = ' + LedgerSync)
        // const date1 = '20191230';
        // tslint:disable-next-line: max-line-length
        // return this.database.executeSql('INSERT INTO  tblledger(InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [null, a, Amount, CustomerID, 1, null, 'rizwanali', Remarks, 0]).then((data) => {
        return this.database.executeSql('UPDATE tblledger SET Amount=?,Remarks=?,Sync=? WHERE ID=?', [Amount, Remarks, LedgerSync, ledgerID]).then(function (data) {
            // this.router.navigate(['/menu/clients']);
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('UPDATE clients SET Balance=Balance-?,Sync=? WHERE Cid=?', [Amount, CustomerSync, CustomerID]).then(function (data) {
                console.log(data);
                ;
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            return data;
        }, function (err) {
            return err;
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.getPayment = function () {
        return this.database.executeSql('Select * from tblledger', []).then(function (data) {
            console.log(data);
            var payments = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    payments.push({
                        ID: data.rows.item(i).ID,
                        Amount: data.rows.item(i).Amount,
                        Date: data.rows.item(i).Date
                    });
                }
            }
            return payments;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.addPaymentVendor = function (VendorID, VendorSync, date, Amount, Remarks) {
        var _this = this;
        // alert('vendorSync' + VendorSync)
        // const b = Math.round((new Date('30 Jan 2019')).getTime() / 1000);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO  tblledgervendor(POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [null, date, Amount, VendorID, 1, null, 'rizwanali', Remarks, 0]).then(function (data) {
            // tslint:disable-next-line: max-line-length
            return _this.database.executeSql('UPDATE tblvendors SET Balance=Balance-?,Sync=? WHERE ID=?', [Amount, VendorSync, VendorID]).then(function (data) {
                console.log(data);
                return 1;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            ;
            // this.router.navigate(['/menu/clients']);
            return data;
        }, function (err) {
            return err;
            console.log('Error: ', err);
            return err;
        });
        ;
    };
    SyncService.prototype.editPaymentVendor = function (VendorID, VendorSync, date, Amount, Remarks, PaymentID, OldAmount, LedgerSync) {
        var _this = this;
        //  alert('old = '+ OldAmount + '\nNew = ' + Amount)
        this.database.executeSql('UPDATE tblvendors SET Balance=Balance+? WHERE ID=?', [OldAmount, VendorID]).then(function (data) {
            // alert('ys')
        });
        // const b = Math.round((new Date('30 Jan 2019')).getTime() / 1000);
        //  return this.database.executeSql('INSERT INTO  tblledgervendor(POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [null, date, Amount, VendorID, 1, null, 'rizwanali', Remarks, 0]).then((data) => {
        // tslint:disable-next-line: max-line-length  
        return this.database.executeSql('UPDATE tblledgervendor  SET Amount=?,Remarks=?,Sync=? WHERE ID=?', [Amount, Remarks, LedgerSync, PaymentID]).then(function (data) {
            // tslint:disable-next-line: max-line-length
            _this.database.executeSql('UPDATE tblvendors SET Balance=Balance-?,Sync=? WHERE ID=?', [Amount, VendorSync, VendorID]).then(function (data) {
                console.log(data);
                return 1;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
            ;
            // this.router.navigate(['/menu/clients']);
            return data;
        }, function (err) {
            return err;
            console.log('Error: ', err);
            return err;
        });
        ;
    };
    SyncService.prototype.getPO = function (POID) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var loading;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create()];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/, this.database.executeSql('Select tblpurchasedorder.ID,tblpurchasedorder.VendorID,tblpurchasedorder.Date,tblpurchasedorder.ReceivedBy,tblpurchasedorder.Total,tblpurchasedorder.Remarks,tblpurchasedorder.Discount,tblpurchasedorder.Active,tblpurchasedorder.Sync,tblvendors.Name,tblvendors.Address,tblvendors.Phone,tblvendors.Email,tblvendors.bActive from tblpurchasedorder,tblvendors WHERE tblpurchasedorder.ID=? AND tblpurchasedorder.VendorID=tblvendors.ID', [POID]).then(function (data) {
                                var Pos = [];
                                if (data.rows.length > 0) {
                                    for (var i = 0; i < data.rows.length; i++) {
                                        Pos.push({
                                            ID: data.rows.item(i).ID,
                                            VendorID: data.rows.item(i).VendorID,
                                            Date: data.rows.item(i).Date,
                                            ReceivedBy: data.rows.item(i).ReceivedBy,
                                            Total: data.rows.item(i).Total,
                                            Remarks: data.rows.item(i).Remarks,
                                            Discount: data.rows.item(i).Discount,
                                            Active: data.rows.item(i).Active,
                                            Sync: data.rows.item(i).Sync,
                                            Name: data.rows.item(i).Name
                                        });
                                    }
                                }
                                ;
                                _this.getPOItems(POID).then(function (data) {
                                    var items = data;
                                    var navigationExtras = {
                                        state: {
                                            PO: Pos[0],
                                            Items: items,
                                            url: '/menu/logs'
                                        }
                                    };
                                    _this.router.navigate(['podetails'], navigationExtras);
                                    loading.dismiss();
                                });
                                console.log(Pos);
                                return Pos;
                            }, function (err) {
                                console.log('Error: ', err);
                                return [];
                            })];
                }
            });
        });
    };
    SyncService.prototype.getInvoice = function (Iid, url) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var loading;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create()];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/, this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message,invoices.Status,invoices.Sync,clients.Fname,clients.Shop,clients.City,clients.Lname,clients.BillingAddress,clients.Sync AS clientSync from invoices,clients WHERE invoices.Iid=? AND invoices.Cid=clients.Cid', [Iid]).then(function (data) {
                                var Pos = [];
                                if (data.rows.length > 0) {
                                    for (var i = 0; i < data.rows.length; i++) {
                                        var z = new Date(parseInt(data.rows.item(i).CreateDate) * 1000).toString();
                                        var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                                        var y = new Date(parseInt(data.rows.item(i).DueDate) * 1000).toString();
                                        var DueDate = _this.datePipe.transform(y, 'dd MMM yyyy');
                                        Pos.push({
                                            Iid: data.rows.item(i).Iid,
                                            AccountId: data.rows.item(i).AccountId,
                                            Cid: data.rows.item(i).Cid,
                                            Name: data.rows.item(i).Name,
                                            CreateDate: CreateDate,
                                            Terms: data.rows.item(i).Terms,
                                            DueDate: DueDate,
                                            clientSync: data.rows.item(i).clientSync,
                                            Subtotal: data.rows.item(i).Subtotal,
                                            Discount: data.rows.item(i).Discount,
                                            Total: data.rows.item(i).Total,
                                            Message: data.rows.item(i).Message,
                                            Fname: data.rows.item(i).Fname,
                                            Shop: data.rows.item(i).Shop,
                                            City: data.rows.item(i).City,
                                            Lname: data.rows.item(i).Lname,
                                            Status: data.rows.item(i).Status,
                                            BillingAddress: data.rows.item(i).BillingAddress,
                                            Sync: data.rows.item(i).Sync,
                                        });
                                    }
                                }
                                ;
                                console.log(Pos);
                                _this.getInvoiceItems(Iid).then(function (data) {
                                    var items = data;
                                    var navigationExtras = {
                                        state: {
                                            invoice: Pos[0],
                                            Items: items,
                                            url: url
                                        }
                                    };
                                    _this.router.navigate(['invoicedetails'], navigationExtras);
                                    loading.dismiss();
                                });
                                return Pos;
                            }, function (err) {
                                console.log('Error: ', err);
                                return [];
                            })];
                }
            });
        });
    };
    SyncService.prototype.getUpdatedPOID = function () {
        return this.updatedPOID;
    };
    SyncService.prototype.getUpdatedIid = function () {
        return this.updatedIid;
    };
    SyncService.prototype.AddLogUpdatedPO = function () {
        var acttype;
        if (this.usdId === 1) {
            acttype = 'Adnan Ali edited';
        }
        else {
            acttype = 'Test edited';
        }
        var name = 'Purchased Order';
        var now = new Date().toString();
        var a = this.datePipe.transform(now, 'MMMM dd, yyy h:mm a');
        var lgdate = 'at ' + a;
        var tblName = 'tblpurchasedorder';
        // this.tblId = this.PO.ID;
        var tblId = this.getUpdatedPOID();
        //tblName,tblId,this.usdId,this.acttype,this.name,this.lgdate
        this.addLogs(tblName, tblId, this.usdId, acttype, name, lgdate).then(function (data) {
            console.log("Log has been added");
            //this.GetLogs();
        });
    };
    SyncService.prototype.AddLogUpdatedInvoice = function () {
        var acttype;
        if (this.usdId === 1) {
            acttype = 'You edited';
        }
        else {
            acttype = 'You edited';
        }
        var name = 'Invoice';
        var now = new Date().toString();
        var a = this.datePipe.transform(now, 'MMMM dd, yyy h:mm a');
        var lgdate = 'at ' + a;
        var tblName = 'invoices';
        // this.tblId = this.PO.ID;
        var tblId = this.getUpdatedIid();
        //tblName,tblId,this.usdId,this.acttype,this.name,this.lgdate
        this.addLogs(tblName, tblId, this.usdId, acttype, name, lgdate).then(function (data) {
            console.log("Log has been added");
            //this.GetLogs();
        });
    };
    SyncService.prototype.serverSync = function () {
        var _this = this;
        console.log('server sync');
        var a = 0;
        this.getAllItems().then(function (data) {
            if (data.length > 0) {
                a = 1;
                console.log(a);
            }
            _this.getAllClients().then(function (data1) {
                if (data1.length > 0) {
                    a = 1;
                    console.log(a);
                }
                _this.getAllVendors().then(function (data2) {
                    if (data2.length > 0) {
                        a = 1;
                        console.log(a);
                    }
                    if (a === 0) {
                        console.log('no data(no)');
                        console.log(a);
                        // this.syncDataServertoApp();
                    }
                    else {
                        console.log('data');
                        console.log(a);
                    }
                });
            });
        });
    };
    SyncService.prototype.getPOITMEStesting = function () {
        return this.database.executeSql('Select * FROM tblexpenses ', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        Name: data.rows.item(i).Name,
                        Sync: data.rows.item(i).Sync
                    });
                }
            }
            ;
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.syncAddedLog = function () {
        var _this = this;
        return this.database.executeSql('SELECT * FROM tblLogs Where Sync=0', []).then(function (data) {
            var logs = [];
            var IDs = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    logs.push({
                        ID: data.rows.item(i).ID,
                        tableName: data.rows.item(i).tableName,
                        tableId: data.rows.item(i).tableId,
                        userId: data.rows.item(i).userId,
                        actionType: data.rows.item(i).actionType,
                        name: data.rows.item(i).name,
                        dated: data.rows.item(i).dated,
                    });
                    IDs.push({
                        ID: data.rows.item(i).ID
                    });
                }
            }
            // console.log('sync' + logs[0].ID);
            // console.log('synclogs:' + logs);
            // console.log('IDS[0]:'+ IDs[0].ID);
            // console.log('ids' + IDs);
            var url = _this.databaseprovider.getURL();
            _this.nativeHttp.setDataSerializer("json");
            var nativeCall = _this.nativeHttp.post(url, {
                'Name': 'syncAddedLogs',
                "logs": logs
            }, {
                'Content-Type': 'application/json',
                'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
            });
            Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                .subscribe(function (data) {
                console.log('Native data:', data);
                var g = JSON.parse(data.data);
                var check = 0;
                if (g.success === 1) {
                    //alert('success');
                    check = 1;
                    _this.updateSyncedLogs(IDs).then(function (data) {
                    });
                }
                else {
                    if (check === 1) {
                        _this.updateSyncedLogs(IDs).then(function (data) {
                        });
                    }
                    // alert('failed');
                }
                // this.initializeItems();
            }, function (err) {
                console.log('JS call error-1', err);
                // const error = JSON.parse(err.error);
                //alert(error.message);
                //console.log('Native data:',JSON.parse(error));
            });
            ;
            console.log(logs);
            return logs;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updateSyncedLogs = function (IDs) {
        for (var i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  tbllogs Set Sync=1 where ID=?', [IDs[i]]).then(function (data) {
                console.log(data);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return [];
            });
        }
    };
    SyncService.prototype.getLedger = function (id) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var loading;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create()];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/, this.database.executeSql('SELECT * FROM clients where Cid=? ', [id]).then(function (data) {
                                var clients = [];
                                if (data.rows.length > 0) {
                                    for (var i = 0; i < data.rows.length; i++) {
                                        clients.push({
                                            Cid: data.rows.item(i).Cid,
                                            AccountId: data.rows.item(i).AccountId,
                                            Fname: data.rows.item(i).Fname,
                                            Lname: data.rows.item(i).Lname,
                                            Shop: data.rows.item(i).Shop,
                                            BillingAddress: data.rows.item(i).BillingAddress,
                                            City: data.rows.item(i).City,
                                            Cell: data.rows.item(i).Cell,
                                            Active: data.rows.item(i).Active,
                                            Balance: data.rows.item(i).Balance,
                                            Sync: data.rows.item(i).Sync,
                                        });
                                    }
                                }
                                ;
                                console.log(clients);
                                // const navigationExtras: NavigationExtras = {
                                //   state: {
                                //     editclient: clients[0]
                                //   }
                                // };
                                var navigationExtras = {
                                    state: {
                                        client: clients[0]
                                    }
                                };
                                _this.router.navigate(['ledger'], navigationExtras);
                                loading.dismiss();
                                // return clients;
                            }, function (err) {
                                console.log('Error: ', err);
                                return [];
                            })];
                }
            });
        });
    };
    SyncService.prototype.getLedgerVendor = function (id) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var loading;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create()];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/, this.database.executeSql('SELECT * FROM tblvendors where ID=?', [id]).then(function (data) {
                                var vendor = [];
                                if (data.rows.length > 0) {
                                    for (var i = 0; i < data.rows.length; i++) {
                                        vendor.push({
                                            ID: data.rows.item(i).ID,
                                            Name: data.rows.item(i).Name,
                                            Address: data.rows.item(i).Address,
                                            Phone: data.rows.item(i).Phone,
                                            Email: data.rows.item(i).Email,
                                            bActive: data.rows.item(i).bActive,
                                            Sync: data.rows.item(i).Sync,
                                        });
                                    }
                                }
                                ;
                                console.log(vendor);
                                // const navigationExtras: NavigationExtras = {
                                //   state: {
                                //     editclient: clients[0]
                                //   }
                                // };
                                var navigationExtras = {
                                    state: {
                                        client: vendor[0]
                                    }
                                };
                                _this.router.navigate(['ledgers-vendors'], navigationExtras);
                                loading.dismiss();
                                // return clients;
                            }, function (err) {
                                console.log('Error: ', err);
                                return [];
                            })];
                }
            });
        });
    };
    SyncService.prototype.AddLog = function () {
        var _this = this;
        var acttype = '';
        if (this.usdId === 1) {
            acttype = 'Adnan Ali Signed In  the app';
        }
        else {
            acttype = 'Test Signed In  from app';
        }
        //this.name = 'Purchased Order';
        var now = new Date().toString();
        var a = this.datePipe.transform(now, 'MMMM dd, yyy h:mm a');
        var lgdate = 'at ' + a;
        var tblName = '';
        var tblId = 0;
        var name = '';
        // this.tblId = this.PO.ID;
        // this.tblId = this.syncService.getUpdatedPOID();
        //this.tblName,this.tblId,this.usdId,this.acttype,this.name,this.lgdate
        this.addLogs(tblName, tblId, this.usdId, acttype, name, lgdate).then(function (data) {
            console.log("Log has been added");
            _this.syncAddedLog();
            //this.GetLogs();
        });
    };
    SyncService.prototype.syncDataServertoApp = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var url, nativeCall;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                url = this.databaseprovider.getURL();
                console.log('this is url ' + url);
                this.nativeHttp.setDataSerializer("json");
                this.nativeHttp.setRequestTimeout(364850);
                nativeCall = this.nativeHttp.post(url, {
                    'Name': 'sqliteSync1',
                    "AccountId": '113008225657937776461'
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                    .subscribe(function (data) {
                    console.log('Native data-1:', data);
                    var g = JSON.parse(data.data);
                    console.log('ggggg-' + g);
                    if (g.success === 1) {
                        console.log('success');
                        if (typeof g.vendors !== 'undefined' && _this.executed === 0) {
                            _this.executed = 1;
                            console.log('vendors');
                            for (var i = 0; i < 1; i++) {
                                var data_1 = [g.vendors[i].ID, g.vendors[i].Name, g.vendors[i].Address, g.vendors[i].Phone, g.vendors[i].Email, g.vendors[i].bActive, g.vendors[i].Balance, 1];
                                // tslint:disable-next-line: max-line-length
                                _this.database.executeSql('SELECT * FROM tblvendors', data_1)
                                    .then(function (data) {
                                    console.log('successfully Created item');
                                    return data;
                                }, function (err) {
                                    console.log('Error: ', err);
                                    return err;
                                }).then(function () {
                                    if (typeof g.vendors !== 'undefined') {
                                        console.log('items');
                                        for (var i_1 = 0; i_1 < g.vendors.length; i_1++) {
                                            var data_2 = [g.vendors[i_1].ID, g.vendors[i_1].Name, g.vendors[i_1].Address, g.vendors[i_1].Phone, g.vendors[i_1].Email, g.vendors[i_1].bActive, g.vendors[i_1].Balance, 1];
                                            // tslint:disable-next-line: max-line-length
                                            _this.database.executeSql('INSERT INTO  tblvendors (ID,Name,Address,Phone,Email,bActive,Balance,Sync) VALUES (?,?,?,?,?,?,?,?)', data_2)
                                                .then(function (data) {
                                                console.log('successfully Created item');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function (data3) {
                                    if (typeof g.items !== 'undefined') {
                                        console.log('items');
                                        for (var i_2 = 0; i_2 < g.items.length; i_2++) {
                                            var data_3 = [g.items[i_2].itemid, '113008225657937776461', g.items[i_2].Description, g.items[i_2].Rate, g.items[i_2].Cost, g.items[i_2].Instock, g.items[i_2].Active, 1];
                                            // tslint:disable-next-line: max-line-length
                                            _this.database.executeSql('INSERT INTO  items (itemid,AccountId, Description,Rate,Cost,Instock,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data_3)
                                                .then(function (data) {
                                                console.log('successfully Created item');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function (data4) {
                                    if (typeof g.clients !== 'undefined') {
                                        console.log('clients from server:', g.clients);
                                        for (var i_3 = 0; i_3 < g.clients.length; i_3++) {
                                            var data_4 = [g.clients[i_3].Cid, '113008225657937776461', g.clients[i_3].Fname, g.clients[i_3].Lname, g.clients[i_3].Shop, g.clients[i_3].BillingAddress, g.clients[i_3].City, g.clients[i_3].Cell, g.clients[i_3].Active, g.clients[i_3].Balance, 1];
                                            // tslint:disable-next-line: max-line-length
                                            _this.database.executeSql('INSERT INTO  clients (Cid,AccountId,Fname,Lname,Shop,BillingAddress,City,Cell,Active,Balance,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?)', data_4)
                                                .then(function (data) {
                                                console.log('successfully Created item');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function (data5) {
                                    if (typeof g.POS !== 'undefined') {
                                        console.log('POS');
                                        for (var i_4 = 0; i_4 < g.POS.length; i_4++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_5 = [g.POS[i_4].ID, g.POS[i_4].VendorID, g.POS[i_4].Date, g.POS[i_4].ReceivedBy, g.POS[i_4].Total, g.POS[i_4].Remarks, parseInt(g.POS[i_4].Discount), parseInt(g.POS[i_4].Active), 1];
                                            _this.database.executeSql('INSERT INTO  tblpurchasedorder (ID,VendorID,Date,ReceivedBy,Total,Remarks,Discount,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data_5)
                                                .then(function (data) {
                                                console.log('add po');
                                            });
                                        }
                                    }
                                }).then(function (data5) {
                                    if (typeof g.POItems !== 'undefined') {
                                        console.log('POItems');
                                        for (var i_5 = 0; i_5 < g.POItems.length; i_5++) {
                                            var data1 = [g.POItems[i_5].ID, g.POItems[i_5].Poid, g.POItems[i_5].ItemID, g.POItems[i_5].Qty, g.POItems[i_5].CostPrice, 1];
                                            _this.database.executeSql('INSERT INTO  tblpodetail (ID,Poid,ItemID,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                                .then(function (data) {
                                                console.log('successfully Add item');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                            //  this.database.executeSql('UPDATE items SET Instock=Instock+? where itemid=?', [g.POItems[i].Qty, g.POItems[i].ItemID])
                                            //  .then(data => {
                                            //    console.log('successfully Updated stock');
                                            //    return data;
                                            //  }, err => {
                                            //    console.log('Error: ', err);
                                            //    return err;
                                            //  });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.users !== 'undefined') {
                                        console.log('POS');
                                        for (var i_6 = 0; i_6 < g.users.length; i_6++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_6 = [g.users[i_6].ID, g.users[i_6].email, g.users[i_6].name, g.users[i_6].Active, 1];
                                            _this.database.executeSql('INSERT INTO  tblUsers (ID,email,name,bActive,Sync) VALUES (?,?,?,?,?)', data_6)
                                                .then(function (data) {
                                                console.log('add po');
                                            });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.acl !== 'undefined') {
                                        console.log('POS');
                                        for (var i_7 = 0; i_7 < g.acl.length; i_7++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_7 = [g.acl[i_7].ID, g.acl[i_7].name, g.acl[i_7].userId, g.acl[i_7].bValue, 1];
                                            console.log('here' + data_7);
                                            _this.database.executeSql('INSERT INTO  tblacl (ID,name,userId,bValue,Sync) VALUES (?,?,?,?,?)', data_7)
                                                .then(function (data) {
                                                console.log('add po');
                                            });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.slides !== 'undefined') {
                                        console.log('POS');
                                        for (var i_8 = 0; i_8 < g.slides.length; i_8++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_8 = [g.slides[i_8].Id, g.slides[i_8].slideNo, g.slides[i_8].slideHeading, g.slides[i_8].slideText, g.slides[i_8].slideImage, g.slides[i_8].bActive];
                                            _this.database.executeSql('INSERT INTO tblslides (Id,slideNo,slideHeading,slideText,slideImage,bActive) VALUES (?,?,?,?,?,?)', data_8)
                                                .then(function (data) {
                                                console.log('add po');
                                            });
                                        }
                                    }
                                }).then(function (data6) {
                                    if (typeof g.invoices !== 'undefined') {
                                        for (var i_9 = 0; i_9 < g.invoices.length; i_9++) {
                                            console.log('invoices');
                                            // tslint:disable-next-line: max-line-length
                                            var data_9 = [g.invoices[i_9].Iid, g.invoices[i_9].AccountId, g.invoices[i_9].Cid, g.invoices[i_9].Name, g.invoices[i_9].CreateDate, g.invoices[i_9].Terms, g.invoices[i_9].DueDate, g.invoices[i_9].Subtotal, g.invoices[i_9].Discount, g.invoices[i_9].Total, g.invoices[i_9].Message, parseInt(g.invoices[i_9].Status), 1];
                                            // tslint:disable-next-line: max-line-length
                                            _this.database.executeSql('INSERT INTO  invoices (Iid,AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)', data_9)
                                                .then(function (data) {
                                                console.log('successfully Created invoice');
                                            });
                                        }
                                    }
                                }).then(function (data7) {
                                    if (typeof g.invoiceItems !== 'undefined') {
                                        console.log('POItems');
                                        for (var i_10 = 0; i_10 < g.invoiceItems.length; i_10++) {
                                            var data1 = [g.invoiceItems[i_10].Iiid, g.invoiceItems[i_10].Iid, g.invoiceItems[i_10].Itemid, g.invoiceItems[i_10].Qty, g.invoiceItems[i_10].CostPrice, 1];
                                            _this.database.executeSql('INSERT INTO  invoiceitems (Iiid,Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                                .then(function (data) {
                                                console.log('successfully Add item');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.categories !== 'undefined') {
                                        console.log('POS');
                                        for (var i_11 = 0; i_11 < g.categories.length; i_11++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_10 = [g.categories[i_11].catid, g.categories[i_11].name, g.categories[i_11].active];
                                            _this.database.executeSql('INSERT INTO categories (catid,name,active) VALUES (?,?,?)', data_10)
                                                .then(function (data) {
                                                console.log('add po');
                                            });
                                        }
                                    }
                                }).then(function (data8) {
                                    if (typeof g.ledgers !== 'undefined') {
                                        console.log('ledgers');
                                        for (var i_12 = 0; i_12 < g.ledgers.length; i_12++) {
                                            _this.database.executeSql('INSERT INTO  tblledger (ID,InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.ledgers[i_12].ID, g.ledgers[i_12].InvoiceID, g.ledgers[i_12].Date, g.ledgers[i_12].Amount, g.ledgers[i_12].CustomerID, g.ledgers[i_12].IsCredit, g.ledgers[i_12].DueDate, g.ledgers[i_12].ByUserId, g.ledgers[i_12].Remarks, 1])
                                                .then(function (data) {
                                                console.log('successfully Added Ledger');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.logs !== 'undefined') {
                                        console.log('ledgers');
                                        for (var i_13 = 0; i_13 < g.logs.length; i_13++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_11 = [g.logs[i_13].ID, g.logs[i_13].tableName, g.logs[i_13].tableId, g.logs[i_13].userId, g.logs[i_13].actionType, g.logs[i_13].name, g.logs[i_13].dated, 1];
                                            _this.database.executeSql('INSERT INTO  tblLogs (ID,tableName,tableId,userId,actionType,name,dated,Sync) VALUES (?,?,?,?,?,?,?,?)', data_11)
                                                .then(function (data) {
                                                console.log('successfully Created Log');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.vendorsLeger !== 'undefined') {
                                        console.log('vender ledgers');
                                        for (var i_14 = 0; i_14 < g.vendorsLeger.length; i_14++) {
                                            // tslint:disable-next-line: max-line-length
                                            _this.database.executeSql('INSERT INTO  tblledgervendor (ID,POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.vendorsLeger[i_14].ID, g.vendorsLeger[i_14].POID, g.vendorsLeger[i_14].Date, g.vendorsLeger[i_14].Amount, g.vendorsLeger[i_14].VendorID, g.vendorsLeger[i_14].IsCredit, g.vendorsLeger[i_14].DueDate, g.vendorsLeger[i_14].ByUserId, g.vendorsLeger[i_14].Remarks, 1])
                                                .then(function (data) {
                                                console.log('successfully Added vendorledger');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function () {
                                    // loading.dismiss();
                                    if (typeof g.expenses !== 'undefined') {
                                        console.log('vender ledgers');
                                        for (var i_15 = 0; i_15 < g.expenses.length; i_15++) {
                                            var data_12 = [g.expenses[i_15].ID, '113008225657937776461', g.expenses[i_15].Name, g.expenses[i_15].Date, g.expenses[i_15].Amount, g.expenses[i_15].Category, g.expenses[i_15].Description, g.expenses[i_15].Active, g.expenses[i_15].Sync];
                                            // tslint:disable-next-line: max-line-length
                                            _this.database.executeSql('INSERT INTO  tblexpenses (ID,AccountId,Name,Date,Amount,Category,Description,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data_12)
                                                .then(function (data) {
                                                console.log('successfully Created item');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function () {
                                    // loading.dismiss();
                                });
                            }
                        }
                        if (typeof g.clients !== 'undefined' && _this.executed === 0) {
                            _this.executed = 1;
                            console.log('clients from server:', g.clients);
                            for (var i = 0; i < g.clients.length; i++) {
                                var data_13 = [g.clients[i].Cid, '113008225657937776461', g.clients[i].Fname, g.clients[i].Lname, g.clients[i].Shop, g.clients[i].BillingAddress, g.clients[i].City, g.clients[i].Cell, g.clients[i].Active, g.clients[i].Balance, 1];
                                // tslint:disable-next-line: max-line-length
                                _this.database.executeSql('INSERT INTO  clients (Cid,AccountId,Fname,Lname,Shop,BillingAddress,City,Cell,Active,Balance,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?)', data_13)
                                    .then(function (data) {
                                    console.log('successfully Created item');
                                    return data;
                                }, function (err) {
                                    console.log('Error: ', err);
                                    return err;
                                }).then(function (data3) {
                                    if (typeof g.items !== 'undefined') {
                                        console.log('items');
                                        for (var i_16 = 0; i_16 < g.items.length; i_16++) {
                                            var data_14 = [g.items[i_16].itemid, '113008225657937776461', g.items[i_16].Description, g.items[i_16].Rate, g.items[i_16].Cost, g.items[i_16].Instock, g.items[i_16].Active, 1];
                                            // tslint:disable-next-line: max-line-length
                                            _this.database.executeSql('INSERT INTO  items (itemid,AccountId, Description,Rate,Cost,Instock,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data_14)
                                                .then(function (data) {
                                                console.log('successfully Created item');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function (data4) {
                                    if (typeof g.vendors !== 'undefined') {
                                        console.log('vendors');
                                        for (var i_17 = 0; i_17 < g.vendors.length; i_17++) {
                                            var data_15 = [g.vendors[i_17].ID, g.vendors[i_17].Name, g.vendors[i_17].Address, g.vendors[i_17].Phone, g.vendors[i_17].Email, g.vendors[i_17].bActive, g.vendors[i_17].Balance, 1];
                                            // tslint:disable-next-line: max-line-length
                                            _this.database.executeSql('INSERT INTO  tblvendors (ID,Name,Address,Phone,Email,bActive,Balance,Sync) VALUES (?,?,?,?,?,?,?,?)', data_15)
                                                .then(function (data) {
                                                console.log('successfully Created item');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function (data5) {
                                    if (typeof g.POS !== 'undefined') {
                                        console.log('POS');
                                        for (var i_18 = 0; i_18 < g.POS.length; i_18++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_16 = [g.POS[i_18].ID, g.POS[i_18].VendorID, g.POS[i_18].Date, g.POS[i_18].ReceivedBy, g.POS[i_18].Total, g.POS[i_18].Remarks, parseInt(g.POS[i_18].Discount), parseInt(g.POS[i_18].Active), 1];
                                            _this.database.executeSql('INSERT INTO  tblpurchasedorder (ID,VendorID,Date,ReceivedBy,Total,Remarks,Discount,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data_16)
                                                .then(function (data) {
                                                console.log('add po');
                                            });
                                        }
                                    }
                                }).then(function (data5) {
                                    if (typeof g.POItems !== 'undefined') {
                                        console.log('POItems');
                                        for (var i_19 = 0; i_19 < g.POItems.length; i_19++) {
                                            var data1 = [g.POItems[i_19].ID, g.POItems[i_19].Poid, g.POItems[i_19].ItemID, g.POItems[i_19].Qty, g.POItems[i_19].CostPrice, 1];
                                            _this.database.executeSql('INSERT INTO  tblpodetail (ID,Poid,ItemID,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                                .then(function (data) {
                                                console.log('successfully Add item');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                            //  this.database.executeSql('UPDATE items SET Instock=Instock+? where itemid=?', [g.POItems[i].Qty, g.POItems[i].ItemID])
                                            //  .then(data => {
                                            //    console.log('successfully Updated stock');
                                            //    return data;
                                            //  }, err => {
                                            //    console.log('Error: ', err);
                                            //    return err;
                                            //  });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.users !== 'undefined') {
                                        console.log('POS');
                                        for (var i_20 = 0; i_20 < g.users.length; i_20++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_17 = [g.users[i_20].ID, g.users[i_20].email, g.users[i_20].name, g.users[i_20].Active, 1];
                                            _this.database.executeSql('INSERT INTO  tblUsers (ID,email,name,bActive,Sync) VALUES (?,?,?,?,?)', data_17)
                                                .then(function (data) {
                                                console.log('add po');
                                            });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.acl !== 'undefined') {
                                        console.log('POS');
                                        for (var i_21 = 0; i_21 < g.acl.length; i_21++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_18 = [g.acl[i_21].ID, g.acl[i_21].name, g.acl[i_21].userId, g.acl[i_21].bValue, 1];
                                            console.log('here2' + data_18);
                                            _this.database.executeSql('INSERT INTO  tblacl (ID,name,userId,bValue,Sync) VALUES (?,?,?,?,?)', data_18)
                                                .then(function (data) {
                                                console.log('add po');
                                            });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.slides !== 'undefined') {
                                        console.log('POS');
                                        for (var i_22 = 0; i_22 < g.slides.length; i_22++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_19 = [g.slides[i_22].Id, g.slides[i_22].slideNo, g.slides[i_22].slideHeading, g.slides[i_22].slideText, g.slides[i_22].slideImage, g.slides[i_22].bActive];
                                            _this.database.executeSql('INSERT INTO tblslides (Id,slideNo,slideHeading,slideText,slideImage,bActive) VALUES (?,?,?,?,?,?)', data_19)
                                                .then(function (data) {
                                                console.log('add po');
                                            });
                                        }
                                    }
                                }).then(function (data6) {
                                    if (typeof g.invoices !== 'undefined') {
                                        for (var i_23 = 0; i_23 < g.invoices.length; i_23++) {
                                            console.log('invoices');
                                            // tslint:disable-next-line: max-line-length
                                            var data_20 = [g.invoices[i_23].Iid, g.invoices[i_23].AccountId, g.invoices[i_23].Cid, g.invoices[i_23].Name, g.invoices[i_23].CreateDate, g.invoices[i_23].Terms, g.invoices[i_23].DueDate, g.invoices[i_23].Subtotal, g.invoices[i_23].Discount, g.invoices[i_23].Total, g.invoices[i_23].Message, parseInt(g.invoices[i_23].Status), 1];
                                            // tslint:disable-next-line: max-line-length
                                            _this.database.executeSql('INSERT INTO  invoices (Iid,AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)', data_20)
                                                .then(function (data) {
                                                console.log('successfully Created invoice');
                                            });
                                        }
                                    }
                                }).then(function (data7) {
                                    if (typeof g.invoiceItems !== 'undefined') {
                                        console.log('POItems');
                                        for (var i_24 = 0; i_24 < g.invoiceItems.length; i_24++) {
                                            var data1 = [g.invoiceItems[i_24].Iiid, g.invoiceItems[i_24].Iid, g.invoiceItems[i_24].Itemid, g.invoiceItems[i_24].Qty, g.invoiceItems[i_24].CostPrice, 1];
                                            _this.database.executeSql('INSERT INTO  invoiceitems (Iiid,Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                                .then(function (data) {
                                                console.log('successfully Add item');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.categories !== 'undefined') {
                                        console.log('POS');
                                        for (var i_25 = 0; i_25 < g.categories.length; i_25++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_21 = [g.categories[i_25].catid, g.categories[i_25].name, g.categories[i_25].active];
                                            _this.database.executeSql('INSERT INTO categories (catid,name,active) VALUES (?,?,?)', data_21)
                                                .then(function (data) {
                                                console.log('add po');
                                            });
                                        }
                                    }
                                }).then(function (data8) {
                                    if (typeof g.ledgers !== 'undefined') {
                                        console.log('ledgers');
                                        for (var i_26 = 0; i_26 < g.ledgers.length; i_26++) {
                                            _this.database.executeSql('INSERT INTO  tblledger (ID,InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.ledgers[i_26].ID, g.ledgers[i_26].InvoiceID, g.ledgers[i_26].Date, g.ledgers[i_26].Amount, g.ledgers[i_26].CustomerID, g.ledgers[i_26].IsCredit, g.ledgers[i_26].DueDate, g.ledgers[i_26].ByUserId, g.ledgers[i_26].Remarks, 1])
                                                .then(function (data) {
                                                console.log('successfully Added Ledger');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.logs !== 'undefined') {
                                        console.log('ledgers');
                                        for (var i_27 = 0; i_27 < g.logs.length; i_27++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_22 = [g.logs[i_27].ID, g.logs[i_27].tableName, g.logs[i_27].tableId, g.logs[i_27].userId, g.logs[i_27].actionType, g.logs[i_27].name, g.logs[i_27].dated, 1];
                                            _this.database.executeSql('INSERT INTO  tblLogs (ID,tableName,tableId,userId,actionType,name,dated,Sync) VALUES (?,?,?,?,?,?,?,?)', data_22)
                                                .then(function (data) {
                                                console.log('successfully Created Log');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.vendorsLeger !== 'undefined') {
                                        console.log('vender ledgers');
                                        for (var i_28 = 0; i_28 < g.vendorsLeger.length; i_28++) {
                                            // tslint:disable-next-line: max-line-length
                                            _this.database.executeSql('INSERT INTO  tblledgervendor (ID,POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.vendorsLeger[i_28].ID, g.vendorsLeger[i_28].POID, g.vendorsLeger[i_28].Date, g.vendorsLeger[i_28].Amount, g.vendorsLeger[i_28].VendorID, g.vendorsLeger[i_28].IsCredit, g.vendorsLeger[i_28].DueDate, g.vendorsLeger[i_28].ByUserId, g.vendorsLeger[i_28].Remarks, 1])
                                                .then(function (data) {
                                                console.log('successfully Added vendorledger');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function () {
                                    // loading.dismiss();
                                    if (typeof g.expenses !== 'undefined') {
                                        console.log('vender ledgers');
                                        for (var i_29 = 0; i_29 < g.expenses.length; i_29++) {
                                            var data_23 = [g.expenses[i_29].ID, '113008225657937776461', g.expenses[i_29].Name, g.expenses[i_29].Date, g.expenses[i_29].Amount, g.expenses[i_29].Category, g.expenses[i_29].Description, g.expenses[i_29].Active, g.expenses[i_29].Sync];
                                            // tslint:disable-next-line: max-line-length
                                            _this.database.executeSql('INSERT INTO  tblexpenses (ID,AccountId,Name,Date,Amount,Category,Description,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data_23)
                                                .then(function (data) {
                                                console.log('successfully Created item');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function () {
                                    //  loading.dismiss();
                                });
                            }
                        }
                        if (typeof g.items !== 'undefined' && _this.executed === 0) {
                            _this.executed = 1;
                            console.log('items');
                            for (var i = 0; i < g.items.length; i++) {
                                var data_24 = [g.items[i].itemid, '113008225657937776461', g.items[i].Description, g.items[i].Rate, g.items[i].Cost, g.items[i].Instock, g.items[i].Active, 1];
                                // tslint:disable-next-line: max-line-length
                                _this.database.executeSql('INSERT INTO  items (itemid,AccountId, Description,Rate,Cost,Instock,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data_24)
                                    .then(function (data) {
                                    console.log('successfully Created item');
                                    return data;
                                }, function (err) {
                                    console.log('Error: ', err);
                                    return err;
                                }).then(function (data3) {
                                    if (typeof g.vendors !== 'undefined') {
                                        console.log('vendors');
                                        for (var i_30 = 0; i_30 < g.vendors.length; i_30++) {
                                            var data_25 = [g.vendors[i_30].ID, g.vendors[i_30].Name, g.vendors[i_30].Address, g.vendors[i_30].Phone, g.vendors[i_30].Email, g.vendors[i_30].bActive, g.vendors[i_30].Balance, 1];
                                            // tslint:disable-next-line: max-line-length
                                            _this.database.executeSql('INSERT INTO  tblvendors (ID,Name,Address,Phone,Email,bActive,Balance,Sync) VALUES (?,?,?,?,?,?,?,?)', data_25)
                                                .then(function (data) {
                                                console.log('successfully Created item');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function (data4) {
                                    if (typeof g.clients !== 'undefined') {
                                        console.log('clients from server:', g.clients);
                                        for (var i_31 = 0; i_31 < g.clients.length; i_31++) {
                                            var data_26 = [g.clients[i_31].Cid, '113008225657937776461', g.clients[i_31].Fname, g.clients[i_31].Lname, g.clients[i_31].Shop, g.clients[i_31].BillingAddress, g.clients[i_31].City, g.clients[i_31].Cell, g.clients[i_31].Active, g.clients[i_31].Balance, 1];
                                            // tslint:disable-next-line: max-line-length
                                            _this.database.executeSql('INSERT INTO  clients (Cid,AccountId,Fname,Lname,Shop,BillingAddress,City,Cell,Active,Balance,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?)', data_26)
                                                .then(function (data) {
                                                console.log('successfully Created item');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function (data5) {
                                    if (typeof g.POS !== 'undefined') {
                                        console.log('POS');
                                        for (var i_32 = 0; i_32 < g.POS.length; i_32++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_27 = [g.POS[i_32].ID, g.POS[i_32].VendorID, g.POS[i_32].Date, g.POS[i_32].ReceivedBy, g.POS[i_32].Total, g.POS[i_32].Remarks, parseInt(g.POS[i_32].Discount), parseInt(g.POS[i_32].Active), 1];
                                            _this.database.executeSql('INSERT INTO  tblpurchasedorder (ID,VendorID,Date,ReceivedBy,Total,Remarks,Discount,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data_27)
                                                .then(function (data) {
                                                console.log('add po');
                                            });
                                        }
                                    }
                                }).then(function (data5) {
                                    if (typeof g.POItems !== 'undefined') {
                                        console.log('POItems');
                                        for (var i_33 = 0; i_33 < g.POItems.length; i_33++) {
                                            var data1 = [g.POItems[i_33].ID, g.POItems[i_33].Poid, g.POItems[i_33].ItemID, g.POItems[i_33].Qty, g.POItems[i_33].CostPrice, 1];
                                            _this.database.executeSql('INSERT INTO  tblpodetail (ID,Poid,ItemID,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                                .then(function (data) {
                                                console.log('successfully Add item');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                            //  this.database.executeSql('UPDATE items SET Instock=Instock+? where itemid=?', [g.POItems[i].Qty, g.POItems[i].ItemID])
                                            //  .then(data => {
                                            //    console.log('successfully Updated stock');
                                            //    return data;
                                            //  }, err => {
                                            //    console.log('Error: ', err);
                                            //    return err;
                                            //  });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.users !== 'undefined') {
                                        console.log('POS');
                                        for (var i_34 = 0; i_34 < g.users.length; i_34++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_28 = [g.users[i_34].ID, g.users[i_34].email, g.users[i_34].name, g.users[i_34].Active, 1];
                                            _this.database.executeSql('INSERT INTO  tblUsers (ID,email,name,bActive,Sync) VALUES (?,?,?,?,?)', data_28)
                                                .then(function (data) {
                                                console.log('add po');
                                            });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.acl !== 'undefined') {
                                        console.log('POS');
                                        for (var i_35 = 0; i_35 < g.acl.length; i_35++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_29 = [g.acl[i_35].ID, g.acl[i_35].name, g.acl[i_35].userId, g.acl[i_35].bValue, 1];
                                            console.log('here3' + data_29);
                                            _this.database.executeSql('INSERT INTO  tblacl (ID,name,userId,bValue,Sync) VALUES (?,?,?,?,?)', data_29)
                                                .then(function (data) {
                                                console.log('add po');
                                            });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.slides !== 'undefined') {
                                        console.log('POS');
                                        for (var i_36 = 0; i_36 < g.slides.length; i_36++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_30 = [g.slides[i_36].Id, g.slides[i_36].slideNo, g.slides[i_36].slideHeading, g.slides[i_36].slideText, g.slides[i_36].slideImage, g.slides[i_36].bActive];
                                            _this.database.executeSql('INSERT INTO tblslides (Id,slideNo,slideHeading,slideText,slideImage,bActive) VALUES (?,?,?,?,?,?)', data_30)
                                                .then(function (data) {
                                                console.log('add po');
                                            });
                                        }
                                    }
                                }).then(function (data6) {
                                    if (typeof g.invoices !== 'undefined') {
                                        for (var i_37 = 0; i_37 < g.invoices.length; i_37++) {
                                            console.log('invoices');
                                            // tslint:disable-next-line: max-line-length
                                            var data_31 = [g.invoices[i_37].Iid, g.invoices[i_37].AccountId, g.invoices[i_37].Cid, g.invoices[i_37].Name, g.invoices[i_37].CreateDate, g.invoices[i_37].Terms, g.invoices[i_37].DueDate, g.invoices[i_37].Subtotal, g.invoices[i_37].Discount, g.invoices[i_37].Total, g.invoices[i_37].Message, parseInt(g.invoices[i_37].Status), 1];
                                            // tslint:disable-next-line: max-line-length
                                            _this.database.executeSql('INSERT INTO  invoices (Iid,AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)', data_31)
                                                .then(function (data) {
                                                console.log('successfully Created invoice');
                                            });
                                        }
                                    }
                                }).then(function (data7) {
                                    if (typeof g.invoiceItems !== 'undefined') {
                                        console.log('POItems');
                                        for (var i_38 = 0; i_38 < g.invoiceItems.length; i_38++) {
                                            var data1 = [g.invoiceItems[i_38].Iiid, g.invoiceItems[i_38].Iid, g.invoiceItems[i_38].Itemid, g.invoiceItems[i_38].Qty, g.invoiceItems[i_38].CostPrice, 1];
                                            _this.database.executeSql('INSERT INTO  invoiceitems (Iiid,Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                                .then(function (data) {
                                                console.log('successfully Add item');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.categories !== 'undefined') {
                                        console.log('POS');
                                        for (var i_39 = 0; i_39 < g.categories.length; i_39++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_32 = [g.categories[i_39].catid, g.categories[i_39].name, g.categories[i_39].active];
                                            _this.database.executeSql('INSERT INTO categories (catid,name,active) VALUES (?,?,?)', data_32)
                                                .then(function (data) {
                                                console.log('add po');
                                            });
                                        }
                                    }
                                }).then(function (data8) {
                                    if (typeof g.ledgers !== 'undefined') {
                                        console.log('ledgers');
                                        for (var i_40 = 0; i_40 < g.ledgers.length; i_40++) {
                                            _this.database.executeSql('INSERT INTO  tblledger (ID,InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.ledgers[i_40].ID, g.ledgers[i_40].InvoiceID, g.ledgers[i_40].Date, g.ledgers[i_40].Amount, g.ledgers[i_40].CustomerID, g.ledgers[i_40].IsCredit, g.ledgers[i_40].DueDate, g.ledgers[i_40].ByUserId, g.ledgers[i_40].Remarks, 1])
                                                .then(function (data) {
                                                console.log('successfully Added Ledger');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.logs !== 'undefined') {
                                        console.log('ledgers');
                                        for (var i_41 = 0; i_41 < g.logs.length; i_41++) {
                                            // tslint:disable-next-line: max-line-length
                                            var data_33 = [g.logs[i_41].ID, g.logs[i_41].tableName, g.logs[i_41].tableId, g.logs[i_41].userId, g.logs[i_41].actionType, g.logs[i_41].name, g.logs[i_41].dated, 1];
                                            _this.database.executeSql('INSERT INTO  tblLogs (ID,tableName,tableId,userId,actionType,name,dated,Sync) VALUES (?,?,?,?,?,?,?,?)', data_33)
                                                .then(function (data) {
                                                console.log('successfully Created Log');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function () {
                                    if (typeof g.vendorsLeger !== 'undefined') {
                                        console.log('vender ledgers');
                                        for (var i_42 = 0; i_42 < g.vendorsLeger.length; i_42++) {
                                            // tslint:disable-next-line: max-line-length
                                            _this.database.executeSql('INSERT INTO  tblledgervendor (ID,POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.vendorsLeger[i_42].ID, g.vendorsLeger[i_42].POID, g.vendorsLeger[i_42].Date, g.vendorsLeger[i_42].Amount, g.vendorsLeger[i_42].VendorID, g.vendorsLeger[i_42].IsCredit, g.vendorsLeger[i_42].DueDate, g.vendorsLeger[i_42].ByUserId, g.vendorsLeger[i_42].Remarks, 1])
                                                .then(function (data) {
                                                console.log('successfully Added vendorledger');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function () {
                                    // loading.dismiss();
                                    if (typeof g.expenses !== 'undefined') {
                                        console.log('vender ledgers');
                                        for (var i_43 = 0; i_43 < g.expenses.length; i_43++) {
                                            var data_34 = [g.expenses[i_43].ID, '113008225657937776461', g.expenses[i_43].Name, g.expenses[i_43].Date, g.expenses[i_43].Amount, g.expenses[i_43].Category, g.expenses[i_43].Description, g.expenses[i_43].Active, g.expenses[i_43].Sync];
                                            // tslint:disable-next-line: max-line-length
                                            _this.database.executeSql('INSERT INTO  tblexpenses (ID,AccountId,Name,Date,Amount,Category,Description,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data_34)
                                                .then(function (data) {
                                                console.log('successfully Created item');
                                                return data;
                                            }, function (err) {
                                                console.log('Error: ', err);
                                                return err;
                                            });
                                        }
                                    }
                                }).then(function () {
                                    // loading.dismiss();
                                });
                            }
                        }
                        if (_this.executed === 0) {
                            //   loading.dismiss();
                        }
                        console.log('hurrah');
                    }
                    else {
                        // alert('failed');
                    }
                    // this.initializeItems();
                }, function (err) {
                    console.log('JS call error-2', err);
                    //const error = JSON.parse(err);
                    //alert(error.message);
                    console.log('Native data: 123456');
                    console.log(err);
                });
                return [2 /*return*/];
            });
        });
    };
    SyncService.prototype.emptyLocalDB = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var loading;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create({
                            message: 'Synchronizing',
                        })];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        this.database.executeSql('DELETE from invoiceitems', [])
                            .then(function (data) {
                            console.log('successfully Added Ledger');
                            return data;
                        }, function (err) {
                            console.log('Error: ', err);
                            return err;
                        }).then(function () {
                            _this.database.executeSql('DELETE from invoices', [])
                                .then(function (data) {
                                console.log('successfully Added Ledger');
                                return data;
                            }, function (err) {
                                console.log('Error: ', err);
                                return err;
                            });
                        }).then(function () {
                            _this.database.executeSql('DELETE from tblpodetail', [])
                                .then(function (data) {
                                console.log('successfully Added Ledger');
                                return data;
                            }, function (err) {
                                console.log('Error: ', err);
                                return err;
                            });
                        }).then(function () {
                            _this.database.executeSql('DELETE from tblpurchasedorder', [])
                                .then(function (data) {
                                console.log('successfully Added Ledger');
                                return data;
                            }, function (err) {
                                console.log('Error: ', err);
                                return err;
                            });
                        }).then(function () {
                            _this.database.executeSql('DELETE from tblledger', [])
                                .then(function (data) {
                                console.log('successfully Added Ledger');
                                return data;
                            }, function (err) {
                                console.log('Error: ', err);
                                return err;
                            });
                        }).then(function () {
                            _this.database.executeSql('DELETE from tblvendors', [])
                                .then(function (data) {
                                console.log('successfully Added Ledger');
                                return data;
                            }, function (err) {
                                console.log('Error: ', err);
                                return err;
                            });
                        }).then(function () {
                            _this.database.executeSql('DELETE from items', [])
                                .then(function (data) {
                                console.log('successfully Added Ledger');
                                return data;
                            }, function (err) {
                                console.log('Error: ', err);
                                return err;
                            });
                        }).then(function () {
                            _this.database.executeSql('DELETE from clients', [])
                                .then(function (data) {
                                console.log('successfully Added Ledger');
                                return data;
                            }, function (err) {
                                console.log('Error: ', err);
                                return err;
                            });
                        }).then(function () {
                            _this.database.executeSql('DELETE from tblledgervendor', [])
                                .then(function (data) {
                                console.log('successfully Added Ledger');
                                return data;
                            }, function (err) {
                                console.log('Error: ', err);
                                return err;
                            });
                        }).then(function () {
                            _this.database.executeSql('DELETE from tbllogs', [])
                                .then(function (data) {
                                console.log('successfully Added Ledger');
                                loading.dismiss();
                                // this.syncDataServertoAppWithLoading();
                                return data;
                            }, function (err) {
                                console.log('Error: ', err);
                                return err;
                            });
                        }).then(function () {
                            _this.database.executeSql('DELETE from tblUsers', [])
                                .then(function (data) {
                                console.log('successfully Added Ledger');
                                return data;
                            }, function (err) {
                                console.log('Error: ', err);
                                return err;
                            });
                        }).then(function () {
                            _this.database.executeSql('DELETE from tblacl', [])
                                .then(function (data) {
                                console.log('successfully Added Ledger');
                                return data;
                            }, function (err) {
                                console.log('Error: ', err);
                                return err;
                            });
                        }).then(function () {
                            _this.database.executeSql('DELETE from tblslides', [])
                                .then(function (data) {
                                console.log('successfully Added Ledger');
                                return data;
                            }, function (err) {
                                console.log('Error: ', err);
                                return err;
                            });
                        }).then(function () {
                            _this.database.executeSql('DELETE from categories', [])
                                .then(function (data) {
                                console.log('successfully Added Ledger');
                                return data;
                            }, function (err) {
                                console.log('Error: ', err);
                                return err;
                            });
                        }).then(function () {
                            _this.database.executeSql('DELETE from tblexpenses', [])
                                .then(function (data) {
                                console.log('successfully Added Ledger');
                                loading.dismiss();
                                _this.syncDataServertoAppWithLoading();
                                return data;
                            }, function (err) {
                                console.log('Error: ', err);
                                return err;
                            });
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    SyncService.prototype.syncDataServertoAppWithLoading = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var loading, url, nativeCall;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.executed = 0;
                        return [4 /*yield*/, this.loadingController.create({
                                message: 'Synchronizing',
                            })];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        url = this.databaseprovider.getURL();
                        this.nativeHttp.setDataSerializer("json");
                        console.log('url is ' + url);
                        nativeCall = this.nativeHttp.post(url, {
                            'Name': 'sqliteSync1',
                            "AccountId": '113008225657937776461'
                        }, {
                            'Content-Type': 'application/json',
                            'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                        });
                        Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                            .subscribe(function (data) {
                            console.log('Native data:', data);
                            var g = JSON.parse(data.data);
                            if (g.success === 1) {
                                // alert('success = ' + g.success);
                                if (typeof g.vendors !== 'undefined' && _this.executed === 0) {
                                    _this.executed = 1;
                                    console.log('vendors');
                                    for (var i = 0; i < 1; i++) {
                                        var data_35 = [g.vendors[i].ID, g.vendors[i].Name, g.vendors[i].Address, g.vendors[i].Phone, g.vendors[i].Email, g.vendors[i].bActive, g.vendors[i].Balance, 1];
                                        // tslint:disable-next-line: max-line-length
                                        _this.database.executeSql('SELECT * FROM tblvendors', data_35)
                                            .then(function (data) {
                                            console.log('successfully Created item');
                                            return data;
                                        }, function (err) {
                                            console.log('Error: ', err);
                                            return err;
                                        }).then(function () {
                                            if (typeof g.vendors !== 'undefined') {
                                                console.log('items');
                                                for (var i_44 = 0; i_44 < g.vendors.length; i_44++) {
                                                    var data_36 = [g.vendors[i_44].ID, g.vendors[i_44].Name, g.vendors[i_44].Address, g.vendors[i_44].Phone, g.vendors[i_44].Email, g.vendors[i_44].bActive, g.vendors[i_44].Balance, 1];
                                                    // tslint:disable-next-line: max-line-length
                                                    _this.database.executeSql('INSERT INTO  tblvendors (ID,Name,Address,Phone,Email,bActive,Balance,Sync) VALUES (?,?,?,?,?,?,?,?)', data_36)
                                                        .then(function (data) {
                                                        console.log('successfully Created item');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function (data3) {
                                            if (typeof g.items !== 'undefined') {
                                                console.log('items');
                                                for (var i_45 = 0; i_45 < g.items.length; i_45++) {
                                                    var data_37 = [g.items[i_45].itemid, '113008225657937776461', g.items[i_45].Description, g.items[i_45].Rate, g.items[i_45].Cost, g.items[i_45].Instock, g.items[i_45].Active, 1];
                                                    // tslint:disable-next-line: max-line-length
                                                    _this.database.executeSql('INSERT INTO  items (itemid,AccountId, Description,Rate,Cost,Instock,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data_37)
                                                        .then(function (data) {
                                                        console.log('successfully Created item');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function (data4) {
                                            if (typeof g.clients !== 'undefined') {
                                                console.log('clients from server:', g.clients);
                                                for (var i_46 = 0; i_46 < g.clients.length; i_46++) {
                                                    var data_38 = [g.clients[i_46].Cid, '113008225657937776461', g.clients[i_46].Fname, g.clients[i_46].Lname, g.clients[i_46].Shop, g.clients[i_46].BillingAddress, g.clients[i_46].City, g.clients[i_46].Cell, g.clients[i_46].Active, g.clients[i_46].Balance, 1];
                                                    // tslint:disable-next-line: max-line-length
                                                    _this.database.executeSql('INSERT INTO  clients (Cid,AccountId,Fname,Lname,Shop,BillingAddress,City,Cell,Active,Balance,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?)', data_38)
                                                        .then(function (data) {
                                                        console.log('successfully Created item');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function (data5) {
                                            if (typeof g.POS !== 'undefined') {
                                                console.log('POS');
                                                for (var i_47 = 0; i_47 < g.POS.length; i_47++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_39 = [g.POS[i_47].ID, g.POS[i_47].VendorID, g.POS[i_47].Date, g.POS[i_47].ReceivedBy, g.POS[i_47].Total, g.POS[i_47].Remarks, parseInt(g.POS[i_47].Discount), parseInt(g.POS[i_47].Active), 1];
                                                    _this.database.executeSql('INSERT INTO  tblpurchasedorder (ID,VendorID,Date,ReceivedBy,Total,Remarks,Discount,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data_39)
                                                        .then(function (data) {
                                                        console.log('add po');
                                                    });
                                                }
                                            }
                                        }).then(function (data5) {
                                            if (typeof g.POItems !== 'undefined') {
                                                console.log('POItems');
                                                for (var i_48 = 0; i_48 < g.POItems.length; i_48++) {
                                                    var data1 = [g.POItems[i_48].ID, g.POItems[i_48].Poid, g.POItems[i_48].ItemID, g.POItems[i_48].Qty, g.POItems[i_48].CostPrice, 1];
                                                    _this.database.executeSql('INSERT INTO  tblpodetail (ID,Poid,ItemID,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                                        .then(function (data) {
                                                        console.log('successfully Add item');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                    //  this.database.executeSql('UPDATE items SET Instock=Instock+? where itemid=?', [g.POItems[i].Qty, g.POItems[i].ItemID])
                                                    //  .then(data => {
                                                    //    console.log('successfully Updated stock');
                                                    //    return data;
                                                    //  }, err => {
                                                    //    console.log('Error: ', err);
                                                    //    return err;
                                                    //  });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.users !== 'undefined') {
                                                console.log('POS');
                                                for (var i_49 = 0; i_49 < g.users.length; i_49++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_40 = [g.users[i_49].ID, g.users[i_49].email, g.users[i_49].name, g.users[i_49].Active, 1];
                                                    _this.database.executeSql('INSERT INTO  tblUsers (ID,email,name,bActive,Sync) VALUES (?,?,?,?,?)', data_40)
                                                        .then(function (data) {
                                                        console.log('add po');
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.acl !== 'undefined') {
                                                console.log('POS');
                                                for (var i_50 = 0; i_50 < g.acl.length; i_50++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_41 = [g.acl[i_50].ID, g.acl[i_50].name, g.acl[i_50].userId, g.acl[i_50].bValue, 1];
                                                    console.log('here4' + data_41);
                                                    _this.database.executeSql('INSERT INTO  tblacl (ID,name,userId,bValue,Sync) VALUES (?,?,?,?,?)', data_41)
                                                        .then(function (data) {
                                                        console.log('add po');
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.categories !== 'undefined') {
                                                console.log('POS');
                                                for (var i_51 = 0; i_51 < g.categories.length; i_51++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_42 = [g.categories[i_51].catid, g.categories[i_51].name, g.categories[i_51].active];
                                                    _this.database.executeSql('INSERT INTO categories (catid,name,active) VALUES (?,?,?)', data_42)
                                                        .then(function (data) {
                                                        console.log('add po');
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.slides !== 'undefined') {
                                                console.log('POS');
                                                for (var i_52 = 0; i_52 < g.slides.length; i_52++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_43 = [g.slides[i_52].Id, g.slides[i_52].slideNo, g.slides[i_52].slideHeading, g.slides[i_52].slideText, g.slides[i_52].slideImage, g.slides[i_52].bActive];
                                                    _this.database.executeSql('INSERT INTO tblslides (Id,slideNo,slideHeading,slideText,slideImage,bActive) VALUES (?,?,?,?,?,?)', data_43)
                                                        .then(function (data) {
                                                        console.log('add po');
                                                    });
                                                }
                                            }
                                        }).then(function (data6) {
                                            if (typeof g.invoices !== 'undefined') {
                                                for (var i_53 = 0; i_53 < g.invoices.length; i_53++) {
                                                    console.log('invoices');
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_44 = [g.invoices[i_53].Iid, g.invoices[i_53].AccountId, g.invoices[i_53].Cid, g.invoices[i_53].Name, g.invoices[i_53].CreateDate, g.invoices[i_53].Terms, g.invoices[i_53].DueDate, g.invoices[i_53].Subtotal, g.invoices[i_53].Discount, g.invoices[i_53].Total, g.invoices[i_53].Message, parseInt(g.invoices[i_53].Status), 1];
                                                    // tslint:disable-next-line: max-line-length
                                                    _this.database.executeSql('INSERT INTO  invoices (Iid,AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)', data_44)
                                                        .then(function (data) {
                                                        console.log('successfully Created invoice');
                                                    });
                                                }
                                            }
                                        }).then(function (data7) {
                                            if (typeof g.invoiceItems !== 'undefined') {
                                                console.log('POItems');
                                                for (var i_54 = 0; i_54 < g.invoiceItems.length; i_54++) {
                                                    var data1 = [g.invoiceItems[i_54].Iiid, g.invoiceItems[i_54].Iid, g.invoiceItems[i_54].Itemid, g.invoiceItems[i_54].Qty, g.invoiceItems[i_54].CostPrice, 1];
                                                    _this.database.executeSql('INSERT INTO  invoiceitems (Iiid,Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                                        .then(function (data) {
                                                        console.log('successfully Add item');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function (data8) {
                                            if (typeof g.ledgers !== 'undefined') {
                                                console.log('ledgers');
                                                for (var i_55 = 0; i_55 < g.ledgers.length; i_55++) {
                                                    _this.database.executeSql('INSERT INTO  tblledger (ID,InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.ledgers[i_55].ID, g.ledgers[i_55].InvoiceID, g.ledgers[i_55].Date, g.ledgers[i_55].Amount, g.ledgers[i_55].CustomerID, g.ledgers[i_55].IsCredit, g.ledgers[i_55].DueDate, g.ledgers[i_55].ByUserId, g.ledgers[i_55].Remarks, 1])
                                                        .then(function (data) {
                                                        console.log('successfully Added Ledger');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.logs !== 'undefined') {
                                                console.log('ledgers');
                                                for (var i_56 = 0; i_56 < g.logs.length; i_56++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_45 = [g.logs[i_56].ID, g.logs[i_56].tableName, g.logs[i_56].tableId, g.logs[i_56].userId, g.logs[i_56].actionType, g.logs[i_56].name, g.logs[i_56].dated, 1];
                                                    _this.database.executeSql('INSERT INTO  tblLogs (ID,tableName,tableId,userId,actionType,name,dated,Sync) VALUES (?,?,?,?,?,?,?,?)', data_45)
                                                        .then(function (data) {
                                                        console.log('successfully Created Log');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.vendorsLeger !== 'undefined') {
                                                debugger;
                                                console.log('vender ledgers');
                                                for (var i_57 = 0; i_57 < g.vendorsLeger.length; i_57++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    _this.database.executeSql('INSERT INTO  tblledgervendor (ID,POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.vendorsLeger[i_57].ID, g.vendorsLeger[i_57].POID, g.vendorsLeger[i_57].Date, g.vendorsLeger[i_57].Amount, g.vendorsLeger[i_57].VendorID, g.vendorsLeger[i_57].IsCredit, g.vendorsLeger[i_57].DueDate, g.vendorsLeger[i_57].ByUserId, g.vendorsLeger[i_57].Remarks, 1])
                                                        .then(function (data) {
                                                        console.log('successfully Added vendorledger');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            // loading.dismiss();
                                            if (typeof g.expenses !== 'undefined') {
                                                console.log('vender ledgers');
                                                for (var i_58 = 0; i_58 < g.expenses.length; i_58++) {
                                                    var data_46 = [g.expenses[i_58].ID, '113008225657937776461', g.expenses[i_58].Name, g.expenses[i_58].Date, g.expenses[i_58].Amount, g.expenses[i_58].Category, g.expenses[i_58].Description, g.expenses[i_58].Active, g.expenses[i_58].Sync];
                                                    // tslint:disable-next-line: max-line-length
                                                    _this.database.executeSql('INSERT INTO  tblexpenses (ID,AccountId,Name,Date,Amount,Category,Description,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data_46)
                                                        .then(function (data) {
                                                        console.log('successfully Created item');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            loading.dismiss();
                                        });
                                    }
                                }
                                if (typeof g.clients !== 'undefined' && _this.executed === 0) {
                                    _this.executed = 1;
                                    console.log('clients from server:', g.clients);
                                    for (var i = 0; i < g.clients.length; i++) {
                                        var data_47 = [g.clients[i].Cid, '113008225657937776461', g.clients[i].Fname, g.clients[i].Lname, g.clients[i].Shop, g.clients[i].BillingAddress, g.clients[i].City, g.clients[i].Cell, g.clients[i].Active, g.clients[i].Balance, 1];
                                        // tslint:disable-next-line: max-line-length
                                        _this.database.executeSql('INSERT INTO  clients (Cid,AccountId,Fname,Lname,Shop,BillingAddress,City,Cell,Active,Balance,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?)', data_47)
                                            .then(function (data) {
                                            console.log('successfully Created item');
                                            return data;
                                        }, function (err) {
                                            console.log('Error: ', err);
                                            return err;
                                        }).then(function (data3) {
                                            if (typeof g.items !== 'undefined') {
                                                console.log('items');
                                                for (var i_59 = 0; i_59 < g.items.length; i_59++) {
                                                    var data_48 = [g.items[i_59].itemid, '113008225657937776461', g.items[i_59].Description, g.items[i_59].Rate, g.items[i_59].Cost, g.items[i_59].Instock, g.items[i_59].Active, 1];
                                                    // tslint:disable-next-line: max-line-length
                                                    _this.database.executeSql('INSERT INTO  items (itemid,AccountId, Description,Rate,Cost,Instock,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data_48)
                                                        .then(function (data) {
                                                        console.log('successfully Created item');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function (data4) {
                                            if (typeof g.vendors !== 'undefined') {
                                                console.log('vendors');
                                                for (var i_60 = 0; i_60 < g.vendors.length; i_60++) {
                                                    var data_49 = [g.vendors[i_60].ID, g.vendors[i_60].Name, g.vendors[i_60].Address, g.vendors[i_60].Phone, g.vendors[i_60].Email, g.vendors[i_60].bActive, g.vendors[i_60].Balance, 1];
                                                    // tslint:disable-next-line: max-line-length
                                                    _this.database.executeSql('INSERT INTO  tblvendors (ID,Name,Address,Phone,Email,bActive,Balance,Sync) VALUES (?,?,?,?,?,?,?,?)', data_49)
                                                        .then(function (data) {
                                                        console.log('successfully Created item');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function (data5) {
                                            if (typeof g.POS !== 'undefined') {
                                                console.log('POS');
                                                for (var i_61 = 0; i_61 < g.POS.length; i_61++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_50 = [g.POS[i_61].ID, g.POS[i_61].VendorID, g.POS[i_61].Date, g.POS[i_61].ReceivedBy, g.POS[i_61].Total, g.POS[i_61].Remarks, parseInt(g.POS[i_61].Discount), parseInt(g.POS[i_61].Active), 1];
                                                    _this.database.executeSql('INSERT INTO  tblpurchasedorder (ID,VendorID,Date,ReceivedBy,Total,Remarks,Discount,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data_50)
                                                        .then(function (data) {
                                                        console.log('add po');
                                                    });
                                                }
                                            }
                                        }).then(function (data5) {
                                            if (typeof g.POItems !== 'undefined') {
                                                console.log('POItems');
                                                for (var i_62 = 0; i_62 < g.POItems.length; i_62++) {
                                                    var data1 = [g.POItems[i_62].ID, g.POItems[i_62].Poid, g.POItems[i_62].ItemID, g.POItems[i_62].Qty, g.POItems[i_62].CostPrice, 1];
                                                    _this.database.executeSql('INSERT INTO  tblpodetail (ID,Poid,ItemID,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                                        .then(function (data) {
                                                        console.log('successfully Add item');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                    //  this.database.executeSql('UPDATE items SET Instock=Instock+? where itemid=?', [g.POItems[i].Qty, g.POItems[i].ItemID])
                                                    //  .then(data => {
                                                    //    console.log('successfully Updated stock');
                                                    //    return data;
                                                    //  }, err => {
                                                    //    console.log('Error: ', err);
                                                    //    return err;
                                                    //  });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.users !== 'undefined') {
                                                console.log('POS');
                                                for (var i_63 = 0; i_63 < g.users.length; i_63++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_51 = [g.users[i_63].ID, g.users[i_63].email, g.users[i_63].name, g.users[i_63].Active, 1];
                                                    _this.database.executeSql('INSERT INTO  tblUsers (ID,email,name,bActive,Sync) VALUES (?,?,?,?,?)', data_51)
                                                        .then(function (data) {
                                                        console.log('add po');
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.acl !== 'undefined') {
                                                console.log('POS');
                                                for (var i_64 = 0; i_64 < g.acl.length; i_64++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_52 = [g.acl[i_64].ID, g.acl[i_64].name, g.acl[i_64].userId, g.acl[i_64].bValue, 1];
                                                    console.log('here5' + data_52);
                                                    _this.database.executeSql('INSERT INTO  tblacl (ID,name,userId,bValue,Sync) VALUES (?,?,?,?,?)', data_52)
                                                        .then(function (data) {
                                                        console.log('add po');
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.categories !== 'undefined') {
                                                console.log('POS');
                                                for (var i_65 = 0; i_65 < g.categories.length; i_65++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_53 = [g.categories[i_65].catid, g.categories[i_65].name, g.categories[i_65].active];
                                                    _this.database.executeSql('INSERT INTO  categories (catid,name,active) VALUES (?,?,?)', data_53)
                                                        .then(function (data) {
                                                        console.log('add po');
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.slides !== 'undefined') {
                                                console.log('POS');
                                                for (var i_66 = 0; i_66 < g.slides.length; i_66++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_54 = [g.slides[i_66].Id, g.slides[i_66].slideNo, g.slides[i_66].slideHeading, g.slides[i_66].slideText, g.slides[i_66].slideImage, g.slides[i_66].bActive];
                                                    _this.database.executeSql('INSERT INTO tblslides (Id,slideNo,slideHeading,slideText,slideImage,bActive) VALUES (?,?,?,?,?,?)', data_54)
                                                        .then(function (data) {
                                                        console.log('add po');
                                                    });
                                                }
                                            }
                                        }).then(function (data6) {
                                            if (typeof g.invoices !== 'undefined') {
                                                for (var i_67 = 0; i_67 < g.invoices.length; i_67++) {
                                                    console.log('invoices');
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_55 = [g.invoices[i_67].Iid, g.invoices[i_67].AccountId, g.invoices[i_67].Cid, g.invoices[i_67].Name, g.invoices[i_67].CreateDate, g.invoices[i_67].Terms, g.invoices[i_67].DueDate, g.invoices[i_67].Subtotal, g.invoices[i_67].Discount, g.invoices[i_67].Total, g.invoices[i_67].Message, parseInt(g.invoices[i_67].Status), 1];
                                                    // tslint:disable-next-line: max-line-length
                                                    _this.database.executeSql('INSERT INTO  invoices (Iid,AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)', data_55)
                                                        .then(function (data) {
                                                        console.log('successfully Created invoice');
                                                    });
                                                }
                                            }
                                        }).then(function (data7) {
                                            if (typeof g.invoiceItems !== 'undefined') {
                                                console.log('POItems');
                                                for (var i_68 = 0; i_68 < g.invoiceItems.length; i_68++) {
                                                    var data1 = [g.invoiceItems[i_68].Iiid, g.invoiceItems[i_68].Iid, g.invoiceItems[i_68].Itemid, g.invoiceItems[i_68].Qty, g.invoiceItems[i_68].CostPrice, 1];
                                                    _this.database.executeSql('INSERT INTO  invoiceitems (Iiid,Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                                        .then(function (data) {
                                                        console.log('successfully Add item');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function (data8) {
                                            if (typeof g.ledgers !== 'undefined') {
                                                console.log('ledgers');
                                                for (var i_69 = 0; i_69 < g.ledgers.length; i_69++) {
                                                    _this.database.executeSql('INSERT INTO  tblledger (ID,InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.ledgers[i_69].ID, g.ledgers[i_69].InvoiceID, g.ledgers[i_69].Date, g.ledgers[i_69].Amount, g.ledgers[i_69].CustomerID, g.ledgers[i_69].IsCredit, g.ledgers[i_69].DueDate, g.ledgers[i_69].ByUserId, g.ledgers[i_69].Remarks, 1])
                                                        .then(function (data) {
                                                        console.log('successfully Added Ledger');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.logs !== 'undefined') {
                                                console.log('ledgers');
                                                for (var i_70 = 0; i_70 < g.logs.length; i_70++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_56 = [g.logs[i_70].ID, g.logs[i_70].tableName, g.logs[i_70].tableId, g.logs[i_70].userId, g.logs[i_70].actionType, g.logs[i_70].name, g.logs[i_70].dated, 1];
                                                    _this.database.executeSql('INSERT INTO  tblLogs (ID,tableName,tableId,userId,actionType,name,dated,Sync) VALUES (?,?,?,?,?,?,?,?)', data_56)
                                                        .then(function (data) {
                                                        console.log('successfully Created Log');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.vendorsLeger !== 'undefined') {
                                                console.log('vender ledgers');
                                                for (var i_71 = 0; i_71 < g.vendorsLeger.length; i_71++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    _this.database.executeSql('INSERT INTO  tblledgervendor (ID,POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.vendorsLeger[i_71].ID, g.vendorsLeger[i_71].POID, g.vendorsLeger[i_71].Date, g.vendorsLeger[i_71].Amount, g.vendorsLeger[i_71].VendorID, g.vendorsLeger[i_71].IsCredit, g.vendorsLeger[i_71].DueDate, g.vendorsLeger[i_71].ByUserId, g.vendorsLeger[i_71].Remarks, 1])
                                                        .then(function (data) {
                                                        console.log('successfully Added vendorledger');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            // loading.dismiss();
                                            if (typeof g.expenses !== 'undefined') {
                                                console.log('vender ledgers');
                                                for (var i_72 = 0; i_72 < g.expenses.length; i_72++) {
                                                    var data_57 = [g.expenses[i_72].ID, '113008225657937776461', g.expenses[i_72].Name, g.expenses[i_72].Date, g.expenses[i_72].Amount, g.expenses[i_72].Category, g.expenses[i_72].Description, g.expenses[i_72].Active, g.expenses[i_72].Sync];
                                                    // tslint:disable-next-line: max-line-length
                                                    _this.database.executeSql('INSERT INTO  tblexpenses (ID,AccountId,Name,Date,Amount,Category,Description,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data_57)
                                                        .then(function (data) {
                                                        console.log('successfully Created item');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            loading.dismiss();
                                        });
                                    }
                                }
                                if (typeof g.items !== 'undefined' && _this.executed === 0) {
                                    _this.executed = 1;
                                    console.log('items');
                                    for (var i = 0; i < g.items.length; i++) {
                                        var data_58 = [g.items[i].itemid, '113008225657937776461', g.items[i].Description, g.items[i].Rate, g.items[i].Cost, g.items[i].Instock, g.items[i].Active, 1];
                                        // tslint:disable-next-line: max-line-length
                                        _this.database.executeSql('INSERT INTO  items (itemid,AccountId, Description,Rate,Cost,Instock,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data_58)
                                            .then(function (data) {
                                            console.log('successfully Created item');
                                            return data;
                                        }, function (err) {
                                            console.log('Error: ', err);
                                            return err;
                                        }).then(function (data3) {
                                            if (typeof g.vendors !== 'undefined') {
                                                console.log('vendors');
                                                for (var i_73 = 0; i_73 < g.vendors.length; i_73++) {
                                                    var data_59 = [g.vendors[i_73].ID, g.vendors[i_73].Name, g.vendors[i_73].Address, g.vendors[i_73].Phone, g.vendors[i_73].Email, g.vendors[i_73].bActive, g.vendors[i_73].Balance, 1];
                                                    // tslint:disable-next-line: max-line-length
                                                    _this.database.executeSql('INSERT INTO  tblvendors (ID,Name,Address,Phone,Email,bActive,Balance,Sync) VALUES (?,?,?,?,?,?,?,?)', data_59)
                                                        .then(function (data) {
                                                        console.log('successfully Created item');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function (data4) {
                                            if (typeof g.clients !== 'undefined') {
                                                console.log('clients from server:', g.clients);
                                                for (var i_74 = 0; i_74 < g.clients.length; i_74++) {
                                                    var data_60 = [g.clients[i_74].Cid, '113008225657937776461', g.clients[i_74].Fname, g.clients[i_74].Lname, g.clients[i_74].Shop, g.clients[i_74].BillingAddress, g.clients[i_74].City, g.clients[i_74].Cell, g.clients[i_74].Active, g.clients[i_74].Balance, 1];
                                                    // tslint:disable-next-line: max-line-length
                                                    _this.database.executeSql('INSERT INTO  clients (Cid,AccountId,Fname,Lname,Shop,BillingAddress,City,Cell,Active,Balance,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?)', data_60)
                                                        .then(function (data) {
                                                        console.log('successfully Created item');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function (data5) {
                                            if (typeof g.POS !== 'undefined') {
                                                console.log('POS');
                                                for (var i_75 = 0; i_75 < g.POS.length; i_75++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_61 = [g.POS[i_75].ID, g.POS[i_75].VendorID, g.POS[i_75].Date, g.POS[i_75].ReceivedBy, g.POS[i_75].Total, g.POS[i_75].Remarks, parseInt(g.POS[i_75].Discount), parseInt(g.POS[i_75].Active), 1];
                                                    _this.database.executeSql('INSERT INTO  tblpurchasedorder (ID,VendorID,Date,ReceivedBy,Total,Remarks,Discount,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data_61)
                                                        .then(function (data) {
                                                        console.log('add po');
                                                    });
                                                }
                                            }
                                        }).then(function (data5) {
                                            if (typeof g.POItems !== 'undefined') {
                                                console.log('POItems');
                                                for (var i_76 = 0; i_76 < g.POItems.length; i_76++) {
                                                    var data1 = [g.POItems[i_76].ID, g.POItems[i_76].Poid, g.POItems[i_76].ItemID, g.POItems[i_76].Qty, g.POItems[i_76].CostPrice, 1];
                                                    _this.database.executeSql('INSERT INTO  tblpodetail (ID,Poid,ItemID,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                                        .then(function (data) {
                                                        console.log('successfully Add item');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                    //  this.database.executeSql('UPDATE items SET Instock=Instock+? where itemid=?', [g.POItems[i].Qty, g.POItems[i].ItemID])
                                                    //  .then(data => {
                                                    //    console.log('successfully Updated stock');
                                                    //    return data;
                                                    //  }, err => {
                                                    //    console.log('Error: ', err);
                                                    //    return err;
                                                    //  });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.users !== 'undefined') {
                                                console.log('POS');
                                                for (var i_77 = 0; i_77 < g.users.length; i_77++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_62 = [g.users[i_77].ID, g.users[i_77].email, g.users[i_77].name, g.users[i_77].Active, 1];
                                                    _this.database.executeSql('INSERT INTO  tblUsers (ID,email,name,bActive,Sync) VALUES (?,?,?,?,?)', data_62)
                                                        .then(function (data) {
                                                        console.log('add po');
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.acl !== 'undefined') {
                                                console.log('POS');
                                                for (var i_78 = 0; i_78 < g.acl.length; i_78++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_63 = [g.acl[i_78].ID, g.acl[i_78].name, g.acl[i_78].userId, g.acl[i_78].bValue, 1];
                                                    console.log('here6' + data_63);
                                                    _this.database.executeSql('INSERT INTO  tblacl (ID,name,userId,bValue,Sync) VALUES (?,?,?,?,?)', data_63)
                                                        .then(function (data) {
                                                        console.log('add po');
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.categories !== 'undefined') {
                                                console.log('POS');
                                                for (var i_79 = 0; i_79 < g.categories.length; i_79++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_64 = [g.categories[i_79].catid, g.categories[i_79].name, g.categories[i_79].active];
                                                    _this.database.executeSql('INSERT INTO  categories (catid,name,active) VALUES (?,?,?)', data_64)
                                                        .then(function (data) {
                                                        console.log('add po');
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.slides !== 'undefined') {
                                                console.log('POS');
                                                for (var i_80 = 0; i_80 < g.slides.length; i_80++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_65 = [g.slides[i_80].Id, g.slides[i_80].slideNo, g.slides[i_80].slideHeading, g.slides[i_80].slideText, g.slides[i_80].slideImage, g.slides[i_80].bActive];
                                                    _this.database.executeSql('INSERT INTO tblslides (Id,slideNo,slideHeading,slideText,slideImage,bActive) VALUES (?,?,?,?,?,?)', data_65)
                                                        .then(function (data) {
                                                        console.log('add po');
                                                    });
                                                }
                                            }
                                        }).then(function (data6) {
                                            if (typeof g.invoices !== 'undefined') {
                                                for (var i_81 = 0; i_81 < g.invoices.length; i_81++) {
                                                    console.log('invoices');
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_66 = [g.invoices[i_81].Iid, g.invoices[i_81].AccountId, g.invoices[i_81].Cid, g.invoices[i_81].Name, g.invoices[i_81].CreateDate, g.invoices[i_81].Terms, g.invoices[i_81].DueDate, g.invoices[i_81].Subtotal, g.invoices[i_81].Discount, g.invoices[i_81].Total, g.invoices[i_81].Message, parseInt(g.invoices[i_81].Status), 1];
                                                    // tslint:disable-next-line: max-line-length
                                                    _this.database.executeSql('INSERT INTO  invoices (Iid,AccountId,Cid,Name,CreateDate,Terms,DueDate,Subtotal,Discount,Total,Message,Status,Sync) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)', data_66)
                                                        .then(function (data) {
                                                        console.log('successfully Created invoice');
                                                    });
                                                }
                                            }
                                        }).then(function (data7) {
                                            if (typeof g.invoiceItems !== 'undefined') {
                                                console.log('POItems');
                                                for (var i_82 = 0; i_82 < g.invoiceItems.length; i_82++) {
                                                    var data1 = [g.invoiceItems[i_82].Iiid, g.invoiceItems[i_82].Iid, g.invoiceItems[i_82].Itemid, g.invoiceItems[i_82].Qty, g.invoiceItems[i_82].CostPrice, 1];
                                                    _this.database.executeSql('INSERT INTO  invoiceitems (Iiid,Iid,Itemid,Qty,CostPrice,Sync) VALUES (?,?,?,?,?,?)', data1)
                                                        .then(function (data) {
                                                        console.log('successfully Add item');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function (data8) {
                                            if (typeof g.ledgers !== 'undefined') {
                                                console.log('ledgers');
                                                for (var i_83 = 0; i_83 < g.ledgers.length; i_83++) {
                                                    _this.database.executeSql('INSERT INTO  tblledger (ID,InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.ledgers[i_83].ID, g.ledgers[i_83].InvoiceID, g.ledgers[i_83].Date, g.ledgers[i_83].Amount, g.ledgers[i_83].CustomerID, g.ledgers[i_83].IsCredit, g.ledgers[i_83].DueDate, g.ledgers[i_83].ByUserId, g.ledgers[i_83].Remarks, 1])
                                                        .then(function (data) {
                                                        console.log('successfully Added Ledger');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.logs !== 'undefined') {
                                                console.log('ledgers');
                                                for (var i_84 = 0; i_84 < g.logs.length; i_84++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    var data_67 = [g.logs[i_84].ID, g.logs[i_84].tableName, g.logs[i_84].tableId, g.logs[i_84].userId, g.logs[i_84].actionType, g.logs[i_84].name, g.logs[i_84].dated, 1];
                                                    _this.database.executeSql('INSERT INTO  tblLogs (ID,tableName,tableId,userId,actionType,name,dated,Sync) VALUES (?,?,?,?,?,?,?,?)', data_67)
                                                        .then(function (data) {
                                                        console.log('successfully Created Log');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            if (typeof g.vendorsLeger !== 'undefined') {
                                                console.log('vender ledgers');
                                                for (var i_85 = 0; i_85 < g.vendorsLeger.length; i_85++) {
                                                    // tslint:disable-next-line: max-line-length
                                                    _this.database.executeSql('INSERT INTO  tblledgervendor (ID,POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?,?)', [g.vendorsLeger[i_85].ID, g.vendorsLeger[i_85].POID, g.vendorsLeger[i_85].Date, g.vendorsLeger[i_85].Amount, g.vendorsLeger[i_85].VendorID, g.vendorsLeger[i_85].IsCredit, g.vendorsLeger[i_85].DueDate, g.vendorsLeger[i_85].ByUserId, g.vendorsLeger[i_85].Remarks, 1])
                                                        .then(function (data) {
                                                        console.log('successfully Added vendorledger');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            // loading.dismiss();
                                            if (typeof g.expenses !== 'undefined') {
                                                console.log('vender ledgers');
                                                for (var i_86 = 0; i_86 < g.expenses.length; i_86++) {
                                                    var data_68 = [g.expenses[i_86].ID, '113008225657937776461', g.expenses[i_86].Name, g.expenses[i_86].Date, g.expenses[i_86].Amount, g.expenses[i_86].Category, g.expenses[i_86].Description, g.expenses[i_86].Active, g.expenses[i_86].Sync];
                                                    // tslint:disable-next-line: max-line-length
                                                    _this.database.executeSql('INSERT INTO  tblexpenses (ID,AccountId,Name,Date,Amount,Category,Description,Active,Sync) VALUES (?,?,?,?,?,?,?,?,?)', data_68)
                                                        .then(function (data) {
                                                        console.log('successfully Created item');
                                                        return data;
                                                    }, function (err) {
                                                        console.log('Error: ', err);
                                                        return err;
                                                    });
                                                }
                                            }
                                        }).then(function () {
                                            loading.dismiss();
                                        });
                                    }
                                }
                                if (_this.executed === 0) {
                                    loading.dismiss();
                                }
                                console.log('hurrah');
                            }
                            else {
                                // alert('failed');
                            }
                            // this.initializeItems();
                        }, function (err) {
                            console.log('JS call error-3', err);
                            var error = JSON.parse(err.error);
                            //alert(error.message);
                            console.log('Native data:', JSON.parse(error));
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    SyncService.prototype.deletePO = function (POID, Amount, VendorID, VendorSync) {
        var _this = this;
        var now = new Date().toString();
        var a = this.datePipe.transform(now, 'dd MMM yyyy');
        this.addPaymentVendor(VendorID, VendorSync, a, Amount, 'PO Deleted').then(function () { });
        ;
        return this.getPOItems(POID).then(function (Items) {
            _this.database.executeSql('UPDATE tblpurchasedorder SET Active=0,Sync=2 where ID=?', [POID])
                .then(function (data) {
                console.log('successfully Updated stock');
                for (var i = 0; i <= Items.length; i++) {
                    if (Items[i].Qty > 0) {
                        if (Items[i].Sync === 1) {
                            Items[i].Sync = 2;
                        }
                        _this.database.executeSql('UPDATE items SET Instock=Instock-?,Sync=? where itemid=?', [Items[i].Qty, Items[i].Sync, Items[i].Id])
                            .then(function (data) {
                            console.log('successfully Updated stock');
                            return data;
                        }, function (err) {
                            console.log('Error: ', err);
                            return err;
                        });
                    }
                }
                // tslint:disable-next-line: max-line-length
                // this.databaseprovider.setupdatePOS(1);
                // this.router.navigate(['/menu/purchased-orders']);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
        });
    };
    SyncService.prototype.restorePO = function (POID, Amount, VendorID, VendorSync) {
        var _this = this;
        ;
        var now = new Date().toString();
        var a = this.datePipe.transform(now, 'dd MMM yyyy');
        this.database.executeSql('INSERT INTO  tblledgervendor (POID,Date,Amount,VendorID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [POID, a, Amount, VendorID, 0, null, 'rizwanali', 'PO Restored', 0])
            .then(function (data) {
            console.log('successfully Added Ledger');
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
        this.database.executeSql('UPDATE tblvendors SET Balance=Balance+?,Sync=? WHERE ID=?', [Amount, VendorSync, VendorID]).then(function (data) {
            console.log('vendorsBalnace' + data);
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
        return this.getPOItems(POID).then(function (Items) {
            _this.database.executeSql('UPDATE tblpurchasedorder SET Active=1,Sync=2 where ID=?', [POID])
                .then(function (data) {
                console.log('successfully Updated stock');
                for (var i = 0; i <= Items.length; i++) {
                    if (Items[i].Qty > 0) {
                        if (Items[i].Sync === 1) {
                            Items[i].Sync = 2;
                        }
                        _this.database.executeSql('UPDATE items SET Instock=Instock+?,Sync=? where itemid=?', [Items[i].Qty, Items[i].Sync, Items[i].Id])
                            .then(function (data) {
                            console.log('successfully Updated stock');
                            return data;
                        }, function (err) {
                            console.log('Error: ', err);
                            return err;
                        });
                    }
                }
                // this.databaseprovider.setupdatePOS(1);
                // this.router.navigate(['/menu/purchased-orders']);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
        });
    };
    SyncService.prototype.restoreInvoice = function (Iid, Amount, CustomerID, CustomerSync) {
        var _this = this;
        var now = new Date().toString();
        var a = this.datePipe.transform(now, 'dd MMM yyyy');
        var a1 = Math.round((new Date(a)).getTime() / 1000);
        this.database.executeSql('INSERT INTO  tblledger (InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [Iid, a1, Amount, CustomerID, 0, null, 'rizwanali', 'Invoice Restored', 0])
            .then(function (data) {
            console.log('successfully Added Ledger');
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
        this.database.executeSql('UPDATE clients SET Balance=Balance+?,Sync=? WHERE Cid=?', [Amount, CustomerSync, CustomerID]).then(function (data) {
            console.log(data);
            ;
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
        ;
        return this.getInvoiceItems(Iid).then(function (Items) {
            _this.database.executeSql('UPDATE invoices SET Status=1,Sync=2 where Iid=?', [Iid])
                .then(function (data) {
                console.log('successfully Updated stock');
                for (var i = 0; i <= Items.length; i++) {
                    if (Items[i].Qty > 0) {
                        if (Items[i].Sync === 1) {
                            Items[i].Sync = 2;
                        }
                        _this.database.executeSql('UPDATE items SET Instock=Instock-?,Sync=? where itemid=?', [Items[i].Qty, Items[i].Sync, Items[i].Id])
                            .then(function (data) {
                            console.log('successfully Updated stock');
                            return data;
                        }, function (err) {
                            console.log('Error: ', err);
                            return err;
                        });
                    }
                }
                /*return this.database.executeSql('UPDATE clients SET Balance=Balance-? WHERE Cid=?',[Amount , Items.Cid]).then(data => {
                  console.log(data);
                  ;
                  return data;
                }, err => {
                  console.log('Error: ', err);
                  return err;
                });*/
                // this.databaseprovider.setupdatePOS(1);
                // this.router.navigate(['/menu/purchased-orders']);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
        });
    };
    SyncService.prototype.deleteInvoice = function (Iid, Amount, CustomerID, CustomerSync) {
        var _this = this;
        var now = new Date().toString();
        var a = this.datePipe.transform(now, 'dd MMM yyyy');
        this.addPayment(CustomerID, CustomerSync, a, Amount, 'Invoice Deleted').then(function () { });
        ;
        return this.getInvoiceItems(Iid).then(function (Items) {
            _this.database.executeSql('UPDATE invoices SET Status=0,Sync=2 where Iid=?', [Iid])
                .then(function (data) {
                console.log('successfully Updated stock');
                for (var i = 0; i <= Items.length; i++) {
                    if (Items[i].Qty > 0) {
                        if (Items[i].Sync === 1) {
                            Items[i].Sync = 2;
                        }
                        _this.database.executeSql('UPDATE items SET Instock=Instock+?,Sync=? where itemid=?', [Items[i].Qty, Items[i].Sync, Items[i].Id])
                            .then(function (data) {
                            console.log('successfully Updated stock');
                            return data;
                        }, function (err) {
                            console.log('Error: ', err);
                            return err;
                        });
                    }
                }
                /*return this.database.executeSql('UPDATE clients SET Balance=Balance-? WHERE Cid=?',[Amount , Items.Cid]).then(data => {
                  console.log(data);
                  ;
                  return data;
                }, err => {
                  console.log('Error: ', err);
                  return err;
                });*/
                // this.databaseprovider.setupdatePOS(1);
                // this.router.navigate(['/menu/purchased-orders']);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return err;
            });
        });
    };
    SyncService.prototype.updateBalance = function (Total, Cid) {
        ;
        return this.database.executeSql('UPDATE clients SET Balance=Balance-? WHERE Cid=?', [Total, Cid]).then(function (data) {
            console.log(data);
            console.log("BalanceUpdated");
            return data;
            ;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.getAllActivePOS = function () {
        return this.database.executeSql('Select tblpurchasedorder.ID,tblpurchasedorder.VendorID,tblpurchasedorder.Date,tblpurchasedorder.ReceivedBy,tblpurchasedorder.Total,tblpurchasedorder.Remarks,tblpurchasedorder.Discount,tblpurchasedorder.Active,tblpurchasedorder.Sync,tblvendors.Name,tblvendors.Address,tblvendors.Phone,tblvendors.Email,tblvendors.bActive from tblpurchasedorder,tblvendors WHERE tblpurchasedorder.Active=1 AND tblpurchasedorder.VendorID=tblvendors.ID ORDER BY tblpurchasedorder.ID DESC', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        ID: data.rows.item(i).ID,
                        VendorID: data.rows.item(i).VendorID,
                        Date: data.rows.item(i).Date,
                        ReceivedBy: data.rows.item(i).ReceivedBy,
                        Total: data.rows.item(i).Total,
                        Remarks: data.rows.item(i).Remarks,
                        Discount: data.rows.item(i).Discount,
                        Phone: data.rows.item(i).Phone,
                        Active: data.rows.item(i).Active,
                        Sync: data.rows.item(i).Sync,
                        Name: data.rows.item(i).Name
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getActivePOSPagination = function (from1) {
        // alert('from1' + from1);
        var total = 0;
        this.database.executeSql('SELECT * From tblpurchasedorder', []).then(function (data1) {
            // total = data1.rows.length;
            console.log('data from' + data1.rows.length);
            total = data1.rows.length;
        });
        return this.database.executeSql('Select tblpurchasedorder.ID,tblpurchasedorder.VendorID,tblpurchasedorder.Date,tblpurchasedorder.ReceivedBy,tblpurchasedorder.Total,tblpurchasedorder.Remarks,tblpurchasedorder.Discount,tblpurchasedorder.Active,tblpurchasedorder.Sync,tblvendors.Name,tblvendors.Address,tblvendors.Phone,tblvendors.Email,tblvendors.bActive from tblpurchasedorder,tblvendors WHERE tblpurchasedorder.Active=1 AND tblpurchasedorder.VendorID=tblvendors.ID ORDER BY tblpurchasedorder.ID DESC limit ?, 10', [from1]).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Total1: total,
                        ID: data.rows.item(i).ID,
                        VendorID: data.rows.item(i).VendorID,
                        Date: data.rows.item(i).Date,
                        ReceivedBy: data.rows.item(i).ReceivedBy,
                        Total: data.rows.item(i).Total,
                        Remarks: data.rows.item(i).Remarks,
                        Discount: data.rows.item(i).Discount,
                        Phone: data.rows.item(i).Phone,
                        Active: data.rows.item(i).Active,
                        Sync: data.rows.item(i).Sync,
                        Name: data.rows.item(i).Name,
                        Address: data.rows.item(i).Address,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.syncUpdatedPOSIDS = function () {
        return this.database.executeSql('Select ID FROM tblpurchasedorder where Sync=2', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        ID: data.rows.item(i).ID,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.syncUpdatedInvoices = function () {
        return this.database.executeSql('Select Iid FROM invoices where Sync=2', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getAllDeletedPOS = function () {
        return this.database.executeSql('Select tblpurchasedorder.ID,tblpurchasedorder.VendorID,tblpurchasedorder.Date,tblpurchasedorder.ReceivedBy,tblpurchasedorder.Total,tblpurchasedorder.Remarks,tblpurchasedorder.Discount,tblpurchasedorder.Active,tblpurchasedorder.Sync,tblvendors.Name,tblvendors.Address,tblvendors.Phone,tblvendors.Email,tblvendors.bActive from tblpurchasedorder,tblvendors WHERE tblpurchasedorder.Active=0 AND tblpurchasedorder.VendorID=tblvendors.ID', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        ID: data.rows.item(i).ID,
                        VendorID: data.rows.item(i).VendorID,
                        Date: data.rows.item(i).Date,
                        ReceivedBy: data.rows.item(i).ReceivedBy,
                        Total: data.rows.item(i).Total,
                        Remarks: data.rows.item(i).Remarks,
                        Discount: data.rows.item(i).Discount,
                        Active: data.rows.item(i).Active,
                        Sync: data.rows.item(i).Sync,
                        Name: data.rows.item(i).Name
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getAllDeletedInvoices = function () {
        return this.database.executeSql('Select invoices.Iid, invoices.AccountId , invoices.Cid, invoices.Name, invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message,invoices.Status,invoices.Sync,clients.Cid,clients.AccountId,clients.Fname,clients.Lname, clients.Shop,clients.BillingAddress,clients.City,clients.Cell,clients.Active,clients.Balance,clients.Sync from invoices,clients WHERE invoices.Status=0 AND invoices.Cid=clients.Cid', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: data.rows.item(i).CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: data.rows.item(i).DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Fname: data.rows.item(i).Fname,
                        Shop: data.rows.item(i).Shop,
                        City: data.rows.item(i).City,
                        Lname: data.rows.item(i).Lname,
                        BillingAddress: data.rows.item(i).BillingAddress
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getCustomerSync = function (CustomerID) {
        return this.database.executeSql('Select Sync FROM clients where Cid=?', [CustomerID]).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getVendorSync = function (VendorID) {
        return this.database.executeSql('Select Sync FROM tblvendors where ID=?', [VendorID]).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getAllInvoicesTable = function () {
        return this.database.executeSql('Select CreateDate,Total FROM invoices', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        CreateDate: data.rows.item(i).CreateDate,
                        Total: data.rows.item(i).Total,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getAllInvoicePaymentsTable = function () {
        return this.database.executeSql('Select Date,Amount FROM tblledger WHERE IsCredit=1', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getAllInvoicesLedgerTable = function () {
        return this.database.executeSql('Select Date,Amount,IsCredit FROM tblledger', []).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    Pos.push({
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        IsCredit: data.rows.item(i).IsCredit,
                    });
                }
            }
            // });
            console.log('b:');
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.addExpense = function (Name, date, Amount, Category, Description) {
        var _this = this;
        var a = Math.round((new Date(date)).getTime() / 1000);
        var data = ['113008225657937776461', Name, a, Amount, Category, Description, 1, 0];
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('INSERT INTO  tblexpenses (AccountId,Name,Date,Amount,Category,Description,Active,Sync) VALUES (?,?,?,?,?,?,?,?)', data)
            .then(function (data) {
            _this.database.executeSql('INSERT INTO  tblledger(InvoiceID,Date,Amount,CustomerID,IsCredit,Duedate,ByUserId,Remarks,Sync) VALUES (?,?,?,?,?,?,?,?,?)', [null, a, Amount, 0, 2, null, 'rizwanali', 'Expense', 0]).then(function (data) {
            });
            console.log('successfully Created item');
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.syncAddedExpenses = function () {
        return this.database.executeSql('SELECT * FROM tblexpenses where Sync=0', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        AccountId: data.rows.item(i).AccountId,
                        Name: data.rows.item(i).Name,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        Category: data.rows.item(i).Category,
                        Description: data.rows.item(i).Description,
                        Active: data.rows.item(i).Active,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.syncUpdatedExpenses = function () {
        return this.database.executeSql('SELECT * FROM tblexpenses where Sync=2', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        AccountId: data.rows.item(i).AccountId,
                        Name: data.rows.item(i).Name,
                        Date: data.rows.item(i).Date,
                        Amount: data.rows.item(i).Amount,
                        Category: data.rows.item(i).Category,
                        Description: data.rows.item(i).Description,
                        Active: data.rows.item(i).Active,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updateSyncedExpenses = function (IDs) {
        for (var i = 0; i < IDs.length; i++) {
            this.database.executeSql('UPDATE  tblexpenses Set Sync=1 where ID=?', [IDs[i]]).then(function (data) {
                console.log(data);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return [];
            });
        }
    };
    SyncService.prototype.getAllExpenses = function () {
        var _this = this;
        return this.database.executeSql('SELECT * FROM tblexpenses where Active=1 ORDER BY ID DESC', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    var z = new Date(parseInt(data.rows.item(i).Date) * 1000).toString();
                    var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    items.push({
                        ID: data.rows.item(i).ID,
                        AccountId: data.rows.item(i).AccountId,
                        Name: data.rows.item(i).Name,
                        Date: CreateDate,
                        Amount: data.rows.item(i).Amount,
                        Category: data.rows.item(i).Category,
                        Description: data.rows.item(i).Description,
                        Active: data.rows.item(i).Active,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.deleteExpense = function (ID, Sync) {
        return this.database.executeSql('UPDATE tblexpenses SET Active=0,Sync=? WHERE ID=?', [Sync, ID]).then(function (data) {
            console.log(data);
            return 1;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.getExpenesonspot = function () {
        return this.database.executeSql('SELECT * FROM tblexpenses ORDER BY ID DESC LIMIT 0, 1', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                    });
                }
            }
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getExpense = function (id) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var loading;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingController.create()];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        this.database.executeSql('SELECT * FROM tblexpenses WHERE ID=?', [id]).then(function (data) {
                            var items = [];
                            if (data.rows.length > 0) {
                                for (var i = 0; i < data.rows.length; i++) {
                                    items.push({
                                        ID: data.rows.item(i).ID,
                                        AccountId: data.rows.item(i).AccountId,
                                        Name: data.rows.item(i).Name,
                                        Date: data.rows.item(i).Date,
                                        Amount: data.rows.item(i).Amount,
                                        Category: data.rows.item(i).Category,
                                        Description: data.rows.item(i).Description,
                                        Active: data.rows.item(i).Active,
                                        Sync: data.rows.item(i).Sync,
                                    });
                                }
                            }
                            ;
                            console.log(items);
                            var navigationExtras = {
                                state: {
                                    expense: items[0],
                                    url: '/menu/logs'
                                }
                            };
                            _this.router.navigate(['editexpense'], navigationExtras);
                            loading.dismiss();
                            //return items;
                        }, function (err) {
                            console.log('Error: ', err);
                            return [];
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    SyncService.prototype.getExpensesDashboard = function () {
        return this.database.executeSql('Select Date,Amount FROM tblexpenses', []).then(function (data1) {
            var Pos = [];
            if (data1.rows.length > 0) {
                for (var i = 0; i < data1.rows.length; i++) {
                    Pos.push({
                        Date: data1.rows.item(i).Date,
                        Amount: data1.rows.item(i).Amount,
                        IsCredit: 2,
                    });
                }
            }
            return Pos;
        });
    };
    SyncService.prototype.getTodaysSales = function (start, end, currency) {
        // alert('Start: ' + start + 'end: ' + end);
        var _this = this;
        var a = Math.round((new Date(start)).getTime() / 1000);
        var b = Math.round((new Date(end)).getTime() / 1000);
        // alert('a: ' + a + 'b: ' + b)
        // SELECT DATE(FROM_UNIXTIME(`Date`)),SUM(`Amount`) AS aDate FROM `tblledger` GROUP BY `Date`SELECT DATE(FROM_UNIXTIME(`Date`)),SUM(`Amount`) AS aDate FROM `tblledger` GROUP BY `Date`
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT date(Date, ?, ?) AS Date,SUM(CASE WHEN IsCredit=0 THEN Amount ELSE 0 END) AS Total,SUM(CASE WHEN IsCredit=1 THEN Amount ELSE 0 END) AS Paid FROM tblledger WHERE Date  between ? and ? GROUP BY date(Date, ?, ?) ORDER BY date DESC', ['unixepoch', 'localtime', a, b, 'unixepoch', 'localtime']).then(function (data1) {
            var items = [];
            //       const z = new Date(parseInt(data1.rows.item(1).Date)*1000).toString();
            //       const CreateDate =  this.datePipe.transform(z, 'dd MMM yyyy');
            // alert(CreateDate)
            // alert(data1.rows.item(0).Date )
            if (data1.rows.length > 0) {
                for (var i = 0; i < data1.rows.length; i++) {
                    if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid === null) {
                        items.push({
                            Date: '-',
                            Total: '-',
                            Paid: '-',
                        });
                    }
                    else if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid != null) {
                        var z = new Date(data1.rows.item(i).Date).toString();
                        var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy');
                        items.push({
                            Date: CreateDate,
                            Total: currency + 0,
                            Paid: currency + data1.rows.item(i).Paid,
                        });
                    }
                    else if (data1.rows.item(i).Paid === null && data1.rows.item(i).Total != null) {
                        var z = new Date(data1.rows.item(i).Date).toString();
                        var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy');
                        items.push({
                            Date: CreateDate,
                            Total: currency + data1.rows.item(i).Total,
                            Paid: currency + 0,
                        });
                    }
                    else {
                        var z = new Date(data1.rows.item(i).Date).toString();
                        var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy');
                        items.push({
                            Date: CreateDate,
                            Total: currency + data1.rows.item(i).Total,
                            Paid: currency + data1.rows.item(i).Paid,
                        });
                    }
                }
            }
            else {
                items.push({
                    Date: '-',
                    Total: '-',
                    Paid: '-',
                });
            }
            console.log('belo');
            // alert(items.length)
            console.log(items);
            return items;
        });
    };
    SyncService.prototype.getSalesByCustomerStatement = function () {
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT clients.Cid,clients.Fname,clients.Lname,clients.Shop,SUM(CASE WHEN tblledger.IsCredit=0 THEN tblledger.Amount ELSE 0 END) AS Total,SUM(CASE WHEN tblledger.IsCredit=1 THEN tblledger.Amount ELSE 0 END) AS Paid FROM clients,tblledger WHERE  clients.Cid=tblledger.CustomerID GROUP BY tblledger.CustomerID', []).then(function (data1) {
            var items = [];
            if (data1.rows.length > 0) {
                for (var i = 0; i < data1.rows.length; i++) {
                    items.push({
                        Cid: data1.rows.item(i).Cid,
                        Name: data1.rows.item(i).Fname + ' ' + data1.rows.item(i).Lname,
                        Shop: data1.rows.item(i).Shop,
                        Total: data1.rows.item(i).Total,
                        Paid: data1.rows.item(i).Paid,
                    });
                }
            }
            console.log(items);
            return items;
        });
    };
    SyncService.prototype.getSalesByCustomerId = function (id) {
        var _this = this;
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message from invoices WHERE invoices.Cid=?', [id]).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    var z = new Date(parseInt(data.rows.item(i).CreateDate) * 1000).toString();
                    var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy');
                    var y = new Date(parseInt(data.rows.item(i).CreateDate) * 1000).toString();
                    var DueDate = _this.datePipe.transform(y, 'dd MMM yyyy');
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                    });
                }
            }
            return Pos;
        });
    };
    SyncService.prototype.getSalesByCustomerIdTime = function (id, start, end, currency) {
        var _this = this;
        var a = Math.round((new Date(start)).getTime() / 1000);
        var b = Math.round((new Date(end)).getTime() / 1000);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message from invoices WHERE invoices.Cid=?  AND invoices.CreateDate>=? AND invoices.CreateDate<=?', [id, a, b]).then(function (data) {
            var Pos = [];
            //alert(data.rows.length)
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    // alert('create ' + data.rows.item(i).CreateDate)
                    var z = new Date(parseInt(data.rows.item(i).CreateDate) * 1000).toString();
                    var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy');
                    var y = new Date(parseInt(data.rows.item(i).DueDate) * 1000).toString();
                    var DueDate = _this.datePipe.transform(y, 'dd MMM yyyy');
                    Pos.push({
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: currency + data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                    });
                    // tslint:disable-next-line: align
                }
            }
            else {
                Pos.push({
                    Iid: '',
                    AccountId: '',
                    Cid: '',
                    Name: '',
                    CreateDate: '',
                    Terms: '',
                    DueDate: '',
                    Subtotal: '',
                    Discount: '',
                    Total: '',
                    Message: '',
                });
            }
            return Pos;
        });
    };
    SyncService.prototype.getSalesAndPaidByCustomertime = function (id, start, end) {
        var a = Math.round((new Date(start)).getTime() / 1000);
        var b = Math.round((new Date(end)).getTime() / 1000);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT clients.Fname,clients.Lname,SUM(CASE WHEN tblledger.IsCredit=0 THEN tblledger.Amount ELSE 0 END) AS Total,SUM(CASE WHEN tblledger.IsCredit=1 THEN tblledger.Amount ELSE 0 END) AS Paid FROM clients,tblledger WHERE  clients.Cid=tblledger.CustomerID AND tblledger.CustomerID=? AND tblledger.Date  between ? and ? GROUP BY tblledger.CustomerID', [id, a, b]).then(function (data1) {
            var items = [];
            // alert(data1.rows.length)
            if (data1.rows.length > 0) {
                for (var i = 0; i < data1.rows.length; i++) {
                    items.push({
                        Name: data1.rows.item(i).Fname + ' ' + data1.rows.item(i).Lname,
                        Total: data1.rows.item(i).Total,
                        Paid: data1.rows.item(i).Paid,
                    });
                }
            }
            else {
                items.push({
                    Name: '',
                    Total: 0,
                    Paid: 0,
                });
            }
            console.log(items);
            return items;
        });
    };
    SyncService.prototype.getSalesByCustomer = function (currency) {
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT clients.Fname,clients.Lname,SUM(CASE WHEN tblledger.IsCredit=0 THEN tblledger.Amount ELSE 0 END) AS Total,SUM(CASE WHEN tblledger.IsCredit=1 THEN tblledger.Amount ELSE 0 END) AS Paid FROM clients,tblledger WHERE  clients.Cid=tblledger.CustomerID GROUP BY tblledger.CustomerID', []).then(function (data1) {
            var items = [];
            if (data1.rows.length > 0) {
                for (var i = 0; i < data1.rows.length; i++) {
                    items.push({
                        Name: data1.rows.item(i).Fname + ' ' + data1.rows.item(i).Lname,
                        Total: currency + data1.rows.item(i).Total,
                        Paid: currency + data1.rows.item(i).Paid,
                    });
                }
            }
            else {
                items.push({
                    Name: '-',
                    Total: '-',
                    Paid: '-',
                });
            }
            console.log(items);
            return items;
        });
    };
    SyncService.prototype.getSalesByCustomertime = function (start, end, currency) {
        var a = Math.round((new Date(start)).getTime() / 1000);
        var b = Math.round((new Date(end)).getTime() / 1000);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT clients.Fname,clients.Lname,SUM(CASE WHEN tblledger.IsCredit=0 THEN tblledger.Amount ELSE 0 END) AS Total,SUM(CASE WHEN tblledger.IsCredit=1 THEN tblledger.Amount ELSE 0 END) AS Paid FROM clients,tblledger WHERE  clients.Cid=tblledger.CustomerID AND tblledger.Date  between ? and ? GROUP BY tblledger.CustomerID', [a, b]).then(function (data1) {
            var items = [];
            if (data1.rows.length > 0) {
                for (var i = 0; i < data1.rows.length; i++) {
                    items.push({
                        Name: data1.rows.item(i).Fname + ' ' + data1.rows.item(i).Lname,
                        Total: currency + data1.rows.item(i).Total,
                        Paid: currency + data1.rows.item(i).Paid,
                    });
                }
            }
            else {
                items.push({
                    Name: '-',
                    Total: '-',
                    Paid: '-',
                });
            }
            console.log(items);
            return items;
        });
    };
    SyncService.prototype.getSalesByItem = function (currency) {
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT items.Description,SUM(invoiceitems.Qty) AS Qty,SUM(invoiceitems.CostPrice * invoiceitems.Qty) AS CostPrice FROM items,invoiceitems WHERE  items.itemid=invoiceitems.Itemid GROUP BY items.itemid', []).then(function (data1) {
            var items = [];
            if (data1.rows.length > 0) {
                for (var i = 0; i < data1.rows.length; i++) {
                    if (data1.rows.item(i).CostPrice > 0) {
                        items.push({
                            Description: data1.rows.item(i).Description,
                            Qty: data1.rows.item(i).Qty,
                            CostPrice: currency + data1.rows.item(i).CostPrice,
                        });
                    }
                }
            }
            else {
                items.push({
                    Description: '-',
                    Qty: '-',
                    CostPrice: '    -',
                });
            }
            console.log(items);
            return items;
        });
    };
    SyncService.prototype.getSalesByItemTime = function (start, end, currency) {
        var a = Math.round((new Date(start)).getTime() / 1000);
        var b = Math.round((new Date(end)).getTime() / 1000);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT items.Description,SUM(invoiceitems.Qty) AS Qty,SUM(invoiceitems.CostPrice * invoiceitems.Qty) AS CostPrice FROM items,invoiceitems,invoices WHERE invoices.Iid=invoiceitems.Iid AND invoices.CreateDate between ? and ? AND items.itemid=invoiceitems.Itemid GROUP BY items.itemid', [a, b]).then(function (data1) {
            var items = [];
            if (data1.rows.length > 0) {
                for (var i = 0; i < data1.rows.length; i++) {
                    if (data1.rows.item(i).CostPrice > 0) {
                        items.push({
                            Description: data1.rows.item(i).Description,
                            Qty: data1.rows.item(i).Qty,
                            CostPrice: currency + data1.rows.item(i).CostPrice,
                        });
                    }
                }
            }
            else {
                items.push({
                    Description: '-',
                    Qty: '-',
                    CostPrice: '    -',
                });
            }
            console.log(items);
            return items;
        });
    };
    SyncService.prototype.getCategoryExpense = function () {
        return this.database.executeSql('SELECT Category,Amount FROM tblexpenses where Active=1 GROUP BY Category', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        Amount: data.rows.item(i).Amount,
                        Category: data.rows.item(i).Category
                    });
                }
            }
            else {
                items.push({
                    Amount: '-',
                    Category: '-'
                });
            }
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getExpenseJournalByTime = function (start, end, currency) {
        var _this = this;
        var a = Math.round((new Date(start)).getTime() / 1000);
        var b = Math.round((new Date(end)).getTime() / 1000);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT Date,Category,Name,Description,Amount FROM tblexpenses where Active=1 AND Date between ? and ? GROUP BY Category ORDER BY ID DESC', [a, b]).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    var z = new Date(parseInt(data.rows.item(i).Date) * 1000).toString();
                    var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    items.push({
                        Date: CreateDate,
                        Category: data.rows.item(i).Category,
                        Name: data.rows.item(i).Name,
                        Description: data.rows.item(i).Description,
                        Amount: currency + data.rows.item(i).Amount,
                    });
                }
            }
            else {
                items.push({
                    Date: '-',
                    Category: '-',
                    Name: '-',
                    Description: '-',
                    Amount: '-',
                });
            }
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getExpenseJournalByTimeAndCategory = function (start, end, category, currency) {
        var _this = this;
        var a = Math.round((new Date(start)).getTime() / 1000);
        var b = Math.round((new Date(end)).getTime() / 1000);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT Date,Category,Name,Description,Amount FROM tblexpenses where Active=1 AND Category=? AND Date between ? and ? GROUP BY Category ORDER BY ID DESC', [category, a, b]).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    var z = new Date(parseInt(data.rows.item(i).Date) * 1000).toString();
                    var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    items.push({
                        Date: CreateDate,
                        Category: data.rows.item(i).Category,
                        Name: data.rows.item(i).Name,
                        Description: data.rows.item(i).Description,
                        Amount: currency + data.rows.item(i).Amount,
                    });
                }
            }
            else {
                items.push({
                    Date: '-',
                    Category: '-',
                    Name: '-',
                    Description: '-',
                    Amount: '-',
                });
            }
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getExpenseJournal = function (currency) {
        var _this = this;
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT Date,Category,Name,Description,Amount FROM tblexpenses where Active=1 GROUP BY Category ORDER BY ID DESC', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    var z = new Date(parseInt(data.rows.item(i).Date) * 1000).toString();
                    var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    items.push({
                        Date: CreateDate,
                        Category: data.rows.item(i).Category,
                        Name: data.rows.item(i).Name,
                        Description: data.rows.item(i).Description,
                        Amount: currency + data.rows.item(i).Amount,
                    });
                }
            }
            else {
                items.push({
                    Date: '-',
                    Category: '-',
                    Name: '-',
                    Description: '-',
                    Amount: '-',
                });
            }
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getExpenseJournalByCategory = function (category, currency) {
        var _this = this;
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT Date,Category,Name,Description,Amount FROM tblexpenses where Active=1 AND Category=?  GROUP BY Category ORDER BY ID DESC', [category]).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    var z = new Date(parseInt(data.rows.item(i).Date) * 1000).toString();
                    var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    items.push({
                        Date: CreateDate,
                        Category: data.rows.item(i).Category,
                        Name: data.rows.item(i).Name,
                        Description: data.rows.item(i).Description,
                        Amount: currency + data.rows.item(i).Amount,
                    });
                }
            }
            else {
                items.push({
                    Date: '-',
                    Category: '-',
                    Name: '-',
                    Description: '-',
                    Amount: '-',
                });
            }
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getCustomerAging = function () {
        var time = new Date();
        var current = new Date();
        var current1 = this.datePipe.transform(current, 'dd MMM yyyy');
        time.setDate(time.getDate() - 15);
        var past15 = this.datePipe.transform(time, 'dd MMM yyyy');
        var a = Math.round((new Date(past15)).getTime() / 1000);
        var b = Math.round((new Date(current1)).getTime() / 1000);
        // alert('current:' + current1 + 'pas30:' + past30);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT clients.Fname,clients.Lname,SUM(CASE WHEN tblledger.IsCredit=0 THEN tblledger.Amount ELSE 0 END) AS Total,SUM(CASE WHEN tblledger.IsCredit=1 THEN tblledger.Amount ELSE 0 END) AS Paid,SUM(CASE WHEN tblledger.IsCredit=0 AND tblledger.Date>=? AND tblledger.Date<?  THEN tblledger.Amount ELSE 0 END) AS Total1,SUM(CASE WHEN tblledger.IsCredit=1 AND tblledger.Date>=? AND tblledger.Date<? THEN tblledger.Amount ELSE 0 END) AS Paid1,SUM(CASE WHEN tblledger.IsCredit=0 AND tblledger.Date<? THEN tblledger.Amount ELSE 0 END) AS Total2,SUM(CASE WHEN tblledger.IsCredit=1 AND tblledger.Date<? THEN tblledger.Amount ELSE 0 END) AS Paid2 FROM clients,tblledger WHERE  clients.Cid=tblledger.CustomerID GROUP BY tblledger.CustomerID', [a, b, a, b, a, a]).then(function (data1) {
            var items = [];
            if (data1.rows.length > 0) {
                for (var i = 0; i < data1.rows.length; i++) {
                    // const a = parseInt(data1.rows.item(i).Total) + parseInt(data1.rows.item(i).Paid)
                    // alert('to ' +  a)
                    items.push({
                        Name: data1.rows.item(i).Fname + ' ' + data1.rows.item(i).Lname,
                        Total: data1.rows.item(i).Total,
                        Paid: data1.rows.item(i).Paid,
                        Due: data1.rows.item(i).Total - data1.rows.item(i).Paid,
                        Due1: data1.rows.item(i).Total1 - data1.rows.item(i).Paid1,
                        Due2: data1.rows.item(i).Total2 - data1.rows.item(i).Paid2,
                    });
                }
            }
            else {
                items.push({
                    Name: '-',
                    Total: '-',
                    Paid: '-',
                    Due: '-',
                    Due1: '-',
                    Due2: '-',
                });
            }
            console.log(items);
            return items;
        });
    };
    SyncService.prototype.getSalesByYear = function (y) {
        var first = new Date(y, 0, 1).setHours(0, 0, 0, 0);
        var firstdateofyear = this.datePipe.transform(first, 'dd MMM yyyy h:mm a');
        var last = new Date(y, 11, 31).setHours(23, 59, 59, 999);
        var lastdateofyear = this.datePipe.transform(last, 'dd MMM yyyy h:mm a');
        var year = this.datePipe.transform(last, 'yyyy');
        var a = Math.round((new Date(firstdateofyear)).getTime() / 1000);
        var b = Math.round((new Date(lastdateofyear)).getTime() / 1000);
        //alert('current:' + firstdateofyear + 'pas30:' + lastdateofyear  + 'year' + year);
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT SUM(CASE WHEN IsCredit=0 THEN Amount ELSE 0 END) AS Total,SUM(CASE WHEN IsCredit=1 THEN Amount ELSE 0 END) AS Paid FROM tblledger WHERE Date between ? and ?', [a, b]).then(function (data1) {
            var items = [];
            if (data1.rows.length > 0) {
                for (var i = 0; i < data1.rows.length; i++) {
                    if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid === null) {
                        items.push({
                            Total: 0,
                            Paid: 0,
                            Year: year,
                        });
                    }
                    else if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid != null) {
                        items.push({
                            Total: 0,
                            Paid: data1.rows.item(i).Paid,
                            Year: year,
                        });
                    }
                    else if (data1.rows.item(i).Paid === null && data1.rows.item(i).Total != null) {
                        items.push({
                            Total: data1.rows.item(i).Total,
                            Paid: 0,
                            Year: year,
                        });
                    }
                    else {
                        items.push({
                            Total: data1.rows.item(i).Total,
                            Paid: data1.rows.item(i).Paid,
                            Year: year,
                        });
                    }
                    //  items.push({
                    //    Total: data1.rows.item(i).Total,
                    //    Paid: data1.rows.item(i).Paid,
                    //    Year:  year,
                    //   });
                }
            }
            console.log(items);
            return items;
        });
    };
    SyncService.prototype.OverdueInvoices2Pagination = function (from1) {
        var _this = this;
        var total = 0;
        var time = new Date();
        // time.setDate(time.getDate() - 15);
        var current = this.datePipe.transform(time, 'dd MMM yyyy');
        var a = Math.round((new Date(current)).getTime() / 1000);
        // alert('current:' + current + ' = ' + a);
        this.database.executeSql('SELECT * From invoices', []).then(function (data1) {
            // total = data1.rows.length;
            console.log('data from' + data1.rows.length);
            total = data1.rows.length;
        });
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message,invoices.Status,invoices.Sync,clients.Fname,clients.Shop,clients.City,clients.Lname,clients.BillingAddress,clients.Cell from invoices,clients WHERE invoices.DueDate<? AND invoices.Status=1 AND invoices.Cid=clients.Cid ORDER BY invoices.Iid DESC limit ?, 10', [a, from1]).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    var z = new Date(parseInt(data.rows.item(i).CreateDate) * 1000).toString();
                    var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    var y = new Date(parseInt(data.rows.item(i).DueDate) * 1000).toString();
                    var DueDate = _this.datePipe.transform(y, 'dd MMM yyyy');
                    Pos.push({
                        Total1: total,
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Fname: data.rows.item(i).Fname,
                        Shop: data.rows.item(i).Shop,
                        City: data.rows.item(i).City,
                        Lname: data.rows.item(i).Lname,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        Cell: data.rows.item(i).Cell,
                        Status: data.rows.item(i).Status,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.OustandingInvoices2Pagination = function (from1) {
        var _this = this;
        var total = 0;
        var time = new Date();
        // time.setDate(time.getDate() - 15);
        var current = this.datePipe.transform(time, 'dd MMM yyyy');
        var a = Math.round((new Date(current)).getTime() / 1000);
        // alert('current:' + current + ' = ' + a);
        this.database.executeSql('SELECT * From invoices', []).then(function (data1) {
            // total = data1.rows.length;
            console.log('data from' + data1.rows.length);
            total = data1.rows.length;
        });
        return this.database.executeSql('Select invoices.Iid,invoices.AccountId,invoices.Cid,invoices.Name,invoices.CreateDate,invoices.Terms,invoices.DueDate,invoices.Subtotal,invoices.Discount,invoices.Total,invoices.Message,invoices.Status,invoices.Sync,clients.Fname,clients.Shop,clients.City,clients.Lname,clients.BillingAddress,clients.Cell from invoices,clients WHERE invoices.DueDate>=? AND invoices.Status=1  AND invoices.Cid=clients.Cid ORDER BY invoices.Iid DESC limit ?, 10', [a, from1]).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    var z = new Date(parseInt(data.rows.item(i).CreateDate) * 1000).toString();
                    var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy h:mm a');
                    var y = new Date(parseInt(data.rows.item(i).DueDate) * 1000).toString();
                    var DueDate = _this.datePipe.transform(y, 'dd MMM yyyy');
                    Pos.push({
                        Total1: total,
                        Iid: data.rows.item(i).Iid,
                        AccountId: data.rows.item(i).AccountId,
                        Cid: data.rows.item(i).Cid,
                        Name: data.rows.item(i).Name,
                        CreateDate: CreateDate,
                        Terms: data.rows.item(i).Terms,
                        DueDate: DueDate,
                        Subtotal: data.rows.item(i).Subtotal,
                        Discount: data.rows.item(i).Discount,
                        Total: data.rows.item(i).Total,
                        Message: data.rows.item(i).Message,
                        Fname: data.rows.item(i).Fname,
                        Shop: data.rows.item(i).Shop,
                        City: data.rows.item(i).City,
                        Lname: data.rows.item(i).Lname,
                        BillingAddress: data.rows.item(i).BillingAddress,
                        Cell: data.rows.item(i).Cell,
                        Status: data.rows.item(i).Status,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getSalesByMonth = function (year) {
        var all = [];
        var current = new Date();
        var currentmonth = current.getMonth() + 1;
        var first1 = '';
        var last1 = '';
        for (var i = 0; i < currentmonth - 1; i++) {
            var firstdayofmonth_1 = new Date(new Date().getFullYear(), i, 1);
            first1 = this.datePipe.transform(firstdayofmonth_1, 'dd MMM yyyy');
            var lastdayofmonth_1 = new Date(new Date().getFullYear(), i + 1, 0);
            last1 = this.datePipe.transform(lastdayofmonth_1, 'dd MMM yyyy');
            var a_1 = Math.round((new Date(first1)).getTime() / 1000);
            var b_1 = Math.round((new Date(last1)).getTime() / 1000);
            console.log('a: ' + a_1 + '\nb :' + b_1);
            // if (i === currentmonth) {
            // } else {
            // }
            console.log('a: ' + a_1 + '\nb :' + b_1);
            // alert('a: ' + a + '\nb :' + b);
            var items1_1 = [];
            // tslint:disable-next-line: max-line-length
            this.database.executeSql('SELECT SUM(CASE WHEN IsCredit=0 THEN Amount ELSE 0 END) AS Total,SUM(CASE WHEN IsCredit=1 THEN Amount ELSE 0 END) AS Paid FROM tblledger WHERE Date  between ? and ?', [a_1, b_1]).then(function (data1) {
                var items = [];
                if (data1.rows.length > 0) {
                    for (var i_87 = 0; i_87 < data1.rows.length; i_87++) {
                        if (data1.rows.item(i_87).Total === null && data1.rows.item(i_87).Paid === null) {
                            all.push({
                                Total: 0,
                                Paid: 0,
                            });
                        }
                        else if (data1.rows.item(i_87).Total === null && data1.rows.item(i_87).Paid != null) {
                            all.push({
                                Total: 0,
                                Paid: data1.rows.item(i_87).Paid,
                            });
                        }
                        else if (data1.rows.item(i_87).Paid === null && data1.rows.item(i_87).Total != null) {
                            all.push({
                                Total: data1.rows.item(i_87).Total,
                                Paid: 0,
                            });
                        }
                        else {
                            all.push({
                                Total: data1.rows.item(i_87).Total,
                                Paid: data1.rows.item(i_87).Paid,
                            });
                        }
                    }
                }
                console.log(items);
                // alert('befor:' + items.length)
                return items;
            });
        }
        var firstdayofmonth = new Date(new Date().getFullYear(), currentmonth, 1);
        first1 = this.datePipe.transform(firstdayofmonth, 'dd MMM yyyy');
        var lastdayofmonth = new Date(new Date().getFullYear(), currentmonth + 1, 0);
        last1 = this.datePipe.transform(lastdayofmonth, 'dd MMM yyyy');
        var a = Math.round((new Date(first1)).getTime() / 1000);
        var b = Math.round((new Date(last1)).getTime() / 1000);
        console.log('a: ' + a + '\nb :' + b);
        // alert('a: ' + a + '\nb :' + b);
        var items1 = [];
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('SELECT SUM(CASE WHEN IsCredit=0 THEN Amount ELSE 0 END) AS Total,SUM(CASE WHEN IsCredit=1 THEN Amount ELSE 0 END) AS Paid FROM tblledger WHERE Date  between ? and ?', [a, b]).then(function (data1) {
            var items = [];
            if (data1.rows.length > 0) {
                for (var i = 0; i < data1.rows.length; i++) {
                    if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid === null) {
                        all.push({
                            Total: 0,
                            Paid: 0,
                        });
                    }
                    else if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid != null) {
                        all.push({
                            Total: 0,
                            Paid: data1.rows.item(i).Paid,
                        });
                    }
                    else if (data1.rows.item(i).Paid === null && data1.rows.item(i).Total != null) {
                        all.push({
                            Total: data1.rows.item(i).Total,
                            Paid: 0,
                        });
                    }
                    else {
                        all.push({
                            Total: data1.rows.item(i).Total,
                            Paid: data1.rows.item(i).Paid,
                        });
                    }
                }
            }
            console.log(all);
            return all;
        });
    };
    SyncService.prototype.getsales = function (start, end, currency) {
        var _this = this;
        // alert('stat : ' + start + 'end: ' + end)
        var a = Math.round((new Date(start)).getTime() / 1000);
        var b = Math.round((new Date(end)).getTime() / 1000);
        return this.database.executeSql('SELECT Date,SUM(CASE WHEN IsCredit=0 THEN Amount ELSE 0 END) AS Total,SUM(CASE WHEN IsCredit=1 THEN Amount ELSE 0 END) AS Paid FROM tblledger WHERE Date  between ? and ? ', [a, b]).then(function (data1) {
            var items = [];
            if (data1.rows.length > 0) {
                for (var i = 0; i < data1.rows.length; i++) {
                    if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid === null) {
                        items.push({
                            Date: '-',
                            Total: '-',
                            Paid: '-',
                        });
                    }
                    else if (data1.rows.item(i).Total === null && data1.rows.item(i).Paid != null) {
                        var z = new Date(parseInt(data1.rows.item(i).Date) * 1000).toString();
                        var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy');
                        items.push({
                            Date: CreateDate,
                            Total: currency + 0,
                            Paid: currency + data1.rows.item(i).Paid,
                        });
                    }
                    else if (data1.rows.item(i).Paid === null && data1.rows.item(i).Total != null) {
                        var z = new Date(parseInt(data1.rows.item(i).Date) * 1000).toString();
                        var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy');
                        items.push({
                            Date: CreateDate,
                            Total: currency + data1.rows.item(i).Total,
                            Paid: currency + 0,
                        });
                    }
                    else {
                        var z = new Date(parseInt(data1.rows.item(i).Date) * 1000).toString();
                        var CreateDate = _this.datePipe.transform(z, 'dd MMM yyyy');
                        items.push({
                            Date: CreateDate,
                            Total: currency + data1.rows.item(i).Total,
                            Paid: currency + data1.rows.item(i).Paid,
                        });
                    }
                }
            }
            else {
                items.push({
                    Date: '-',
                    Total: '-',
                    Paid: '-',
                });
            }
            console.log('thisone: ' + items[0].Paid);
            return items;
        });
    };
    SyncService.prototype.getDashbardFiguers = function () {
        var time = new Date();
        var current = this.datePipe.transform(time, 'dd MMM yyyy');
        var a = Math.round((new Date(current)).getTime() / 1000);
        // alert('current:' + current + ' = ' + a);
        return this.database.executeSql('Select SUM(CASE WHEN invoices.DueDate>=? THEN invoices.Total ELSE 0 END) AS Outstanding,SUM(CASE WHEN invoices.DueDate<? THEN invoices.Total ELSE 0 END) AS Overdue from invoices WHERE invoices.Status=1 ', [a, a]).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                // alert('id'+ data.rows.item(0).Outstanding + '\no' + data.rows.item(0).Overdue );
                if (data.rows.item(0).Outstanding !== null && data.rows.item(0).Overdue !== null) {
                    for (var i = 0; i < data.rows.length; i++) {
                        Pos.push({
                            Outstanding: data.rows.item(i).Outstanding,
                            Overdue: data.rows.item(i).Overdue,
                        });
                    }
                }
                else {
                    Pos.push({
                        Outstanding: 0,
                        Overdue: 0,
                    });
                }
            }
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.invoiceMarkAsPaid = function (InvoiceID) {
        // tslint:disable-next-line: max-line-length
        return this.database.executeSql('Update invoices SET Status=3,Sync=2 WHERE Iid=?', [InvoiceID])
            .then(function (data) {
            return 1;
        }, function (err) {
            console.log('Error: ', err);
            return err;
        });
    };
    SyncService.prototype.getDashbardFiguers1 = function () {
        var time = new Date();
        var Month = time.setDate(time.getDate() - 30);
        var current = this.datePipe.transform(Month, 'dd MMM yyyy');
        var a = Math.round((new Date(current)).getTime() / 1000);
        // alert('current:' + current + ' = ' + a);
        console.log(a);
        return this.database.executeSql('Select SUM(CASE WHEN invoices.CreateDate>=? THEN invoices.Total ELSE 0 END) AS Outstanding,SUM(CASE WHEN invoices.DueDate<? THEN invoices.Total ELSE 0 END) AS Overdue from invoices ', [a, a]).then(function (data) {
            var Pos = [];
            if (data.rows.length > 0) {
                alert('id' + data.rows.item(0).Outstanding + '\no' + data.rows.item(0).Overdue);
                if (data.rows.item(0).Outstanding !== null && data.rows.item(0).Overdue !== null) {
                    for (var i = 0; i < data.rows.length; i++) {
                        Pos.push({
                            Outstanding: data.rows.item(i).Outstanding,
                            Overdue: 0,
                        });
                    }
                }
                else {
                    Pos.push({
                        Outstanding: 0,
                        Overdue: 0,
                    });
                }
            }
            console.log(Pos);
            return Pos;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.checKEmail = function (email) {
        return this.database.executeSql('SELECT * from tblUsers where email=? AND bActive=1', [email]).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                // alert('yes')
                items.push({
                    success: 1,
                    ID: data.rows.item(0).ID,
                });
            }
            else {
                // alert('no')
                items.push({
                    success: 0,
                    ID: 0,
                });
            }
            console.log('le' + data.rows.length);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getUsersFromServer = function () {
        var _this = this;
        var url = this.databaseprovider.getURL();
        this.nativeHttp.setDataSerializer("json");
        var nativeCall = this.nativeHttp.post(url, {
            'Name': 'getAllusers',
        }, {
            'Content-Type': 'application/json',
            'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
        });
        Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
            .subscribe(function (data) {
            console.log('Native data:', data);
            var g = JSON.parse(data.data);
            // alert('respnse = ' + g);
            if (g.success === 1) {
                // alert('success')
                if (typeof g.users !== 'undefined') {
                    console.log('vendors');
                    for (var i = 0; i < 1; i++) {
                        // tslint:disable-next-line: max-line-length
                        var data_69 = [g.users[i].ID, g.users[i].email, g.users[i].name, g.users[i].Active, 1];
                        _this.database.executeSql('SELECT * FROM tblvendors', [])
                            .then(function (data) {
                            console.log('add po');
                        }).then(function () {
                            if (typeof g.users !== 'undefined') {
                                console.log('POS modified');
                                for (var i_88 = 0; i_88 < g.users.length; i_88++) {
                                    var data_70 = [g.users[i_88].ID, g.users[i_88].email, g.users[i_88].name, g.users[i_88].Active, 1];
                                    console.log(data_70);
                                    _this.database.executeSql('INSERT INTO  tblUsers (ID,email,name,bActive,Sync) VALUES (?,?,?,?,?)', data_70)
                                        .then(function (data) {
                                        console.log('add po modified');
                                    });
                                }
                            }
                        }).then(function () {
                            if (typeof g.acl !== 'undefined') {
                                console.log('POS');
                                for (var i_89 = 0; i_89 < g.acl.length; i_89++) {
                                    // tslint:disable-next-line: max-line-length
                                    var data_71 = [g.acl[i_89].ID, g.acl[i_89].name, g.acl[i_89].userId, g.acl[i_89].bValue, 1];
                                    console.log('here7-' + data_71);
                                    _this.database.executeSql('INSERT INTO  tblacl (ID,name,userId,bValue,Sync) VALUES (?,?,?,?,?)', data_71)
                                        .then(function (data) {
                                        console.log('add po');
                                    });
                                }
                            }
                        });
                    }
                    return g.users;
                }
                return 1;
            }
            else {
                alert('fail');
                return 0;
            }
            return 1;
        });
        return 1;
    };
    SyncService.prototype.updateChecks = function (IDS, Sync, Values) {
        // alert('name = ' + IDS[1] + 'iscj = ' + Values[1])
        // for (let i=0; i<IDS.length;i++) {
        // }
        // alert('ID = ' + IDS + 'Sync = ' + Sync + 'Value = ' + Values)
        return this.database.executeSql('UPDATE tblacl Set bValue=?,Sync=? where ID=?', [Values, Sync, IDS]).then(function (data) {
            console.log(data);
            return data;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.syncUpdatedAcl = function () {
        return this.database.executeSql('SELECT * FROM tblacl where Sync=2', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        name: data.rows.item(i).name,
                        bValue: data.rows.item(i).bValue,
                    });
                }
            }
            // alert('active' + items.length)
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updateSyncedAcl = function (IDs) {
        for (var i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE tblacl Set Sync=1 where ID=?', [IDs[i]]).then(function (data) {
                console.log(data);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return [];
            });
        }
    };
    SyncService.prototype.syncAddedacl = function () {
        return this.database.executeSql('SELECT * FROM tblacl where Sync=0', []).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        name: data.rows.item(i).name,
                        userId: data.rows.item(i).userId,
                        bValue: data.rows.item(i).bValue,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.updateSyncedacl = function (IDs) {
        for (var i = 0; i < IDs.length; i++) {
            return this.database.executeSql('UPDATE  tblacl Set Sync=1 where ID=?', [IDs[i]]).then(function (data) {
                console.log(data);
                return data;
            }, function (err) {
                console.log('Error: ', err);
                return [];
            });
        }
    };
    SyncService.prototype.getAllPagesOfUser = function (id) {
        return this.database.executeSql('SELECT * FROM tblacl where userId=?', [id]).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        name: data.rows.item(i).name,
                        userId: data.rows.item(i).userId,
                        bValue: data.rows.item(i).bValue,
                        Sync: data.rows.item(i).Sync,
                    });
                }
            }
            ;
            // alert('acl = ' + items.length)
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getMenuPages = function (id, userEmail) {
        var _this = this;
        var invioces = 0;
        var pos = 0;
        var reports = 0;
        var clients = 0;
        var users = 0;
        var logs = 0;
        var vendors = 0;
        var items1 = 0;
        var expense = 0;
        // if (userEmail === 'adnan@rizwanali.pk') {
        //   users = 1;
        // } 
        if (userEmail.indexOf('@rizwanali.pk') >= 0) {
            users = 1;
            this.databaseprovider.setClients(users);
        }
        return this.database.executeSql('SELECT * FROM tblacl where userId=?', [id]).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        ID: data.rows.item(i).ID,
                        name: data.rows.item(i).name,
                        bValue: data.rows.item(i).bValue,
                    });
                    if (data.rows.item(i).name === 'Client Display') {
                        clients = data.rows.item(i).bValue;
                        // this.databaseprovider.setClients(data.rows.item(i).bValue);
                    }
                    if (data.rows.item(i).name === 'Invoice Display') {
                        invioces = data.rows.item(i).bValue;
                    }
                    if (data.rows.item(i).name === 'PO Display') {
                        pos = data.rows.item(i).bValue;
                    }
                    if (data.rows.item(i).name === 'Item Display') {
                        items1 = data.rows.item(i).bValue;
                        //  this.databaseprovider.setItems(data.rows.item(i).bValue);
                    }
                    if (data.rows.item(i).name === 'Vendor Display') {
                        vendors = data.rows.item(i).bValue;
                    }
                    if (data.rows.item(i).name === 'Log Display') {
                        logs = data.rows.item(i).bValue;
                        _this.databaseprovider.setItems(data.rows.item(i).bValue);
                    }
                    if (data.rows.item(i).name === 'Report Display') {
                        reports = data.rows.item(i).bValue;
                    }
                    if (data.rows.item(i).name === 'Expense Display') {
                        expense = data.rows.item(i).bValue;
                    }
                }
            }
            var pages = [
                {
                    title: 'Dashboard',
                    url: '/menu/dashboard',
                    icon: 'clock',
                    bValue: 1
                },
                {
                    title: 'Clients',
                    url: '/menu/clients',
                    icon: 'person-add',
                    bValue: clients
                },
                {
                    title: 'Invoice',
                    url: '/menu/invoice',
                    icon: 'paper',
                    bValue: invioces,
                    childern: [
                        {
                            title: 'Trash',
                            url: '/menu/trash-invoices',
                            icon: 'trash'
                        },
                    ]
                },
                {
                    title: 'Purchased Orders',
                    url: '/menu/purchased-orders',
                    icon: 'cart',
                    bValue: pos,
                    childern: [
                        {
                            title: 'Trash',
                            url: '/menu/trash-purchased-orders',
                            icon: 'trash'
                        },
                    ]
                },
                {
                    title: 'Vendors',
                    url: '/menu/vendors',
                    icon: 'person',
                    bValue: vendors,
                },
                {
                    title: 'Items',
                    url: '/menu/items',
                    icon: 'logo-dropbox',
                    bValue: items1,
                },
                // {
                //   title: 'Users',
                //   url: '/menu/users',
                //   icon: 'person',
                //   bValue: users,
                // },
                // {
                //   title: 'Credit Memos',
                //   url: '/menu/creditmemos',
                //   icon: 'copy',
                //   childern: [
                //     {
                //       title: 'Trash',
                //       url: '/menu/trash-credit-memos',
                //       icon: 'trash'
                //     },
                //   ]
                // },
                {
                    title: 'Expenses',
                    url: '/menu/expenses',
                    icon: 'book',
                    bValue: expense,
                },
                {
                    title: 'Reports',
                    url: '/menu/reports',
                    icon: 'copy',
                    bValue: reports,
                },
                // {
                //   title: 'Reports',
                //   url: '/menu/reports',
                //   icon: 'browsers',
                // },
                {
                    title: 'Logout',
                    // url: '/menu/settings',
                    icon: 'log-out'
                }
            ];
            // let pages = [
            //   {
            //     title: 'Dashboard',
            //     url: '/menu/dashboard',
            //     icon: 'clock',
            //     bValue: 1
            //   },
            //   {
            //     title: 'Vendors',
            //     url: '/menu/vendors',
            //     icon: 'person-add',
            //     bValue: vendors
            //   },
            //   {
            //     title: 'IRFarms Clients',
            //     url: '/menu/clients',
            //     icon: 'person',
            //     bValue: clients
            //   },
            //   {
            //     title: 'Orders',
            //     url: '/menu/invoice',
            //     icon: 'paper',
            //     childern: [
            //       {
            //         title: 'Trash',
            //         url: '/menu/trash-invoices',
            //         icon: 'trash'
            //       },
            //     ],
            //     bValue: orders
            //   },
            //   // {
            //   //   title: 'Users',
            //   //   url: '/menu/users',
            //   //   icon: 'person',
            //   //   bValue: users
            //   // },
            //   {
            //     title: 'System Logs',
            //     url: '/menu/logs',
            //     icon: 'albums',
            //     bValue: logs
            //   },
            //   {
            //     title: 'Expenses/Salaries',
            //     url: '/menu/expenses',
            //     icon: 'book',
            //     bValue: expense
            //   },
            //   {
            //     title: 'Reports',
            //     url: '/menu/reports',
            //     icon: 'copy',
            //     bValue: 1
            //   },
            // ];
            // alert('active' + items.length)
            console.log(items);
            return pages;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getbValue = function (id, name) {
        return this.database.executeSql('SELECT bValue FROM tblacl where userId=? AND name=?', [id, name]).then(function (data) {
            var items = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    items.push({
                        bValue: data.rows.item(i).bValue,
                    });
                }
            }
            // alert('active' + items.length)
            console.log(items);
            return items;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.syncLocalToServer = function () {
        var _this = this;
        console.log('local to server');
        this.syncAddedItems().then(function (data) {
            if (data.length > 0) {
                var IDs_1 = [];
                for (var i = 0; i < data.length; i++) {
                    IDs_1[i] = data[i].itemid;
                }
                var url = _this.databaseprovider.getURL();
                _this.nativeHttp.setDataSerializer("json");
                var nativeCall = _this.nativeHttp.post(url, {
                    'Name': 'syncAddedItems',
                    "Items": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                    .subscribe(function (data) {
                    console.log('Native data:', data);
                    var g = JSON.parse(data.data);
                    if (g.success === 1) {
                        _this.updateSyncedItems(IDs_1).then(function (data) {
                        });
                    }
                    else {
                    }
                }, function (err) {
                    console.log('JS call error-4', err);
                    var error = JSON.parse(err.error);
                    console.log('Native data:', JSON.parse(error));
                });
            }
        });
        this.syncUpdatedItems().then(function (data) {
            if (data.length > 0) {
                var IDs_2 = [];
                for (var i = 0; i < data.length; i++) {
                    IDs_2[i] = data[i].itemid;
                }
                var url = _this.databaseprovider.getURL();
                _this.nativeHttp.setDataSerializer("json");
                var nativeCall = _this.nativeHttp.post(url, {
                    'Name': 'syncUpdatedItems',
                    "Items": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                    .subscribe(function (data) {
                    console.log('Native data:', data);
                    var g = JSON.parse(data.data);
                    if (g.success === 1) {
                        //alert('success Updated');
                        _this.updateSyncedItems(IDs_2).then(function (data) {
                        });
                    }
                    else {
                    }
                }, function (err) {
                    console.log('JS call error-5', err);
                    var error = JSON.parse(err.error);
                    console.log('Native data:', JSON.parse(error));
                });
            }
        });
        this.syncAddedClients().then(function (data) {
            if (data.length > 0) {
                var IDs_3 = [];
                for (var i = 0; i < data.length; i++) {
                    IDs_3[i] = data[i].Cid;
                }
                var url = _this.databaseprovider.getURL();
                _this.nativeHttp.setDataSerializer("json");
                var nativeCall = _this.nativeHttp.post(url, {
                    'Name': 'syncAddedClients',
                    "Clients": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                    .subscribe(function (data) {
                    console.log('Native data:', data);
                    var g = JSON.parse(data.data);
                    if (g.success === 1) {
                        _this.updateSyncedClients(IDs_3).then(function (data) {
                        });
                    }
                    else {
                    }
                }, function (err) {
                    console.log('JS call error-6', err);
                    var error = JSON.parse(err.error);
                    console.log('Native data:', JSON.parse(error));
                });
            }
        });
        this.syncUpdatedClients().then(function (data) {
            if (data.length > 0) {
                var IDs_4 = [];
                for (var i = 0; i < data.length; i++) {
                    IDs_4[i] = data[i].Cid;
                }
                var url = _this.databaseprovider.getURL();
                _this.nativeHttp.setDataSerializer("json");
                var nativeCall = _this.nativeHttp.post(url, {
                    'Name': 'syncUpdatedClients',
                    "Clients": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                    .subscribe(function (data) {
                    console.log('Native data:', data);
                    var g = JSON.parse(data.data);
                    if (g.success === 1) {
                        _this.updateSyncedClients(IDs_4).then(function (data) {
                        });
                    }
                    else {
                    }
                }, function (err) {
                    console.log('JS call error-7', err);
                    var error = JSON.parse(err.error);
                    console.log('Native data:', JSON.parse(error));
                });
            }
        });
        this.syncAddedVendors().then(function (data) {
            if (data.length > 0) {
                var IDs_5 = [];
                for (var i = 0; i < data.length; i++) {
                    IDs_5[i] = data[i].ID;
                }
                var url = _this.databaseprovider.getURL();
                _this.nativeHttp.setDataSerializer("json");
                var nativeCall = _this.nativeHttp.post(url, {
                    'Name': 'syncAddedVendors',
                    "Vendors": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                    .subscribe(function (data) {
                    console.log('Native data:', data);
                    var g = JSON.parse(data.data);
                    if (g.success === 1) {
                        _this.updateSyncedVendors(IDs_5).then(function (data) {
                        });
                    }
                    else {
                    }
                }, function (err) {
                    console.log('JS call error-8', err);
                    var error = JSON.parse(err.error);
                    console.log('Native data:', JSON.parse(error));
                });
            }
        });
        this.syncUpdatedVendors().then(function (data) {
            if (data.length > 0) {
                var IDs_6 = [];
                for (var i = 0; i < data.length; i++) {
                    IDs_6[i] = data[i].ID;
                }
                var url = _this.databaseprovider.getURL();
                _this.nativeHttp.setDataSerializer("json");
                var nativeCall = _this.nativeHttp.post(url, {
                    'Name': 'syncUpdatedVendors',
                    "Vendors": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                    .subscribe(function (data) {
                    console.log('Native data:', data);
                    var g = JSON.parse(data.data);
                    if (g.success === 1) {
                        _this.updateSyncedVendors(IDs_6).then(function (data) {
                        });
                    }
                    else {
                    }
                }, function (err) {
                    console.log('JS call error-9', err);
                    var error = JSON.parse(err.error);
                    console.log('Native data:', JSON.parse(error));
                });
            }
        });
        this.syncAddedPOS().then(function (data) {
            if (data.length > 0) {
                var IDs_7 = [];
                for (var i = 0; i < data.length; i++) {
                    IDs_7[i] = data[i].ID;
                }
                var url = _this.databaseprovider.getURL();
                ;
                _this.nativeHttp.setDataSerializer("json");
                var nativeCall = _this.nativeHttp.post(url, {
                    'Name': 'syncAddedPOs',
                    "POS": data
                }, {
                    'Content-Type': 'application/json',
                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                    .subscribe(function (data) {
                    console.log('Native data:', data);
                    var g = JSON.parse(data.data);
                    if (g.success === 1) {
                        _this.updateSyncedPOS(IDs_7).then(function (data) {
                        });
                        _this.syncAddedPOsItems().then(function (data) {
                            if (data.length > 0) {
                                var IDs_8 = [];
                                for (var i = 0; i < data.length; i++) {
                                    IDs_8[i] = data[i].ID;
                                }
                                var url_1 = _this.databaseprovider.getURL();
                                _this.nativeHttp.setDataSerializer("json");
                                var nativeCall_1 = _this.nativeHttp.post(url_1, {
                                    'Name': 'syncAddedPOsItems',
                                    "POSItems": data
                                }, {
                                    'Content-Type': 'application/json',
                                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                });
                                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall_1).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                                    .subscribe(function (data) {
                                    console.log('Native data:', data);
                                    var g = JSON.parse(data.data);
                                    if (g.success === 1) {
                                        _this.updateSyncedPOSItems(IDs_8).then(function (data) {
                                        });
                                        _this.syncAddedLedgerVendor().then(function (data) {
                                            if (data.length > 0) {
                                                var IDs_9 = [];
                                                for (var i = 0; i < data.length; i++) {
                                                    IDs_9[i] = data[i].ID;
                                                }
                                                var url_2 = _this.databaseprovider.getURL();
                                                ;
                                                _this.nativeHttp.setDataSerializer("json");
                                                var nativeCall_2 = _this.nativeHttp.post(url_2, {
                                                    'Name': 'syncAddedLedgerVendor',
                                                    "Payments": data
                                                }, {
                                                    'Content-Type': 'application/json',
                                                    'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                                });
                                                Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall_2).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                                                    .subscribe(function (data) {
                                                    console.log('Native data:', data);
                                                    var g = JSON.parse(data.data);
                                                    if (g.success === 1) {
                                                        _this.updateSyncedAddedLedgerVendors(IDs_9).then(function (data) {
                                                        });
                                                    }
                                                    else {
                                                    }
                                                }, function (err) {
                                                    console.log('JS call error-10', err);
                                                    var error = JSON.parse(err.error);
                                                    console.log('Native data:', JSON.parse(error));
                                                });
                                            }
                                        });
                                    }
                                    else {
                                    }
                                }, function (err) {
                                    console.log('JS call error-11', err);
                                    var error = JSON.parse(err.error);
                                    console.log('Native data:', JSON.parse(error));
                                });
                            }
                        });
                    }
                    else {
                    }
                }, function (err) {
                    console.log('JS call error-12', err);
                    var error = JSON.parse(err.error);
                    console.log('Native data:', JSON.parse(error));
                });
            }
        }).then(function (a) {
            _this.syncAddedInvoices().then(function (data) {
                if (data.length > 0) {
                    var IDs_10 = [];
                    for (var i = 0; i < data.length; i++) {
                        IDs_10[i] = data[i].Iid;
                    }
                    var url = _this.databaseprovider.getURL();
                    ;
                    _this.nativeHttp.setDataSerializer("json");
                    var nativeCall = _this.nativeHttp.post(url, {
                        'Name': 'syncAddedInvoices',
                        "Invoices": data
                    }, {
                        'Content-Type': 'application/json',
                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                    });
                    Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                        .subscribe(function (data) {
                        console.log('Native data:', data);
                        var g = JSON.parse(data.data);
                        if (g.success === 1) {
                            _this.updateSyncedInvoices(IDs_10).then(function (data) {
                            });
                            _this.syncAddedInvoicesItems().then(function (data) {
                                if (data.length > 0) {
                                    var IDs_11 = [];
                                    for (var i = 0; i < data.length; i++) {
                                        IDs_11[i] = data[i].Iiid;
                                    }
                                    var url_3 = _this.databaseprovider.getURL();
                                    ;
                                    _this.nativeHttp.setDataSerializer("json");
                                    var nativeCall_3 = _this.nativeHttp.post(url_3, {
                                        'Name': 'syncAddedInvoicesItems',
                                        "InvoiceItems": data
                                    }, {
                                        'Content-Type': 'application/json',
                                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                    });
                                    Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall_3).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                                        .subscribe(function (data) {
                                        console.log('Native data:', data);
                                        var g = JSON.parse(data.data);
                                        if (g.success === 1) {
                                            _this.updateSyncedInvoicesItems(IDs_11).then(function (data) {
                                            });
                                            _this.syncAddedLedger().then(function (data) {
                                                if (data.length > 0) {
                                                    var IDs_12 = [];
                                                    for (var i = 0; i < data.length; i++) {
                                                        IDs_12[i] = data[i].ID;
                                                    }
                                                    var url_4 = _this.databaseprovider.getURL();
                                                    ;
                                                    _this.nativeHttp.setDataSerializer("json");
                                                    var nativeCall_4 = _this.nativeHttp.post(url_4, {
                                                        'Name': 'syncAddedLedger',
                                                        "Payments": data
                                                    }, {
                                                        'Content-Type': 'application/json',
                                                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                                    });
                                                    Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall_4).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                                                        .subscribe(function (data) {
                                                        console.log('Native data:', data);
                                                        var g = JSON.parse(data.data);
                                                        if (g.success === 1) {
                                                            _this.updateSyncedAddedLedger(IDs_12).then(function (data) {
                                                            });
                                                        }
                                                        else {
                                                        }
                                                    }, function (err) {
                                                        console.log('JS call error-13', err);
                                                        var error = JSON.parse(err.error);
                                                        console.log('Native data:', JSON.parse(error));
                                                    });
                                                }
                                            });
                                        }
                                        else {
                                        }
                                    }, function (err) {
                                        console.log('JS call error-14', err);
                                        var error = JSON.parse(err.error);
                                        console.log('Native data:', JSON.parse(error));
                                    });
                                }
                            });
                        }
                        else {
                        }
                    }, function (err) {
                        console.log('JS call error-15', err);
                        var error = JSON.parse(err.error);
                        console.log('Native data:', JSON.parse(error));
                    });
                }
            });
        });
        this.syncAddedLog().then(function (data8) {
        }).then(function (data11) {
            _this.syncAddedUsers().then(function (data) {
                if (data.length > 0) {
                    var IDs_13 = [];
                    for (var i = 0; i < data.length; i++) {
                        IDs_13[i] = data[i].itemid;
                    }
                    var url = _this.databaseprovider.getURL();
                    ;
                    _this.nativeHttp.setDataSerializer("json");
                    var nativeCall = _this.nativeHttp.post(url, {
                        'Name': 'syncAddedUsers',
                        "Items": data
                    }, {
                        'Content-Type': 'application/json',
                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                    });
                    Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                        .subscribe(function (data) {
                        console.log('Native data:', data);
                        var g = JSON.parse(data.data);
                        if (g.success === 1) {
                            // alert('success');
                            _this.updateSyncedUsers(IDs_13).then(function (data) {
                            });
                            _this.syncAddedacl().then(function (data) {
                                if (data.length > 0) {
                                    var IDs_14 = [];
                                    for (var i = 0; i < data.length; i++) {
                                        IDs_14[i] = data[i].ID;
                                    }
                                    var url_5 = _this.databaseprovider.getURL();
                                    ;
                                    _this.nativeHttp.setDataSerializer("json");
                                    var nativeCall_5 = _this.nativeHttp.post(url_5, {
                                        'Name': 'syncAddedacl',
                                        "Items": data
                                    }, {
                                        'Content-Type': 'application/json',
                                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                                    });
                                    Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall_5).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                                        .subscribe(function (data) {
                                        console.log('Native data:', data);
                                        var g = JSON.parse(data.data);
                                        if (g.success === 1) {
                                            // alert('success');
                                            _this.updateSyncedacl(IDs_14).then(function (data) {
                                            });
                                        }
                                        else {
                                            // alert('failed');
                                        }
                                        // this.initializeItems();
                                    }, function (err) {
                                        console.log('JS call error-16', err);
                                        var error = JSON.parse(err.error);
                                        // alert(error.message);
                                        console.log('Native data:', JSON.parse(error));
                                    });
                                }
                            });
                        }
                        else {
                            // alert('failed');
                        }
                        // this.initializeItems();
                    }, function (err) {
                        console.log('JS call error-17', err);
                        var error = JSON.parse(err.error);
                        // alert(error.message);
                        console.log('Native data:', JSON.parse(error));
                    });
                }
            });
        }).then(function () {
            _this.syncUpdatedAcl().then(function (data) {
                if (data.length > 0) {
                    var IDs_15 = [];
                    for (var i = 0; i < data.length; i++) {
                        IDs_15[i] = data[i].ID;
                    }
                    var url = _this.databaseprovider.getURL();
                    if (data.length > 0) {
                        ;
                        _this.nativeHttp.setDataSerializer("json");
                        var nativeCall = _this.nativeHttp.post(url, {
                            'Name': 'syncUpdatedAcl',
                            "Items": data
                        }, {
                            'Content-Type': 'application/json',
                            'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                        });
                        Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                            .subscribe(function (data) {
                            console.log('Native data:', data);
                            var g = JSON.parse(data.data);
                            if (g.success === 1) {
                                //  alert('success');
                                _this.updateSyncedAcl(IDs_15).then(function (data) {
                                });
                            }
                            else {
                                // alert('failed');
                            }
                            // this.initializeItems();
                        }, function (err) {
                            console.log('JS call error-18', err);
                            var error = JSON.parse(err.error);
                            //alert(error.message);
                            console.log('Native data:', JSON.parse(error));
                        });
                    }
                }
            });
        }).then(function () {
            _this.syncUpdatedUsers().then(function (data) {
                if (data.length > 0) {
                    var IDs_16 = [];
                    for (var i = 0; i < data.length; i++) {
                        IDs_16[i] = data[i].itemid;
                    }
                    var url = _this.databaseprovider.getURL();
                    ;
                    _this.nativeHttp.setDataSerializer("json");
                    var nativeCall = _this.nativeHttp.post(url, {
                        'Name': 'syncUpdatedUsers',
                        "Items": data
                    }, {
                        'Content-Type': 'application/json',
                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                    });
                    Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                        .subscribe(function (data) {
                        console.log('Native data:', data);
                        var g = JSON.parse(data.data);
                        if (g.success === 1) {
                            //alert('success Updated');
                            _this.updateSyncedUsers(IDs_16).then(function (data) {
                            });
                        }
                        else {
                            //  alert('failed');
                        }
                        // this.initializeItems();
                    }, function (err) {
                        console.log('JS call error-19', err);
                        var error = JSON.parse(err.error);
                        // alert(error.message);
                        console.log('Native data:', JSON.parse(error));
                    });
                }
            });
        }).then(function (data9) {
            _this.syncUpdatedExpenses().then(function (data) {
                if (data.length > 0) {
                    var IDs_17 = [];
                    for (var i = 0; i < data.length; i++) {
                        IDs_17[i] = data[i].ID;
                    }
                    var url = _this.databaseprovider.getURL();
                    _this.nativeHttp.setDataSerializer("json");
                    var nativeCall = _this.nativeHttp.post(url, {
                        'Name': 'syncDeletedExpenses',
                        "Expenses": data
                    }, {
                        'Content-Type': 'application/json',
                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                    });
                    Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                        .subscribe(function (data) {
                        console.log('Native data:', data);
                        var g = JSON.parse(data.data);
                        if (g.success === 1) {
                            _this.updateSyncedExpenses(IDs_17);
                        }
                        else {
                        }
                    }, function (err) {
                        console.log('JS call error-20', err);
                        var error = JSON.parse(err.error);
                        console.log('Native data:', JSON.parse(error));
                    });
                }
            });
        }).then(function () {
            _this.syncAddedExpenses().then(function (data) {
                if (data.length > 0) {
                    var IDs_18 = [];
                    for (var i = 0; i < data.length; i++) {
                        IDs_18[i] = data[i].ID;
                    }
                    var url = _this.databaseprovider.getURL();
                    _this.nativeHttp.setDataSerializer("json");
                    var nativeCall = _this.nativeHttp.post(url, {
                        'Name': 'syncAddedExpenses',
                        "Expenses": data
                    }, {
                        'Content-Type': 'application/json',
                        'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
                    });
                    Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
                        .subscribe(function (data) {
                        console.log('Native data:', data);
                        var g = JSON.parse(data.data);
                        if (g.success === 1) {
                            _this.updateSyncedExpenses(IDs_18);
                        }
                        else {
                        }
                    }, function (err) {
                        console.log('JS call error-21', err);
                        var error = JSON.parse(err.error);
                        // alert(error.message);
                        console.log('Native data:', JSON.parse(error));
                    });
                }
            });
        });
    };
    SyncService.prototype.getAllCategories = function () {
        return this.database.executeSql('SELECT * FROM categories where active=1 ORDER BY catid DESC', []).then(function (data) {
            var logs = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    logs.push({
                        catid: data.rows.item(i).catid,
                        name: data.rows.item(i).name,
                        active: data.rows.item(i).active,
                    });
                }
            }
            console.log(logs);
            return logs;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.getAllSlides = function () {
        return this.database.executeSql('SELECT * FROM tblslides where bActive=1 ORDER BY slideNo ASC', []).then(function (data) {
            var logs = [];
            if (data.rows.length > 0) {
                for (var i = 0; i < data.rows.length; i++) {
                    logs.push({
                        Id: data.rows.item(i).Id,
                        slideNo: data.rows.item(i).slideNo,
                        slideHeading: data.rows.item(i).slideHeading,
                        slideText: data.rows.item(i).slideText,
                        slideImage: data.rows.item(i).slideImage,
                        bActive: data.rows.item(i).bActive,
                    });
                    //  alert('image = ' + data.rows.item(i).slideImage);
                }
            }
            console.log(logs);
            return logs;
        }, function (err) {
            console.log('Error: ', err);
            return [];
        });
    };
    SyncService.prototype.syncSlides = function () {
        var _this = this;
        var url = this.databaseprovider.getURL();
        this.nativeHttp.setDataSerializer("json");
        // alert('a')
        var nativeCall = this.nativeHttp.post(url, {
            'Name': 'getAllSlides',
        }, {
            'Content-Type': 'application/json',
            'x-api-key': '28b32377-cd77-44b3-8cbb-a9dc69bfddf4'
        });
        Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["from"])(nativeCall).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["finalize"])(function () { }))
            .subscribe(function (data) {
            console.log('Native data:', data);
            var g = JSON.parse(data.data);
            if (g.success === 1) {
                if (g.success === 1) {
                    console.log('vendors');
                    for (var i = 0; i < 1; i++) {
                        // tslint:disable-next-line: max-line-length
                        _this.database.executeSql('SELECT * FROM tblvendors', [])
                            .then(function (data) {
                            console.log('add po');
                        }).then(function () {
                            if (typeof g.slides !== 'undefined') {
                                console.log('POS');
                                for (var i_90 = 0; i_90 < g.slides.length; i_90++) {
                                    // tslint:disable-next-line: max-line-length
                                    var data_72 = [g.slides[i_90].Id, g.slides[i_90].slideNo, g.slides[i_90].slideHeading, g.slides[i_90].slideText, g.slides[i_90].slideImage, g.slides[i_90].bActive];
                                    _this.database.executeSql('INSERT INTO tblslides (Id,slideNo,slideHeading,slideText,slideImage,bActive) VALUES (?,?,?,?,?,?)', data_72)
                                        .then(function (data) {
                                        console.log('add po');
                                    });
                                }
                            }
                        }).then(function () {
                            _this.router.navigate(['slides']);
                        });
                    }
                    return g.users;
                }
                return 1;
            }
            else {
                alert('fail');
                return 0;
            }
            return 1;
        });
    };
    SyncService.ctorParameters = function () { return [
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["Platform"] },
        { type: _ionic_native_sqlite_porter_ngx__WEBPACK_IMPORTED_MODULE_2__["SQLitePorter"] },
        { type: _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_4__["SQLite"] },
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"] },
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_8__["Storage"] },
        { type: _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_10__["Network"] },
        { type: _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_11__["HTTP"] },
        { type: src_app_services_database_service__WEBPACK_IMPORTED_MODULE_13__["DatabaseService"] },
        { type: _angular_common__WEBPACK_IMPORTED_MODULE_9__["DatePipe"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["LoadingController"] }
    ]; };
    SyncService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_6__["Platform"],
            _ionic_native_sqlite_porter_ngx__WEBPACK_IMPORTED_MODULE_2__["SQLitePorter"],
            _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_4__["SQLite"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"],
            _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_8__["Storage"],
            _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_10__["Network"],
            _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_11__["HTTP"],
            src_app_services_database_service__WEBPACK_IMPORTED_MODULE_13__["DatabaseService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_9__["DatePipe"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["LoadingController"]])
    ], SyncService);
    return SyncService;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
var environment = {
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! C:\wamp64\www\invoice.pk\src\main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main-es5.js.map